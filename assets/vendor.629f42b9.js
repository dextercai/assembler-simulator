var it={exports:{}},F={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rs=Symbol.for("react.element"),gv=Symbol.for("react.portal"),yv=Symbol.for("react.fragment"),vv=Symbol.for("react.strict_mode"),wv=Symbol.for("react.profiler"),Sv=Symbol.for("react.provider"),kv=Symbol.for("react.context"),xv=Symbol.for("react.forward_ref"),Cv=Symbol.for("react.suspense"),Av=Symbol.for("react.memo"),Ev=Symbol.for("react.lazy"),Nh=Symbol.iterator;function Pv(t){return t===null||typeof t!="object"?null:(t=Nh&&t[Nh]||t["@@iterator"],typeof t=="function"?t:null)}var Mm={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},bm=Object.assign,Dm={};function di(t,e,n){this.props=t,this.context=e,this.refs=Dm,this.updater=n||Mm}di.prototype.isReactComponent={};di.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};di.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Tm(){}Tm.prototype=di.prototype;function ic(t,e,n){this.props=t,this.context=e,this.refs=Dm,this.updater=n||Mm}var sc=ic.prototype=new Tm;sc.constructor=ic;bm(sc,di.prototype);sc.isPureReactComponent=!0;var Lh=Array.isArray,Rm=Object.prototype.hasOwnProperty,lc={current:null},Nm={key:!0,ref:!0,__self:!0,__source:!0};function Lm(t,e,n){var r,i={},s=null,l=null;if(e!=null)for(r in e.ref!==void 0&&(l=e.ref),e.key!==void 0&&(s=""+e.key),e)Rm.call(e,r)&&!Nm.hasOwnProperty(r)&&(i[r]=e[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var u=Array(o),a=0;a<o;a++)u[a]=arguments[a+2];i.children=u}if(t&&t.defaultProps)for(r in o=t.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return{$$typeof:Rs,type:t,key:s,ref:l,props:i,_owner:lc.current}}function Ov(t,e){return{$$typeof:Rs,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function oc(t){return typeof t=="object"&&t!==null&&t.$$typeof===Rs}function Mv(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Bh=/\/+/g;function Pu(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Mv(""+t.key):e.toString(36)}function gl(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var l=!1;if(t===null)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case Rs:case gv:l=!0}}if(l)return l=t,i=i(l),t=r===""?"."+Pu(l,0):r,Lh(i)?(n="",t!=null&&(n=t.replace(Bh,"$&/")+"/"),gl(i,e,n,"",function(a){return a})):i!=null&&(oc(i)&&(i=Ov(i,n+(!i.key||l&&l.key===i.key?"":(""+i.key).replace(Bh,"$&/")+"/")+t)),e.push(i)),1;if(l=0,r=r===""?".":r+":",Lh(t))for(var o=0;o<t.length;o++){s=t[o];var u=r+Pu(s,o);l+=gl(s,e,n,u,i)}else if(u=Pv(t),typeof u=="function")for(t=u.call(t),o=0;!(s=t.next()).done;)s=s.value,u=r+Pu(s,o++),l+=gl(s,e,n,u,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return l}function $s(t,e,n){if(t==null)return t;var r=[],i=0;return gl(t,r,"","",function(s){return e.call(n,s,i++)}),r}function bv(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ge={current:null},yl={transition:null},Dv={ReactCurrentDispatcher:Ge,ReactCurrentBatchConfig:yl,ReactCurrentOwner:lc};F.Children={map:$s,forEach:function(t,e,n){$s(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return $s(t,function(){e++}),e},toArray:function(t){return $s(t,function(e){return e})||[]},only:function(t){if(!oc(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};F.Component=di;F.Fragment=yv;F.Profiler=wv;F.PureComponent=ic;F.StrictMode=vv;F.Suspense=Cv;F.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Dv;F.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=bm({},t.props),i=t.key,s=t.ref,l=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,l=lc.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(u in e)Rm.call(e,u)&&!Nm.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&o!==void 0?o[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){o=Array(u);for(var a=0;a<u;a++)o[a]=arguments[a+2];r.children=o}return{$$typeof:Rs,type:t.type,key:i,ref:s,props:r,_owner:l}};F.createContext=function(t){return t={$$typeof:kv,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Sv,_context:t},t.Consumer=t};F.createElement=Lm;F.createFactory=function(t){var e=Lm.bind(null,t);return e.type=t,e};F.createRef=function(){return{current:null}};F.forwardRef=function(t){return{$$typeof:xv,render:t}};F.isValidElement=oc;F.lazy=function(t){return{$$typeof:Ev,_payload:{_status:-1,_result:t},_init:bv}};F.memo=function(t,e){return{$$typeof:Av,type:t,compare:e===void 0?null:e}};F.startTransition=function(t){var e=yl.transition;yl.transition={};try{t()}finally{yl.transition=e}};F.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};F.useCallback=function(t,e){return Ge.current.useCallback(t,e)};F.useContext=function(t){return Ge.current.useContext(t)};F.useDebugValue=function(){};F.useDeferredValue=function(t){return Ge.current.useDeferredValue(t)};F.useEffect=function(t,e){return Ge.current.useEffect(t,e)};F.useId=function(){return Ge.current.useId()};F.useImperativeHandle=function(t,e,n){return Ge.current.useImperativeHandle(t,e,n)};F.useInsertionEffect=function(t,e){return Ge.current.useInsertionEffect(t,e)};F.useLayoutEffect=function(t,e){return Ge.current.useLayoutEffect(t,e)};F.useMemo=function(t,e){return Ge.current.useMemo(t,e)};F.useReducer=function(t,e,n){return Ge.current.useReducer(t,e,n)};F.useRef=function(t){return Ge.current.useRef(t)};F.useState=function(t){return Ge.current.useState(t)};F.useSyncExternalStore=function(t,e,n){return Ge.current.useSyncExternalStore(t,e,n)};F.useTransition=function(){return Ge.current.useTransition()};F.version="18.1.0";it.exports=F;var Tv=it.exports,Ih={},uc={exports:{}},pt={},Bm={exports:{}},Im={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(P,N){var B=P.length;P.push(N);e:for(;0<B;){var W=B-1>>>1,ee=P[W];if(0<i(ee,N))P[W]=N,P[B]=ee,B=W;else break e}}function n(P){return P.length===0?null:P[0]}function r(P){if(P.length===0)return null;var N=P[0],B=P.pop();if(B!==N){P[0]=B;e:for(var W=0,ee=P.length,en=ee>>>1;W<en;){var zt=2*(W+1)-1,Eu=P[zt],Xn=zt+1,Fs=P[Xn];if(0>i(Eu,B))Xn<ee&&0>i(Fs,Eu)?(P[W]=Fs,P[Xn]=B,W=Xn):(P[W]=Eu,P[zt]=B,W=zt);else if(Xn<ee&&0>i(Fs,B))P[W]=Fs,P[Xn]=B,W=Xn;else break e}}return N}function i(P,N){var B=P.sortIndex-N.sortIndex;return B!==0?B:P.id-N.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var l=Date,o=l.now();t.unstable_now=function(){return l.now()-o}}var u=[],a=[],f=1,c=null,h=3,d=!1,p=!1,v=!1,S=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate!="undefined"?setImmediate:null;typeof navigator!="undefined"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(P){for(var N=n(a);N!==null;){if(N.callback===null)r(a);else if(N.startTime<=P)r(a),N.sortIndex=N.expirationTime,e(u,N);else break;N=n(a)}}function w(P){if(v=!1,y(P),!p)if(n(u)!==null)p=!0,we(k);else{var N=n(a);N!==null&&je(w,N.startTime-P)}}function k(P,N){p=!1,v&&(v=!1,m(M),M=-1),d=!0;var B=h;try{for(y(N),c=n(u);c!==null&&(!(c.expirationTime>N)||P&&!z());){var W=c.callback;if(typeof W=="function"){c.callback=null,h=c.priorityLevel;var ee=W(c.expirationTime<=N);N=t.unstable_now(),typeof ee=="function"?c.callback=ee:c===n(u)&&r(u),y(N)}else r(u);c=n(u)}if(c!==null)var en=!0;else{var zt=n(a);zt!==null&&je(w,zt.startTime-N),en=!1}return en}finally{c=null,h=B,d=!1}}var x=!1,C=null,M=-1,R=5,b=-1;function z(){return!(t.unstable_now()-b<R)}function G(){if(C!==null){var P=t.unstable_now();b=P;var N=!0;try{N=C(!0,P)}finally{N?J():(x=!1,C=null)}}else x=!1}var J;if(typeof g=="function")J=function(){g(G)};else if(typeof MessageChannel!="undefined"){var Be=new MessageChannel,Ce=Be.port2;Be.port1.onmessage=G,J=function(){Ce.postMessage(null)}}else J=function(){S(G,0)};function we(P){C=P,x||(x=!0,J())}function je(P,N){M=S(function(){P(t.unstable_now())},N)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(P){P.callback=null},t.unstable_continueExecution=function(){p||d||(p=!0,we(k))},t.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<P?Math.floor(1e3/P):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(P){switch(h){case 1:case 2:case 3:var N=3;break;default:N=h}var B=h;h=N;try{return P()}finally{h=B}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(P,N){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var B=h;h=P;try{return N()}finally{h=B}},t.unstable_scheduleCallback=function(P,N,B){var W=t.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?W+B:W):B=W,P){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=B+ee,P={id:f++,callback:N,priorityLevel:P,startTime:B,expirationTime:ee,sortIndex:-1},B>W?(P.sortIndex=B,e(a,P),n(u)===null&&P===n(a)&&(v?(m(M),M=-1):v=!0,je(w,B-W))):(P.sortIndex=ee,e(u,P),p||d||(p=!0,we(k))),P},t.unstable_shouldYield=z,t.unstable_wrapCallback=function(P){var N=h;return function(){var B=h;h=N;try{return P.apply(this,arguments)}finally{h=B}}}})(Im);Bm.exports=Im;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zm=it.exports,ct=Bm.exports;function A(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var _m=new Set,ts={};function kr(t,e){ei(t,e),ei(t+"Capture",e)}function ei(t,e){for(ts[t]=e,t=0;t<e.length;t++)_m.add(e[t])}var cn=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),Ea=Object.prototype.hasOwnProperty,Rv=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,zh={},_h={};function Nv(t){return Ea.call(_h,t)?!0:Ea.call(zh,t)?!1:Rv.test(t)?_h[t]=!0:(zh[t]=!0,!1)}function Lv(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Bv(t,e,n,r){if(e===null||typeof e=="undefined"||Lv(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Qe(t,e,n,r,i,s,l){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=l}var Le={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Le[t]=new Qe(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Le[e]=new Qe(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Le[t]=new Qe(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Le[t]=new Qe(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Le[t]=new Qe(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Le[t]=new Qe(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Le[t]=new Qe(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Le[t]=new Qe(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Le[t]=new Qe(t,5,!1,t.toLowerCase(),null,!1,!1)});var ac=/[\-:]([a-z])/g;function fc(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(ac,fc);Le[e]=new Qe(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(ac,fc);Le[e]=new Qe(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(ac,fc);Le[e]=new Qe(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Le[t]=new Qe(t,1,!1,t.toLowerCase(),null,!1,!1)});Le.xlinkHref=new Qe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Le[t]=new Qe(t,1,!1,t.toLowerCase(),null,!0,!0)});function cc(t,e,n,r){var i=Le.hasOwnProperty(e)?Le[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Bv(e,n,i,r)&&(n=null),r||i===null?Nv(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var mn=zm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Vs=Symbol.for("react.element"),Mr=Symbol.for("react.portal"),br=Symbol.for("react.fragment"),hc=Symbol.for("react.strict_mode"),Pa=Symbol.for("react.profiler"),Fm=Symbol.for("react.provider"),$m=Symbol.for("react.context"),dc=Symbol.for("react.forward_ref"),Oa=Symbol.for("react.suspense"),Ma=Symbol.for("react.suspense_list"),pc=Symbol.for("react.memo"),wn=Symbol.for("react.lazy"),Vm=Symbol.for("react.offscreen"),Fh=Symbol.iterator;function vi(t){return t===null||typeof t!="object"?null:(t=Fh&&t[Fh]||t["@@iterator"],typeof t=="function"?t:null)}var fe=Object.assign,Ou;function Ni(t){if(Ou===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Ou=e&&e[1]||""}return`
`+Ou+t}var Mu=!1;function bu(t,e){if(!t||Mu)return"";Mu=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(a){var r=a}Reflect.construct(t,[],e)}else{try{e.call()}catch(a){r=a}t.call(e.prototype)}else{try{throw Error()}catch(a){r=a}t()}}catch(a){if(a&&r&&typeof a.stack=="string"){for(var i=a.stack.split(`
`),s=r.stack.split(`
`),l=i.length-1,o=s.length-1;1<=l&&0<=o&&i[l]!==s[o];)o--;for(;1<=l&&0<=o;l--,o--)if(i[l]!==s[o]){if(l!==1||o!==1)do if(l--,o--,0>o||i[l]!==s[o]){var u=`
`+i[l].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=l&&0<=o);break}}}finally{Mu=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ni(t):""}function Iv(t){switch(t.tag){case 5:return Ni(t.type);case 16:return Ni("Lazy");case 13:return Ni("Suspense");case 19:return Ni("SuspenseList");case 0:case 2:case 15:return t=bu(t.type,!1),t;case 11:return t=bu(t.type.render,!1),t;case 1:return t=bu(t.type,!0),t;default:return""}}function ba(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case br:return"Fragment";case Mr:return"Portal";case Pa:return"Profiler";case hc:return"StrictMode";case Oa:return"Suspense";case Ma:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case $m:return(t.displayName||"Context")+".Consumer";case Fm:return(t._context.displayName||"Context")+".Provider";case dc:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case pc:return e=t.displayName||null,e!==null?e:ba(t.type)||"Memo";case wn:e=t._payload,t=t._init;try{return ba(t(e))}catch{}}return null}function zv(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ba(e);case 8:return e===hc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Vn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function jm(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function _v(t){var e=jm(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n!="undefined"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(l){r=""+l,s.call(this,l)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(l){r=""+l},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function js(t){t._valueTracker||(t._valueTracker=_v(t))}function Wm(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=jm(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Rl(t){if(t=t||(typeof document!="undefined"?document:void 0),typeof t=="undefined")return null;try{return t.activeElement||t.body}catch{return t.body}}function Da(t,e){var n=e.checked;return fe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n!=null?n:t._wrapperState.initialChecked})}function $h(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Vn(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Hm(t,e){e=e.checked,e!=null&&cc(t,"checked",e,!1)}function Ta(t,e){Hm(t,e);var n=Vn(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Ra(t,e.type,n):e.hasOwnProperty("defaultValue")&&Ra(t,e.type,Vn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Vh(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Ra(t,e,n){(e!=="number"||Rl(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Li=Array.isArray;function Wr(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Vn(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Na(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(A(91));return fe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function jh(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(A(92));if(Li(n)){if(1<n.length)throw Error(A(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Vn(n)}}function Um(t,e){var n=Vn(e.value),r=Vn(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Wh(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Km(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function La(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Km(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ws,Gm=function(t){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ws=Ws||document.createElement("div"),Ws.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ws.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ns(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ji={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Fv=["Webkit","ms","Moz","O"];Object.keys(ji).forEach(function(t){Fv.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ji[e]=ji[t]})});function Qm(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ji.hasOwnProperty(t)&&ji[t]?(""+e).trim():e+"px"}function qm(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Qm(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var $v=fe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ba(t,e){if(e){if($v[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(A(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(A(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(A(61))}if(e.style!=null&&typeof e.style!="object")throw Error(A(62))}}function Ia(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var za=null;function mc(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var _a=null,Hr=null,Ur=null;function Hh(t){if(t=Bs(t)){if(typeof _a!="function")throw Error(A(280));var e=t.stateNode;e&&(e=Do(e),_a(t.stateNode,t.type,e))}}function Jm(t){Hr?Ur?Ur.push(t):Ur=[t]:Hr=t}function Ym(){if(Hr){var t=Hr,e=Ur;if(Ur=Hr=null,Hh(t),e)for(t=0;t<e.length;t++)Hh(e[t])}}function Xm(t,e){return t(e)}function Zm(){}var Du=!1;function eg(t,e,n){if(Du)return t(e,n);Du=!0;try{return Xm(t,e,n)}finally{Du=!1,(Hr!==null||Ur!==null)&&(Zm(),Ym())}}function rs(t,e){var n=t.stateNode;if(n===null)return null;var r=Do(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(A(231,e,typeof n));return n}var Fa=!1;if(cn)try{var wi={};Object.defineProperty(wi,"passive",{get:function(){Fa=!0}}),window.addEventListener("test",wi,wi),window.removeEventListener("test",wi,wi)}catch{Fa=!1}function Vv(t,e,n,r,i,s,l,o,u){var a=Array.prototype.slice.call(arguments,3);try{e.apply(n,a)}catch(f){this.onError(f)}}var Wi=!1,Nl=null,Ll=!1,$a=null,jv={onError:function(t){Wi=!0,Nl=t}};function Wv(t,e,n,r,i,s,l,o,u){Wi=!1,Nl=null,Vv.apply(jv,arguments)}function Hv(t,e,n,r,i,s,l,o,u){if(Wv.apply(this,arguments),Wi){if(Wi){var a=Nl;Wi=!1,Nl=null}else throw Error(A(198));Ll||(Ll=!0,$a=a)}}function xr(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,(e.flags&4098)!==0&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function tg(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Uh(t){if(xr(t)!==t)throw Error(A(188))}function Uv(t){var e=t.alternate;if(!e){if(e=xr(t),e===null)throw Error(A(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Uh(i),t;if(s===r)return Uh(i),e;s=s.sibling}throw Error(A(188))}if(n.return!==r.return)n=i,r=s;else{for(var l=!1,o=i.child;o;){if(o===n){l=!0,n=i,r=s;break}if(o===r){l=!0,r=i,n=s;break}o=o.sibling}if(!l){for(o=s.child;o;){if(o===n){l=!0,n=s,r=i;break}if(o===r){l=!0,r=s,n=i;break}o=o.sibling}if(!l)throw Error(A(189))}}if(n.alternate!==r)throw Error(A(190))}if(n.tag!==3)throw Error(A(188));return n.stateNode.current===n?t:e}function ng(t){return t=Uv(t),t!==null?rg(t):null}function rg(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=rg(t);if(e!==null)return e;t=t.sibling}return null}var ig=ct.unstable_scheduleCallback,Kh=ct.unstable_cancelCallback,Kv=ct.unstable_shouldYield,Gv=ct.unstable_requestPaint,me=ct.unstable_now,Qv=ct.unstable_getCurrentPriorityLevel,gc=ct.unstable_ImmediatePriority,sg=ct.unstable_UserBlockingPriority,Bl=ct.unstable_NormalPriority,qv=ct.unstable_LowPriority,lg=ct.unstable_IdlePriority,Po=null,Qt=null;function Jv(t){if(Qt&&typeof Qt.onCommitFiberRoot=="function")try{Qt.onCommitFiberRoot(Po,t,void 0,(t.current.flags&128)===128)}catch{}}var Bt=Math.clz32?Math.clz32:Zv,Yv=Math.log,Xv=Math.LN2;function Zv(t){return t>>>=0,t===0?32:31-(Yv(t)/Xv|0)|0}var Hs=64,Us=4194304;function Bi(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Il(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,l=n&268435455;if(l!==0){var o=l&~i;o!==0?r=Bi(o):(s&=l,s!==0&&(r=Bi(s)))}else l=n&~i,l!==0?r=Bi(l):s!==0&&(r=Bi(s));if(r===0)return 0;if(e!==0&&e!==r&&(e&i)===0&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if((r&4)!==0&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Bt(e),i=1<<n,r|=t[n],e&=~i;return r}function ew(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tw(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var l=31-Bt(s),o=1<<l,u=i[l];u===-1?((o&n)===0||(o&r)!==0)&&(i[l]=ew(o,e)):u<=e&&(t.expiredLanes|=o),s&=~o}}function Va(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function og(){var t=Hs;return Hs<<=1,(Hs&4194240)===0&&(Hs=64),t}function Tu(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ns(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Bt(e),t[e]=n}function nw(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Bt(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function yc(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Bt(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var U=0;function ug(t){return t&=-t,1<t?4<t?(t&268435455)!==0?16:536870912:4:1}var ag,vc,fg,cg,hg,ja=!1,Ks=[],Nn=null,Ln=null,Bn=null,is=new Map,ss=new Map,Cn=[],rw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Gh(t,e){switch(t){case"focusin":case"focusout":Nn=null;break;case"dragenter":case"dragleave":Ln=null;break;case"mouseover":case"mouseout":Bn=null;break;case"pointerover":case"pointerout":is.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ss.delete(e.pointerId)}}function Si(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Bs(e),e!==null&&vc(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function iw(t,e,n,r,i){switch(e){case"focusin":return Nn=Si(Nn,t,e,n,r,i),!0;case"dragenter":return Ln=Si(Ln,t,e,n,r,i),!0;case"mouseover":return Bn=Si(Bn,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return is.set(s,Si(is.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,ss.set(s,Si(ss.get(s)||null,t,e,n,r,i)),!0}return!1}function dg(t){var e=rr(t.target);if(e!==null){var n=xr(e);if(n!==null){if(e=n.tag,e===13){if(e=tg(n),e!==null){t.blockedOn=e,hg(t.priority,function(){fg(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function vl(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Wa(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);za=r,n.target.dispatchEvent(r),za=null}else return e=Bs(n),e!==null&&vc(e),t.blockedOn=n,!1;e.shift()}return!0}function Qh(t,e,n){vl(t)&&n.delete(e)}function sw(){ja=!1,Nn!==null&&vl(Nn)&&(Nn=null),Ln!==null&&vl(Ln)&&(Ln=null),Bn!==null&&vl(Bn)&&(Bn=null),is.forEach(Qh),ss.forEach(Qh)}function ki(t,e){t.blockedOn===e&&(t.blockedOn=null,ja||(ja=!0,ct.unstable_scheduleCallback(ct.unstable_NormalPriority,sw)))}function ls(t){function e(i){return ki(i,t)}if(0<Ks.length){ki(Ks[0],t);for(var n=1;n<Ks.length;n++){var r=Ks[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Nn!==null&&ki(Nn,t),Ln!==null&&ki(Ln,t),Bn!==null&&ki(Bn,t),is.forEach(e),ss.forEach(e),n=0;n<Cn.length;n++)r=Cn[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Cn.length&&(n=Cn[0],n.blockedOn===null);)dg(n),n.blockedOn===null&&Cn.shift()}var Kr=mn.ReactCurrentBatchConfig,zl=!0;function lw(t,e,n,r){var i=U,s=Kr.transition;Kr.transition=null;try{U=1,wc(t,e,n,r)}finally{U=i,Kr.transition=s}}function ow(t,e,n,r){var i=U,s=Kr.transition;Kr.transition=null;try{U=4,wc(t,e,n,r)}finally{U=i,Kr.transition=s}}function wc(t,e,n,r){if(zl){var i=Wa(t,e,n,r);if(i===null)Vu(t,e,r,_l,n),Gh(t,r);else if(iw(i,t,e,n,r))r.stopPropagation();else if(Gh(t,r),e&4&&-1<rw.indexOf(t)){for(;i!==null;){var s=Bs(i);if(s!==null&&ag(s),s=Wa(t,e,n,r),s===null&&Vu(t,e,r,_l,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Vu(t,e,r,null,n)}}var _l=null;function Wa(t,e,n,r){if(_l=null,t=mc(r),t=rr(t),t!==null)if(e=xr(t),e===null)t=null;else if(n=e.tag,n===13){if(t=tg(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return _l=t,null}function pg(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Qv()){case gc:return 1;case sg:return 4;case Bl:case qv:return 16;case lg:return 536870912;default:return 16}default:return 16}}var On=null,Sc=null,wl=null;function mg(){if(wl)return wl;var t,e=Sc,n=e.length,r,i="value"in On?On.value:On.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var l=n-t;for(r=1;r<=l&&e[n-r]===i[s-r];r++);return wl=i.slice(t,1<r?1-r:void 0)}function Sl(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Gs(){return!0}function qh(){return!1}function mt(t){function e(n,r,i,s,l){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=l,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Gs:qh,this.isPropagationStopped=qh,this}return fe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Gs)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Gs)},persist:function(){},isPersistent:Gs}),e}var pi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},kc=mt(pi),Ls=fe({},pi,{view:0,detail:0}),uw=mt(Ls),Ru,Nu,xi,Oo=fe({},Ls,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xc,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==xi&&(xi&&t.type==="mousemove"?(Ru=t.screenX-xi.screenX,Nu=t.screenY-xi.screenY):Nu=Ru=0,xi=t),Ru)},movementY:function(t){return"movementY"in t?t.movementY:Nu}}),Jh=mt(Oo),aw=fe({},Oo,{dataTransfer:0}),fw=mt(aw),cw=fe({},Ls,{relatedTarget:0}),Lu=mt(cw),hw=fe({},pi,{animationName:0,elapsedTime:0,pseudoElement:0}),dw=mt(hw),pw=fe({},pi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),mw=mt(pw),gw=fe({},pi,{data:0}),Yh=mt(gw),yw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ww={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sw(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=ww[t])?!!e[t]:!1}function xc(){return Sw}var kw=fe({},Ls,{key:function(t){if(t.key){var e=yw[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Sl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?vw[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xc,charCode:function(t){return t.type==="keypress"?Sl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Sl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),xw=mt(kw),Cw=fe({},Oo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xh=mt(Cw),Aw=fe({},Ls,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xc}),Ew=mt(Aw),Pw=fe({},pi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ow=mt(Pw),Mw=fe({},Oo,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),bw=mt(Mw),Dw=[9,13,27,32],Cc=cn&&"CompositionEvent"in window,Hi=null;cn&&"documentMode"in document&&(Hi=document.documentMode);var Tw=cn&&"TextEvent"in window&&!Hi,gg=cn&&(!Cc||Hi&&8<Hi&&11>=Hi),Zh=String.fromCharCode(32),ed=!1;function yg(t,e){switch(t){case"keyup":return Dw.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function vg(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Dr=!1;function Rw(t,e){switch(t){case"compositionend":return vg(e);case"keypress":return e.which!==32?null:(ed=!0,Zh);case"textInput":return t=e.data,t===Zh&&ed?null:t;default:return null}}function Nw(t,e){if(Dr)return t==="compositionend"||!Cc&&yg(t,e)?(t=mg(),wl=Sc=On=null,Dr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return gg&&e.locale!=="ko"?null:e.data;default:return null}}var Lw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function td(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Lw[t.type]:e==="textarea"}function wg(t,e,n,r){Jm(r),e=Fl(e,"onChange"),0<e.length&&(n=new kc("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ui=null,os=null;function Bw(t){Dg(t,0)}function Mo(t){var e=Nr(t);if(Wm(e))return t}function Iw(t,e){if(t==="change")return e}var Sg=!1;if(cn){var Bu;if(cn){var Iu="oninput"in document;if(!Iu){var nd=document.createElement("div");nd.setAttribute("oninput","return;"),Iu=typeof nd.oninput=="function"}Bu=Iu}else Bu=!1;Sg=Bu&&(!document.documentMode||9<document.documentMode)}function rd(){Ui&&(Ui.detachEvent("onpropertychange",kg),os=Ui=null)}function kg(t){if(t.propertyName==="value"&&Mo(os)){var e=[];wg(e,os,t,mc(t)),eg(Bw,e)}}function zw(t,e,n){t==="focusin"?(rd(),Ui=e,os=n,Ui.attachEvent("onpropertychange",kg)):t==="focusout"&&rd()}function _w(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Mo(os)}function Fw(t,e){if(t==="click")return Mo(e)}function $w(t,e){if(t==="input"||t==="change")return Mo(e)}function Vw(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var It=typeof Object.is=="function"?Object.is:Vw;function us(t,e){if(It(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Ea.call(e,i)||!It(t[i],e[i]))return!1}return!0}function id(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function sd(t,e){var n=id(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=id(n)}}function xg(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?xg(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Cg(){for(var t=window,e=Rl();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Rl(t.document)}return e}function Ac(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function jw(t){var e=Cg(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&xg(n.ownerDocument.documentElement,n)){if(r!==null&&Ac(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=sd(n,s);var l=sd(n,r);i&&l&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==l.node||t.focusOffset!==l.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(l.node,l.offset)):(e.setEnd(l.node,l.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Ww=cn&&"documentMode"in document&&11>=document.documentMode,Tr=null,Ha=null,Ki=null,Ua=!1;function ld(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ua||Tr==null||Tr!==Rl(r)||(r=Tr,"selectionStart"in r&&Ac(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ki&&us(Ki,r)||(Ki=r,r=Fl(Ha,"onSelect"),0<r.length&&(e=new kc("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Tr)))}function Qs(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Rr={animationend:Qs("Animation","AnimationEnd"),animationiteration:Qs("Animation","AnimationIteration"),animationstart:Qs("Animation","AnimationStart"),transitionend:Qs("Transition","TransitionEnd")},zu={},Ag={};cn&&(Ag=document.createElement("div").style,"AnimationEvent"in window||(delete Rr.animationend.animation,delete Rr.animationiteration.animation,delete Rr.animationstart.animation),"TransitionEvent"in window||delete Rr.transitionend.transition);function bo(t){if(zu[t])return zu[t];if(!Rr[t])return t;var e=Rr[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Ag)return zu[t]=e[n];return t}var Eg=bo("animationend"),Pg=bo("animationiteration"),Og=bo("animationstart"),Mg=bo("transitionend"),bg=new Map,od="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function qn(t,e){bg.set(t,e),kr(e,[t])}for(var _u=0;_u<od.length;_u++){var Fu=od[_u],Hw=Fu.toLowerCase(),Uw=Fu[0].toUpperCase()+Fu.slice(1);qn(Hw,"on"+Uw)}qn(Eg,"onAnimationEnd");qn(Pg,"onAnimationIteration");qn(Og,"onAnimationStart");qn("dblclick","onDoubleClick");qn("focusin","onFocus");qn("focusout","onBlur");qn(Mg,"onTransitionEnd");ei("onMouseEnter",["mouseout","mouseover"]);ei("onMouseLeave",["mouseout","mouseover"]);ei("onPointerEnter",["pointerout","pointerover"]);ei("onPointerLeave",["pointerout","pointerover"]);kr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));kr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));kr("onBeforeInput",["compositionend","keypress","textInput","paste"]);kr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));kr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));kr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ii="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Kw=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ii));function ud(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Hv(r,e,void 0,t),t.currentTarget=null}function Dg(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var l=r.length-1;0<=l;l--){var o=r[l],u=o.instance,a=o.currentTarget;if(o=o.listener,u!==s&&i.isPropagationStopped())break e;ud(i,o,a),s=u}else for(l=0;l<r.length;l++){if(o=r[l],u=o.instance,a=o.currentTarget,o=o.listener,u!==s&&i.isPropagationStopped())break e;ud(i,o,a),s=u}}}if(Ll)throw t=$a,Ll=!1,$a=null,t}function te(t,e){var n=e[Ja];n===void 0&&(n=e[Ja]=new Set);var r=t+"__bubble";n.has(r)||(Tg(e,t,2,!1),n.add(r))}function $u(t,e,n){var r=0;e&&(r|=4),Tg(n,t,r,e)}var qs="_reactListening"+Math.random().toString(36).slice(2);function as(t){if(!t[qs]){t[qs]=!0,_m.forEach(function(n){n!=="selectionchange"&&(Kw.has(n)||$u(n,!1,t),$u(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[qs]||(e[qs]=!0,$u("selectionchange",!1,e))}}function Tg(t,e,n,r){switch(pg(e)){case 1:var i=lw;break;case 4:i=ow;break;default:i=wc}n=i.bind(null,e,n,t),i=void 0,!Fa||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Vu(t,e,n,r,i){var s=r;if((e&1)===0&&(e&2)===0&&r!==null)e:for(;;){if(r===null)return;var l=r.tag;if(l===3||l===4){var o=r.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(l===4)for(l=r.return;l!==null;){var u=l.tag;if((u===3||u===4)&&(u=l.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;l=l.return}for(;o!==null;){if(l=rr(o),l===null)return;if(u=l.tag,u===5||u===6){r=s=l;continue e}o=o.parentNode}}r=r.return}eg(function(){var a=s,f=mc(n),c=[];e:{var h=bg.get(t);if(h!==void 0){var d=kc,p=t;switch(t){case"keypress":if(Sl(n)===0)break e;case"keydown":case"keyup":d=xw;break;case"focusin":p="focus",d=Lu;break;case"focusout":p="blur",d=Lu;break;case"beforeblur":case"afterblur":d=Lu;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":d=Jh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":d=fw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":d=Ew;break;case Eg:case Pg:case Og:d=dw;break;case Mg:d=Ow;break;case"scroll":d=uw;break;case"wheel":d=bw;break;case"copy":case"cut":case"paste":d=mw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":d=Xh}var v=(e&4)!==0,S=!v&&t==="scroll",m=v?h!==null?h+"Capture":null:h;v=[];for(var g=a,y;g!==null;){y=g;var w=y.stateNode;if(y.tag===5&&w!==null&&(y=w,m!==null&&(w=rs(g,m),w!=null&&v.push(fs(g,w,y)))),S)break;g=g.return}0<v.length&&(h=new d(h,p,null,n,f),c.push({event:h,listeners:v}))}}if((e&7)===0){e:{if(h=t==="mouseover"||t==="pointerover",d=t==="mouseout"||t==="pointerout",h&&n!==za&&(p=n.relatedTarget||n.fromElement)&&(rr(p)||p[hn]))break e;if((d||h)&&(h=f.window===f?f:(h=f.ownerDocument)?h.defaultView||h.parentWindow:window,d?(p=n.relatedTarget||n.toElement,d=a,p=p?rr(p):null,p!==null&&(S=xr(p),p!==S||p.tag!==5&&p.tag!==6)&&(p=null)):(d=null,p=a),d!==p)){if(v=Jh,w="onMouseLeave",m="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(v=Xh,w="onPointerLeave",m="onPointerEnter",g="pointer"),S=d==null?h:Nr(d),y=p==null?h:Nr(p),h=new v(w,g+"leave",d,n,f),h.target=S,h.relatedTarget=y,w=null,rr(f)===a&&(v=new v(m,g+"enter",p,n,f),v.target=y,v.relatedTarget=S,w=v),S=w,d&&p)t:{for(v=d,m=p,g=0,y=v;y;y=Er(y))g++;for(y=0,w=m;w;w=Er(w))y++;for(;0<g-y;)v=Er(v),g--;for(;0<y-g;)m=Er(m),y--;for(;g--;){if(v===m||m!==null&&v===m.alternate)break t;v=Er(v),m=Er(m)}v=null}else v=null;d!==null&&ad(c,h,d,v,!1),p!==null&&S!==null&&ad(c,S,p,v,!0)}}e:{if(h=a?Nr(a):window,d=h.nodeName&&h.nodeName.toLowerCase(),d==="select"||d==="input"&&h.type==="file")var k=Iw;else if(td(h))if(Sg)k=$w;else{k=_w;var x=zw}else(d=h.nodeName)&&d.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(k=Fw);if(k&&(k=k(t,a))){wg(c,k,n,f);break e}x&&x(t,h,a),t==="focusout"&&(x=h._wrapperState)&&x.controlled&&h.type==="number"&&Ra(h,"number",h.value)}switch(x=a?Nr(a):window,t){case"focusin":(td(x)||x.contentEditable==="true")&&(Tr=x,Ha=a,Ki=null);break;case"focusout":Ki=Ha=Tr=null;break;case"mousedown":Ua=!0;break;case"contextmenu":case"mouseup":case"dragend":Ua=!1,ld(c,n,f);break;case"selectionchange":if(Ww)break;case"keydown":case"keyup":ld(c,n,f)}var C;if(Cc)e:{switch(t){case"compositionstart":var M="onCompositionStart";break e;case"compositionend":M="onCompositionEnd";break e;case"compositionupdate":M="onCompositionUpdate";break e}M=void 0}else Dr?yg(t,n)&&(M="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(M="onCompositionStart");M&&(gg&&n.locale!=="ko"&&(Dr||M!=="onCompositionStart"?M==="onCompositionEnd"&&Dr&&(C=mg()):(On=f,Sc="value"in On?On.value:On.textContent,Dr=!0)),x=Fl(a,M),0<x.length&&(M=new Yh(M,t,null,n,f),c.push({event:M,listeners:x}),C?M.data=C:(C=vg(n),C!==null&&(M.data=C)))),(C=Tw?Rw(t,n):Nw(t,n))&&(a=Fl(a,"onBeforeInput"),0<a.length&&(f=new Yh("onBeforeInput","beforeinput",null,n,f),c.push({event:f,listeners:a}),f.data=C))}Dg(c,e)})}function fs(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Fl(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=rs(t,n),s!=null&&r.unshift(fs(t,s,i)),s=rs(t,e),s!=null&&r.push(fs(t,s,i))),t=t.return}return r}function Er(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function ad(t,e,n,r,i){for(var s=e._reactName,l=[];n!==null&&n!==r;){var o=n,u=o.alternate,a=o.stateNode;if(u!==null&&u===r)break;o.tag===5&&a!==null&&(o=a,i?(u=rs(n,s),u!=null&&l.unshift(fs(n,u,o))):i||(u=rs(n,s),u!=null&&l.push(fs(n,u,o)))),n=n.return}l.length!==0&&t.push({event:e,listeners:l})}var Gw=/\r\n?/g,Qw=/\u0000|\uFFFD/g;function fd(t){return(typeof t=="string"?t:""+t).replace(Gw,`
`).replace(Qw,"")}function Js(t,e,n){if(e=fd(e),fd(t)!==e&&n)throw Error(A(425))}function $l(){}var Ka=null,Ga=null;function Qa(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var qa=typeof setTimeout=="function"?setTimeout:void 0,qw=typeof clearTimeout=="function"?clearTimeout:void 0,cd=typeof Promise=="function"?Promise:void 0,Jw=typeof queueMicrotask=="function"?queueMicrotask:typeof cd!="undefined"?function(t){return cd.resolve(null).then(t).catch(Yw)}:qa;function Yw(t){setTimeout(function(){throw t})}function ju(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),ls(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);ls(e)}function rn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function hd(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var mi=Math.random().toString(36).slice(2),Ut="__reactFiber$"+mi,cs="__reactProps$"+mi,hn="__reactContainer$"+mi,Ja="__reactEvents$"+mi,Xw="__reactListeners$"+mi,Zw="__reactHandles$"+mi;function rr(t){var e=t[Ut];if(e)return e;for(var n=t.parentNode;n;){if(e=n[hn]||n[Ut]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=hd(t);t!==null;){if(n=t[Ut])return n;t=hd(t)}return e}t=n,n=t.parentNode}return null}function Bs(t){return t=t[Ut]||t[hn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Nr(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(A(33))}function Do(t){return t[cs]||null}var Ya=[],Lr=-1;function Jn(t){return{current:t}}function re(t){0>Lr||(t.current=Ya[Lr],Ya[Lr]=null,Lr--)}function Y(t,e){Lr++,Ya[Lr]=t.current,t.current=e}var jn={},Ve=Jn(jn),et=Jn(!1),cr=jn;function ti(t,e){var n=t.type.contextTypes;if(!n)return jn;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function tt(t){return t=t.childContextTypes,t!=null}function Vl(){re(et),re(Ve)}function dd(t,e,n){if(Ve.current!==jn)throw Error(A(168));Y(Ve,e),Y(et,n)}function Rg(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(A(108,zv(t)||"Unknown",i));return fe({},n,r)}function jl(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||jn,cr=Ve.current,Y(Ve,t),Y(et,et.current),!0}function pd(t,e,n){var r=t.stateNode;if(!r)throw Error(A(169));n?(t=Rg(t,e,cr),r.__reactInternalMemoizedMergedChildContext=t,re(et),re(Ve),Y(Ve,t)):re(et),Y(et,n)}var nn=null,To=!1,Wu=!1;function Ng(t){nn===null?nn=[t]:nn.push(t)}function eS(t){To=!0,Ng(t)}function Yn(){if(!Wu&&nn!==null){Wu=!0;var t=0,e=U;try{var n=nn;for(U=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}nn=null,To=!1}catch(i){throw nn!==null&&(nn=nn.slice(t+1)),ig(gc,Yn),i}finally{U=e,Wu=!1}}return null}var tS=mn.ReactCurrentBatchConfig;function Mt(t,e){if(t&&t.defaultProps){e=fe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Wl=Jn(null),Hl=null,Br=null,Ec=null;function Pc(){Ec=Br=Hl=null}function Oc(t){var e=Wl.current;re(Wl),t._currentValue=e}function Xa(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Gr(t,e){Hl=t,Ec=Br=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&e)!==0&&(Xe=!0),t.firstContext=null)}function Ct(t){var e=t._currentValue;if(Ec!==t)if(t={context:t,memoizedValue:e,next:null},Br===null){if(Hl===null)throw Error(A(308));Br=t,Hl.dependencies={lanes:0,firstContext:t}}else Br=Br.next=t;return e}var Rt=null,Sn=!1;function Mc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Lg(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function on(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function In(t,e){var n=t.updateQueue;n!==null&&(n=n.shared,C0(t)?(t=n.interleaved,t===null?(e.next=e,Rt===null?Rt=[n]:Rt.push(n)):(e.next=t.next,t.next=e),n.interleaved=e):(t=n.pending,t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e))}function kl(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,yc(t,n)}}function md(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=l:s=s.next=l,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Ul(t,e,n,r){var i=t.updateQueue;Sn=!1;var s=i.firstBaseUpdate,l=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var u=o,a=u.next;u.next=null,l===null?s=a:l.next=a,l=u;var f=t.alternate;f!==null&&(f=f.updateQueue,o=f.lastBaseUpdate,o!==l&&(o===null?f.firstBaseUpdate=a:o.next=a,f.lastBaseUpdate=u))}if(s!==null){var c=i.baseState;l=0,f=a=u=null,o=s;do{var h=o.lane,d=o.eventTime;if((r&h)===h){f!==null&&(f=f.next={eventTime:d,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=t,v=o;switch(h=e,d=n,v.tag){case 1:if(p=v.payload,typeof p=="function"){c=p.call(d,c,h);break e}c=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=v.payload,h=typeof p=="function"?p.call(d,c,h):p,h==null)break e;c=fe({},c,h);break e;case 2:Sn=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[o]:h.push(o))}else d={eventTime:d,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},f===null?(a=f=d,u=c):f=f.next=d,l|=h;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;h=o,o=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(1);if(f===null&&(u=c),i.baseState=u,i.firstBaseUpdate=a,i.lastBaseUpdate=f,e=i.shared.interleaved,e!==null){i=e;do l|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);pr|=l,t.lanes=l,t.memoizedState=c}}function gd(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(A(191,i));i.call(r)}}}var Bg=new zm.Component().refs;function Za(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:fe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Ro={isMounted:function(t){return(t=t._reactInternals)?xr(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Ke(),i=_n(t),s=on(r,i);s.payload=e,n!=null&&(s.callback=n),In(t,s),e=xt(t,i,r),e!==null&&kl(e,t,i)},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Ke(),i=_n(t),s=on(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),In(t,s),e=xt(t,i,r),e!==null&&kl(e,t,i)},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ke(),r=_n(t),i=on(n,r);i.tag=2,e!=null&&(i.callback=e),In(t,i),e=xt(t,r,n),e!==null&&kl(e,t,r)}};function yd(t,e,n,r,i,s,l){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,l):e.prototype&&e.prototype.isPureReactComponent?!us(n,r)||!us(i,s):!0}function Ig(t,e,n){var r=!1,i=jn,s=e.contextType;return typeof s=="object"&&s!==null?s=Ct(s):(i=tt(e)?cr:Ve.current,r=e.contextTypes,s=(r=r!=null)?ti(t,i):jn),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ro,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function vd(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Ro.enqueueReplaceState(e,e.state,null)}function ef(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=Bg,Mc(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Ct(s):(s=tt(e)?cr:Ve.current,i.context=ti(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Za(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Ro.enqueueReplaceState(i,i.state,null),Ul(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}var Ir=[],zr=0,Kl=null,Gl=0,yt=[],vt=0,hr=null,sn=1,ln="";function er(t,e){Ir[zr++]=Gl,Ir[zr++]=Kl,Kl=t,Gl=e}function zg(t,e,n){yt[vt++]=sn,yt[vt++]=ln,yt[vt++]=hr,hr=t;var r=sn;t=ln;var i=32-Bt(r)-1;r&=~(1<<i),n+=1;var s=32-Bt(e)+i;if(30<s){var l=i-i%5;s=(r&(1<<l)-1).toString(32),r>>=l,i-=l,sn=1<<32-Bt(e)+i|n<<i|r,ln=s+t}else sn=1<<s|n<<i|r,ln=t}function bc(t){t.return!==null&&(er(t,1),zg(t,1,0))}function Dc(t){for(;t===Kl;)Kl=Ir[--zr],Ir[zr]=null,Gl=Ir[--zr],Ir[zr]=null;for(;t===hr;)hr=yt[--vt],yt[vt]=null,ln=yt[--vt],yt[vt]=null,sn=yt[--vt],yt[vt]=null}var ft=null,Je=null,se=!1,Dt=null;function _g(t,e){var n=wt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function wd(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ft=t,Je=rn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ft=t,Je=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=hr!==null?{id:sn,overflow:ln}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=wt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,ft=t,Je=null,!0):!1;default:return!1}}function tf(t){return(t.mode&1)!==0&&(t.flags&128)===0}function nf(t){if(se){var e=Je;if(e){var n=e;if(!wd(t,e)){if(tf(t))throw Error(A(418));e=rn(n.nextSibling);var r=ft;e&&wd(t,e)?_g(r,n):(t.flags=t.flags&-4097|2,se=!1,ft=t)}}else{if(tf(t))throw Error(A(418));t.flags=t.flags&-4097|2,se=!1,ft=t}}}function Sd(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ft=t}function Ci(t){if(t!==ft)return!1;if(!se)return Sd(t),se=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Qa(t.type,t.memoizedProps)),e&&(e=Je)){if(tf(t)){for(t=Je;t;)t=rn(t.nextSibling);throw Error(A(418))}for(;e;)_g(t,e),e=rn(e.nextSibling)}if(Sd(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(A(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Je=rn(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Je=null}}else Je=ft?rn(t.stateNode.nextSibling):null;return!0}function ni(){Je=ft=null,se=!1}function Tc(t){Dt===null?Dt=[t]:Dt.push(t)}function Ai(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(A(309));var r=n.stateNode}if(!r)throw Error(A(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(l){var o=i.refs;o===Bg&&(o=i.refs={}),l===null?delete o[s]:o[s]=l},e._stringRef=s,e)}if(typeof t!="string")throw Error(A(284));if(!n._owner)throw Error(A(290,t))}return t}function Ys(t,e){throw t=Object.prototype.toString.call(e),Error(A(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function kd(t){var e=t._init;return e(t._payload)}function Fg(t){function e(m,g){if(t){var y=m.deletions;y===null?(m.deletions=[g],m.flags|=16):y.push(g)}}function n(m,g){if(!t)return null;for(;g!==null;)e(m,g),g=g.sibling;return null}function r(m,g){for(m=new Map;g!==null;)g.key!==null?m.set(g.key,g):m.set(g.index,g),g=g.sibling;return m}function i(m,g){return m=Wn(m,g),m.index=0,m.sibling=null,m}function s(m,g,y){return m.index=y,t?(y=m.alternate,y!==null?(y=y.index,y<g?(m.flags|=2,g):y):(m.flags|=2,g)):(m.flags|=1048576,g)}function l(m){return t&&m.alternate===null&&(m.flags|=2),m}function o(m,g,y,w){return g===null||g.tag!==6?(g=qu(y,m.mode,w),g.return=m,g):(g=i(g,y),g.return=m,g)}function u(m,g,y,w){var k=y.type;return k===br?f(m,g,y.props.children,w,y.key):g!==null&&(g.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===wn&&kd(k)===g.type)?(w=i(g,y.props),w.ref=Ai(m,g,y),w.return=m,w):(w=Pl(y.type,y.key,y.props,null,m.mode,w),w.ref=Ai(m,g,y),w.return=m,w)}function a(m,g,y,w){return g===null||g.tag!==4||g.stateNode.containerInfo!==y.containerInfo||g.stateNode.implementation!==y.implementation?(g=Ju(y,m.mode,w),g.return=m,g):(g=i(g,y.children||[]),g.return=m,g)}function f(m,g,y,w,k){return g===null||g.tag!==7?(g=ur(y,m.mode,w,k),g.return=m,g):(g=i(g,y),g.return=m,g)}function c(m,g,y){if(typeof g=="string"&&g!==""||typeof g=="number")return g=qu(""+g,m.mode,y),g.return=m,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Vs:return y=Pl(g.type,g.key,g.props,null,m.mode,y),y.ref=Ai(m,null,g),y.return=m,y;case Mr:return g=Ju(g,m.mode,y),g.return=m,g;case wn:var w=g._init;return c(m,w(g._payload),y)}if(Li(g)||vi(g))return g=ur(g,m.mode,y,null),g.return=m,g;Ys(m,g)}return null}function h(m,g,y,w){var k=g!==null?g.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return k!==null?null:o(m,g,""+y,w);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Vs:return y.key===k?u(m,g,y,w):null;case Mr:return y.key===k?a(m,g,y,w):null;case wn:return k=y._init,h(m,g,k(y._payload),w)}if(Li(y)||vi(y))return k!==null?null:f(m,g,y,w,null);Ys(m,y)}return null}function d(m,g,y,w,k){if(typeof w=="string"&&w!==""||typeof w=="number")return m=m.get(y)||null,o(g,m,""+w,k);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Vs:return m=m.get(w.key===null?y:w.key)||null,u(g,m,w,k);case Mr:return m=m.get(w.key===null?y:w.key)||null,a(g,m,w,k);case wn:var x=w._init;return d(m,g,y,x(w._payload),k)}if(Li(w)||vi(w))return m=m.get(y)||null,f(g,m,w,k,null);Ys(g,w)}return null}function p(m,g,y,w){for(var k=null,x=null,C=g,M=g=0,R=null;C!==null&&M<y.length;M++){C.index>M?(R=C,C=null):R=C.sibling;var b=h(m,C,y[M],w);if(b===null){C===null&&(C=R);break}t&&C&&b.alternate===null&&e(m,C),g=s(b,g,M),x===null?k=b:x.sibling=b,x=b,C=R}if(M===y.length)return n(m,C),se&&er(m,M),k;if(C===null){for(;M<y.length;M++)C=c(m,y[M],w),C!==null&&(g=s(C,g,M),x===null?k=C:x.sibling=C,x=C);return se&&er(m,M),k}for(C=r(m,C);M<y.length;M++)R=d(C,m,M,y[M],w),R!==null&&(t&&R.alternate!==null&&C.delete(R.key===null?M:R.key),g=s(R,g,M),x===null?k=R:x.sibling=R,x=R);return t&&C.forEach(function(z){return e(m,z)}),se&&er(m,M),k}function v(m,g,y,w){var k=vi(y);if(typeof k!="function")throw Error(A(150));if(y=k.call(y),y==null)throw Error(A(151));for(var x=k=null,C=g,M=g=0,R=null,b=y.next();C!==null&&!b.done;M++,b=y.next()){C.index>M?(R=C,C=null):R=C.sibling;var z=h(m,C,b.value,w);if(z===null){C===null&&(C=R);break}t&&C&&z.alternate===null&&e(m,C),g=s(z,g,M),x===null?k=z:x.sibling=z,x=z,C=R}if(b.done)return n(m,C),se&&er(m,M),k;if(C===null){for(;!b.done;M++,b=y.next())b=c(m,b.value,w),b!==null&&(g=s(b,g,M),x===null?k=b:x.sibling=b,x=b);return se&&er(m,M),k}for(C=r(m,C);!b.done;M++,b=y.next())b=d(C,m,M,b.value,w),b!==null&&(t&&b.alternate!==null&&C.delete(b.key===null?M:b.key),g=s(b,g,M),x===null?k=b:x.sibling=b,x=b);return t&&C.forEach(function(G){return e(m,G)}),se&&er(m,M),k}function S(m,g,y,w){if(typeof y=="object"&&y!==null&&y.type===br&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Vs:e:{for(var k=y.key,x=g;x!==null;){if(x.key===k){if(k=y.type,k===br){if(x.tag===7){n(m,x.sibling),g=i(x,y.props.children),g.return=m,m=g;break e}}else if(x.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===wn&&kd(k)===x.type){n(m,x.sibling),g=i(x,y.props),g.ref=Ai(m,x,y),g.return=m,m=g;break e}n(m,x);break}else e(m,x);x=x.sibling}y.type===br?(g=ur(y.props.children,m.mode,w,y.key),g.return=m,m=g):(w=Pl(y.type,y.key,y.props,null,m.mode,w),w.ref=Ai(m,g,y),w.return=m,m=w)}return l(m);case Mr:e:{for(x=y.key;g!==null;){if(g.key===x)if(g.tag===4&&g.stateNode.containerInfo===y.containerInfo&&g.stateNode.implementation===y.implementation){n(m,g.sibling),g=i(g,y.children||[]),g.return=m,m=g;break e}else{n(m,g);break}else e(m,g);g=g.sibling}g=Ju(y,m.mode,w),g.return=m,m=g}return l(m);case wn:return x=y._init,S(m,g,x(y._payload),w)}if(Li(y))return p(m,g,y,w);if(vi(y))return v(m,g,y,w);Ys(m,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,g!==null&&g.tag===6?(n(m,g.sibling),g=i(g,y),g.return=m,m=g):(n(m,g),g=qu(y,m.mode,w),g.return=m,m=g),l(m)):n(m,g)}return S}var ri=Fg(!0),$g=Fg(!1),Is={},qt=Jn(Is),hs=Jn(Is),ds=Jn(Is);function ir(t){if(t===Is)throw Error(A(174));return t}function Rc(t,e){switch(Y(ds,e),Y(hs,t),Y(qt,Is),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:La(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=La(e,t)}re(qt),Y(qt,e)}function ii(){re(qt),re(hs),re(ds)}function Vg(t){ir(ds.current);var e=ir(qt.current),n=La(e,t.type);e!==n&&(Y(hs,t),Y(qt,n))}function Nc(t){hs.current===t&&(re(qt),re(hs))}var oe=Jn(0);function Ql(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if((e.flags&128)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Hu=[];function Lc(){for(var t=0;t<Hu.length;t++)Hu[t]._workInProgressVersionPrimary=null;Hu.length=0}var xl=mn.ReactCurrentDispatcher,Uu=mn.ReactCurrentBatchConfig,dr=0,ue=null,Se=null,Ae=null,ql=!1,Gi=!1,ps=0,nS=0;function Ie(){throw Error(A(321))}function Bc(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!It(t[n],e[n]))return!1;return!0}function Ic(t,e,n,r,i,s){if(dr=s,ue=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,xl.current=t===null||t.memoizedState===null?lS:oS,t=n(r,i),Gi){s=0;do{if(Gi=!1,ps=0,25<=s)throw Error(A(301));s+=1,Ae=Se=null,e.updateQueue=null,xl.current=uS,t=n(r,i)}while(Gi)}if(xl.current=Jl,e=Se!==null&&Se.next!==null,dr=0,Ae=Se=ue=null,ql=!1,e)throw Error(A(300));return t}function zc(){var t=ps!==0;return ps=0,t}function Wt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ae===null?ue.memoizedState=Ae=t:Ae=Ae.next=t,Ae}function At(){if(Se===null){var t=ue.alternate;t=t!==null?t.memoizedState:null}else t=Se.next;var e=Ae===null?ue.memoizedState:Ae.next;if(e!==null)Ae=e,Se=t;else{if(t===null)throw Error(A(310));Se=t,t={memoizedState:Se.memoizedState,baseState:Se.baseState,baseQueue:Se.baseQueue,queue:Se.queue,next:null},Ae===null?ue.memoizedState=Ae=t:Ae=Ae.next=t}return Ae}function ms(t,e){return typeof e=="function"?e(t):e}function Ku(t){var e=At(),n=e.queue;if(n===null)throw Error(A(311));n.lastRenderedReducer=t;var r=Se,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var l=i.next;i.next=s.next,s.next=l}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var o=l=null,u=null,a=s;do{var f=a.lane;if((dr&f)===f)u!==null&&(u=u.next={lane:0,action:a.action,hasEagerState:a.hasEagerState,eagerState:a.eagerState,next:null}),r=a.hasEagerState?a.eagerState:t(r,a.action);else{var c={lane:f,action:a.action,hasEagerState:a.hasEagerState,eagerState:a.eagerState,next:null};u===null?(o=u=c,l=r):u=u.next=c,ue.lanes|=f,pr|=f}a=a.next}while(a!==null&&a!==s);u===null?l=r:u.next=o,It(r,e.memoizedState)||(Xe=!0),e.memoizedState=r,e.baseState=l,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,ue.lanes|=s,pr|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Gu(t){var e=At(),n=e.queue;if(n===null)throw Error(A(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var l=i=i.next;do s=t(s,l.action),l=l.next;while(l!==i);It(s,e.memoizedState)||(Xe=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function jg(){}function Wg(t,e){var n=ue,r=At(),i=e(),s=!It(r.memoizedState,i);if(s&&(r.memoizedState=i,Xe=!0),r=r.queue,_c(Kg.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Ae!==null&&Ae.memoizedState.tag&1){if(n.flags|=2048,gs(9,Ug.bind(null,n,r,i,e),void 0,null),xe===null)throw Error(A(349));(dr&30)!==0||Hg(n,e,i)}return i}function Hg(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ue.updateQueue,e===null?(e={lastEffect:null,stores:null},ue.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Ug(t,e,n,r){e.value=n,e.getSnapshot=r,Gg(e)&&xt(t,1,-1)}function Kg(t,e,n){return n(function(){Gg(e)&&xt(t,1,-1)})}function Gg(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!It(t,n)}catch{return!0}}function xd(t){var e=Wt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ms,lastRenderedState:t},e.queue=t,t=t.dispatch=sS.bind(null,ue,t),[e.memoizedState,t]}function gs(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ue.updateQueue,e===null?(e={lastEffect:null,stores:null},ue.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Qg(){return At().memoizedState}function Cl(t,e,n,r){var i=Wt();ue.flags|=t,i.memoizedState=gs(1|e,n,void 0,r===void 0?null:r)}function No(t,e,n,r){var i=At();r=r===void 0?null:r;var s=void 0;if(Se!==null){var l=Se.memoizedState;if(s=l.destroy,r!==null&&Bc(r,l.deps)){i.memoizedState=gs(e,n,s,r);return}}ue.flags|=t,i.memoizedState=gs(1|e,n,s,r)}function Cd(t,e){return Cl(8390656,8,t,e)}function _c(t,e){return No(2048,8,t,e)}function qg(t,e){return No(4,2,t,e)}function Jg(t,e){return No(4,4,t,e)}function Yg(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Xg(t,e,n){return n=n!=null?n.concat([t]):null,No(4,4,Yg.bind(null,e,t),n)}function Fc(){}function Zg(t,e){var n=At();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Bc(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function e0(t,e){var n=At();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Bc(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function t0(t,e,n){return(dr&21)===0?(t.baseState&&(t.baseState=!1,Xe=!0),t.memoizedState=n):(It(n,e)||(n=og(),ue.lanes|=n,pr|=n,t.baseState=!0),e)}function rS(t,e){var n=U;U=n!==0&&4>n?n:4,t(!0);var r=Uu.transition;Uu.transition={};try{t(!1),e()}finally{U=n,Uu.transition=r}}function n0(){return At().memoizedState}function iS(t,e,n){var r=_n(t);n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},r0(t)?i0(e,n):(s0(t,e,n),n=Ke(),t=xt(t,r,n),t!==null&&l0(t,e,r))}function sS(t,e,n){var r=_n(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(r0(t))i0(e,i);else{s0(t,e,i);var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var l=e.lastRenderedState,o=s(l,n);if(i.hasEagerState=!0,i.eagerState=o,It(o,l))return}catch{}finally{}n=Ke(),t=xt(t,r,n),t!==null&&l0(t,e,r)}}function r0(t){var e=t.alternate;return t===ue||e!==null&&e===ue}function i0(t,e){Gi=ql=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function s0(t,e,n){C0(t)?(t=e.interleaved,t===null?(n.next=n,Rt===null?Rt=[e]:Rt.push(e)):(n.next=t.next,t.next=n),e.interleaved=n):(t=e.pending,t===null?n.next=n:(n.next=t.next,t.next=n),e.pending=n)}function l0(t,e,n){if((n&4194240)!==0){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,yc(t,n)}}var Jl={readContext:Ct,useCallback:Ie,useContext:Ie,useEffect:Ie,useImperativeHandle:Ie,useInsertionEffect:Ie,useLayoutEffect:Ie,useMemo:Ie,useReducer:Ie,useRef:Ie,useState:Ie,useDebugValue:Ie,useDeferredValue:Ie,useTransition:Ie,useMutableSource:Ie,useSyncExternalStore:Ie,useId:Ie,unstable_isNewReconciler:!1},lS={readContext:Ct,useCallback:function(t,e){return Wt().memoizedState=[t,e===void 0?null:e],t},useContext:Ct,useEffect:Cd,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Cl(4194308,4,Yg.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Cl(4194308,4,t,e)},useInsertionEffect:function(t,e){return Cl(4,2,t,e)},useMemo:function(t,e){var n=Wt();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Wt();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=iS.bind(null,ue,t),[r.memoizedState,t]},useRef:function(t){var e=Wt();return t={current:t},e.memoizedState=t},useState:xd,useDebugValue:Fc,useDeferredValue:function(t){return Wt().memoizedState=t},useTransition:function(){var t=xd(!1),e=t[0];return t=rS.bind(null,t[1]),Wt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ue,i=Wt();if(se){if(n===void 0)throw Error(A(407));n=n()}else{if(n=e(),xe===null)throw Error(A(349));(dr&30)!==0||Hg(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Cd(Kg.bind(null,r,s,t),[t]),r.flags|=2048,gs(9,Ug.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Wt(),e=xe.identifierPrefix;if(se){var n=ln,r=sn;n=(r&~(1<<32-Bt(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=ps++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=nS++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},oS={readContext:Ct,useCallback:Zg,useContext:Ct,useEffect:_c,useImperativeHandle:Xg,useInsertionEffect:qg,useLayoutEffect:Jg,useMemo:e0,useReducer:Ku,useRef:Qg,useState:function(){return Ku(ms)},useDebugValue:Fc,useDeferredValue:function(t){var e=At();return t0(e,Se.memoizedState,t)},useTransition:function(){var t=Ku(ms)[0],e=At().memoizedState;return[t,e]},useMutableSource:jg,useSyncExternalStore:Wg,useId:n0,unstable_isNewReconciler:!1},uS={readContext:Ct,useCallback:Zg,useContext:Ct,useEffect:_c,useImperativeHandle:Xg,useInsertionEffect:qg,useLayoutEffect:Jg,useMemo:e0,useReducer:Gu,useRef:Qg,useState:function(){return Gu(ms)},useDebugValue:Fc,useDeferredValue:function(t){var e=At();return Se===null?e.memoizedState=t:t0(e,Se.memoizedState,t)},useTransition:function(){var t=Gu(ms)[0],e=At().memoizedState;return[t,e]},useMutableSource:jg,useSyncExternalStore:Wg,useId:n0,unstable_isNewReconciler:!1};function $c(t,e){try{var n="",r=e;do n+=Iv(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i}}function rf(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var aS=typeof WeakMap=="function"?WeakMap:Map;function o0(t,e,n){n=on(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Xl||(Xl=!0,df=r),rf(t,e)},n}function u0(t,e,n){n=on(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){rf(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){rf(t,e),typeof r!="function"&&(zn===null?zn=new Set([this]):zn.add(this));var l=e.stack;this.componentDidCatch(e.value,{componentStack:l!==null?l:""})}),n}function Ad(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new aS;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=xS.bind(null,t,e,n),e.then(t,t))}function Ed(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Pd(t,e,n,r,i){return(t.mode&1)===0?(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=on(-1,1),e.tag=2,In(n,e))),n.lanes|=1),t):(t.flags|=65536,t.lanes=i,t)}var a0,sf,f0,c0;a0=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};sf=function(){};f0=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,ir(qt.current);var s=null;switch(n){case"input":i=Da(t,i),r=Da(t,r),s=[];break;case"select":i=fe({},i,{value:void 0}),r=fe({},r,{value:void 0}),s=[];break;case"textarea":i=Na(t,i),r=Na(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=$l)}Ba(n,r);var l;n=null;for(a in i)if(!r.hasOwnProperty(a)&&i.hasOwnProperty(a)&&i[a]!=null)if(a==="style"){var o=i[a];for(l in o)o.hasOwnProperty(l)&&(n||(n={}),n[l]="")}else a!=="dangerouslySetInnerHTML"&&a!=="children"&&a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(ts.hasOwnProperty(a)?s||(s=[]):(s=s||[]).push(a,null));for(a in r){var u=r[a];if(o=i!=null?i[a]:void 0,r.hasOwnProperty(a)&&u!==o&&(u!=null||o!=null))if(a==="style")if(o){for(l in o)!o.hasOwnProperty(l)||u&&u.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in u)u.hasOwnProperty(l)&&o[l]!==u[l]&&(n||(n={}),n[l]=u[l])}else n||(s||(s=[]),s.push(a,n)),n=u;else a==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,o=o?o.__html:void 0,u!=null&&o!==u&&(s=s||[]).push(a,u)):a==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(a,""+u):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&(ts.hasOwnProperty(a)?(u!=null&&a==="onScroll"&&te("scroll",t),s||o===u||(s=[])):(s=s||[]).push(a,u))}n&&(s=s||[]).push("style",n);var a=s;(e.updateQueue=a)&&(e.flags|=4)}};c0=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ei(t,e){if(!se)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function ze(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function fS(t,e,n){var r=e.pendingProps;switch(Dc(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ze(e),null;case 1:return tt(e.type)&&Vl(),ze(e),null;case 3:return r=e.stateNode,ii(),re(et),re(Ve),Lc(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ci(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&(e.flags&256)===0||(e.flags|=1024,Dt!==null&&(gf(Dt),Dt=null))),sf(t,e),ze(e),null;case 5:Nc(e);var i=ir(ds.current);if(n=e.type,t!==null&&e.stateNode!=null)f0(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(A(166));return ze(e),null}if(t=ir(qt.current),Ci(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Ut]=e,r[cs]=s,t=(e.mode&1)!==0,n){case"dialog":te("cancel",r),te("close",r);break;case"iframe":case"object":case"embed":te("load",r);break;case"video":case"audio":for(i=0;i<Ii.length;i++)te(Ii[i],r);break;case"source":te("error",r);break;case"img":case"image":case"link":te("error",r),te("load",r);break;case"details":te("toggle",r);break;case"input":$h(r,s),te("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},te("invalid",r);break;case"textarea":jh(r,s),te("invalid",r)}Ba(n,s),i=null;for(var l in s)if(s.hasOwnProperty(l)){var o=s[l];l==="children"?typeof o=="string"?r.textContent!==o&&(s.suppressHydrationWarning!==!0&&Js(r.textContent,o,t),i=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&Js(r.textContent,o,t),i=["children",""+o]):ts.hasOwnProperty(l)&&o!=null&&l==="onScroll"&&te("scroll",r)}switch(n){case"input":js(r),Vh(r,s,!0);break;case"textarea":js(r),Wh(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=$l)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{l=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Km(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=l.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=l.createElement(n,{is:r.is}):(t=l.createElement(n),n==="select"&&(l=t,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):t=l.createElementNS(t,n),t[Ut]=e,t[cs]=r,a0(t,e,!1,!1),e.stateNode=t;e:{switch(l=Ia(n,r),n){case"dialog":te("cancel",t),te("close",t),i=r;break;case"iframe":case"object":case"embed":te("load",t),i=r;break;case"video":case"audio":for(i=0;i<Ii.length;i++)te(Ii[i],t);i=r;break;case"source":te("error",t),i=r;break;case"img":case"image":case"link":te("error",t),te("load",t),i=r;break;case"details":te("toggle",t),i=r;break;case"input":$h(t,r),i=Da(t,r),te("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=fe({},r,{value:void 0}),te("invalid",t);break;case"textarea":jh(t,r),i=Na(t,r),te("invalid",t);break;default:i=r}Ba(n,i),o=i;for(s in o)if(o.hasOwnProperty(s)){var u=o[s];s==="style"?qm(t,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&Gm(t,u)):s==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&ns(t,u):typeof u=="number"&&ns(t,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(ts.hasOwnProperty(s)?u!=null&&s==="onScroll"&&te("scroll",t):u!=null&&cc(t,s,u,l))}switch(n){case"input":js(t),Vh(t,r,!1);break;case"textarea":js(t),Wh(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Vn(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Wr(t,!!r.multiple,s,!1):r.defaultValue!=null&&Wr(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=$l)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ze(e),null;case 6:if(t&&e.stateNode!=null)c0(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(A(166));if(n=ir(ds.current),ir(qt.current),Ci(e)){if(r=e.stateNode,n=e.memoizedProps,r[Ut]=e,(s=r.nodeValue!==n)&&(t=ft,t!==null))switch(t.tag){case 3:Js(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Js(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ut]=e,e.stateNode=r}return ze(e),null;case 13:if(re(oe),r=e.memoizedState,se&&Je!==null&&(e.mode&1)!==0&&(e.flags&128)===0){for(r=Je;r;)r=rn(r.nextSibling);return ni(),e.flags|=98560,e}if(r!==null&&r.dehydrated!==null){if(r=Ci(e),t===null){if(!r)throw Error(A(318));if(r=e.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(A(317));r[Ut]=e}else ni(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;return ze(e),null}return Dt!==null&&(gf(Dt),Dt=null),(e.flags&128)!==0?(e.lanes=n,e):(r=r!==null,n=!1,t===null?Ci(e):n=t.memoizedState!==null,r!==n&&r&&(e.child.flags|=8192,(e.mode&1)!==0&&(t===null||(oe.current&1)!==0?ke===0&&(ke=3):Kc())),e.updateQueue!==null&&(e.flags|=4),ze(e),null);case 4:return ii(),sf(t,e),t===null&&as(e.stateNode.containerInfo),ze(e),null;case 10:return Oc(e.type._context),ze(e),null;case 17:return tt(e.type)&&Vl(),ze(e),null;case 19:if(re(oe),s=e.memoizedState,s===null)return ze(e),null;if(r=(e.flags&128)!==0,l=s.rendering,l===null)if(r)Ei(s,!1);else{if(ke!==0||t!==null&&(t.flags&128)!==0)for(t=e.child;t!==null;){if(l=Ql(t),l!==null){for(e.flags|=128,Ei(s,!1),r=l.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,l=s.alternate,l===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,t=l.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Y(oe,oe.current&1|2),e.child}t=t.sibling}s.tail!==null&&me()>si&&(e.flags|=128,r=!0,Ei(s,!1),e.lanes=4194304)}else{if(!r)if(t=Ql(l),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ei(s,!0),s.tail===null&&s.tailMode==="hidden"&&!l.alternate&&!se)return ze(e),null}else 2*me()-s.renderingStartTime>si&&n!==1073741824&&(e.flags|=128,r=!0,Ei(s,!1),e.lanes=4194304);s.isBackwards?(l.sibling=e.child,e.child=l):(n=s.last,n!==null?n.sibling=l:e.child=l,s.last=l)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=me(),e.sibling=null,n=oe.current,Y(oe,r?n&1|2:n&1),e):(ze(e),null);case 22:case 23:return Uc(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&(e.mode&1)!==0?(lt&1073741824)!==0&&(ze(e),e.subtreeFlags&6&&(e.flags|=8192)):ze(e),null;case 24:return null;case 25:return null}throw Error(A(156,e.tag))}var cS=mn.ReactCurrentOwner,Xe=!1;function We(t,e,n,r){e.child=t===null?$g(e,null,n,r):ri(e,t.child,n,r)}function Od(t,e,n,r,i){n=n.render;var s=e.ref;return Gr(e,i),r=Ic(t,e,n,r,s,i),n=zc(),t!==null&&!Xe?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,dn(t,e,i)):(se&&n&&bc(e),e.flags|=1,We(t,e,r,i),e.child)}function Md(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Gc(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,h0(t,e,s,r,i)):(t=Pl(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,(t.lanes&i)===0){var l=s.memoizedProps;if(n=n.compare,n=n!==null?n:us,n(l,r)&&t.ref===e.ref)return dn(t,e,i)}return e.flags|=1,t=Wn(s,r),t.ref=e.ref,t.return=e,e.child=t}function h0(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(us(s,r)&&t.ref===e.ref)if(Xe=!1,e.pendingProps=r=s,(t.lanes&i)!==0)(t.flags&131072)!==0&&(Xe=!0);else return e.lanes=t.lanes,dn(t,e,i)}return lf(t,e,n,r,i)}function d0(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if((e.mode&1)===0)e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Y(Fr,lt),lt|=n;else if((n&1073741824)!==0)e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Y(Fr,lt),lt|=r;else return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Y(Fr,lt),lt|=t,null;else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Y(Fr,lt),lt|=r;return We(t,e,i,n),e.child}function p0(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function lf(t,e,n,r,i){var s=tt(n)?cr:Ve.current;return s=ti(e,s),Gr(e,i),n=Ic(t,e,n,r,s,i),r=zc(),t!==null&&!Xe?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,dn(t,e,i)):(se&&r&&bc(e),e.flags|=1,We(t,e,n,i),e.child)}function bd(t,e,n,r,i){if(tt(n)){var s=!0;jl(e)}else s=!1;if(Gr(e,i),e.stateNode===null)t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),Ig(e,n,r),ef(e,n,r,i),r=!0;else if(t===null){var l=e.stateNode,o=e.memoizedProps;l.props=o;var u=l.context,a=n.contextType;typeof a=="object"&&a!==null?a=Ct(a):(a=tt(n)?cr:Ve.current,a=ti(e,a));var f=n.getDerivedStateFromProps,c=typeof f=="function"||typeof l.getSnapshotBeforeUpdate=="function";c||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==r||u!==a)&&vd(e,l,r,a),Sn=!1;var h=e.memoizedState;l.state=h,Ul(e,r,l,i),u=e.memoizedState,o!==r||h!==u||et.current||Sn?(typeof f=="function"&&(Za(e,n,f,r),u=e.memoizedState),(o=Sn||yd(e,n,o,r,h,u,a))?(c||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(e.flags|=4194308)):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),l.props=r,l.state=u,l.context=a,r=o):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{l=e.stateNode,Lg(t,e),o=e.memoizedProps,a=e.type===e.elementType?o:Mt(e.type,o),l.props=a,c=e.pendingProps,h=l.context,u=n.contextType,typeof u=="object"&&u!==null?u=Ct(u):(u=tt(n)?cr:Ve.current,u=ti(e,u));var d=n.getDerivedStateFromProps;(f=typeof d=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==c||h!==u)&&vd(e,l,r,u),Sn=!1,h=e.memoizedState,l.state=h,Ul(e,r,l,i);var p=e.memoizedState;o!==c||h!==p||et.current||Sn?(typeof d=="function"&&(Za(e,n,d,r),p=e.memoizedState),(a=Sn||yd(e,n,a,r,h,p,u)||!1)?(f||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(r,p,u),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(r,p,u)),typeof l.componentDidUpdate=="function"&&(e.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof l.componentDidUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=p),l.props=r,l.state=p,l.context=u,r=a):(typeof l.componentDidUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return of(t,e,n,r,s,i)}function of(t,e,n,r,i,s){p0(t,e);var l=(e.flags&128)!==0;if(!r&&!l)return i&&pd(e,n,!1),dn(t,e,s);r=e.stateNode,cS.current=e;var o=l&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&l?(e.child=ri(e,t.child,null,s),e.child=ri(e,null,o,s)):We(t,e,o,s),e.memoizedState=r.state,i&&pd(e,n,!0),e.child}function m0(t){var e=t.stateNode;e.pendingContext?dd(t,e.pendingContext,e.pendingContext!==e.context):e.context&&dd(t,e.context,!1),Rc(t,e.containerInfo)}function Dd(t,e,n,r,i){return ni(),Tc(i),e.flags|=256,We(t,e,n,r),e.child}var Xs={dehydrated:null,treeContext:null,retryLane:0};function Zs(t){return{baseLanes:t,cachePool:null,transitions:null}}function Td(t,e){return{baseLanes:t.baseLanes|e,cachePool:null,transitions:t.transitions}}function g0(t,e,n){var r=e.pendingProps,i=oe.current,s=!1,l=(e.flags&128)!==0,o;if((o=l)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Y(oe,i&1),t===null)return nf(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?((e.mode&1)===0?e.lanes=1:t.data==="$!"?e.lanes=8:e.lanes=1073741824,null):(i=r.children,t=r.fallback,s?(r=e.mode,s=e.child,i={mode:"hidden",children:i},(r&1)===0&&s!==null?(s.childLanes=0,s.pendingProps=i):s=to(i,r,0,null),t=ur(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Zs(n),e.memoizedState=Xs,t):uf(e,i));if(i=t.memoizedState,i!==null){if(o=i.dehydrated,o!==null){if(l)return e.flags&256?(e.flags&=-257,el(t,e,n,Error(A(422)))):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=to({mode:"visible",children:r.children},i,0,null),s=ur(s,i,n,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,(e.mode&1)!==0&&ri(e,t.child,null,n),e.child.memoizedState=Zs(n),e.memoizedState=Xs,s);if((e.mode&1)===0)e=el(t,e,n,null);else if(o.data==="$!")e=el(t,e,n,Error(A(419)));else if(r=(n&t.childLanes)!==0,Xe||r){if(r=xe,r!==null){switch(n&-n){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}r=(s&(r.suspendedLanes|n))!==0?0:s,r!==0&&r!==i.retryLane&&(i.retryLane=r,xt(t,r,-1))}Kc(),e=el(t,e,n,Error(A(421)))}else o.data==="$?"?(e.flags|=128,e.child=t.child,e=CS.bind(null,t),o._reactRetry=e,e=null):(n=i.treeContext,Je=rn(o.nextSibling),ft=e,se=!0,Dt=null,n!==null&&(yt[vt++]=sn,yt[vt++]=ln,yt[vt++]=hr,sn=n.id,ln=n.overflow,hr=e),e=uf(e,e.pendingProps.children),e.flags|=4096);return e}return s?(r=Nd(t,e,r.children,r.fallback,n),s=e.child,i=t.child.memoizedState,s.memoizedState=i===null?Zs(n):Td(i,n),s.childLanes=t.childLanes&~n,e.memoizedState=Xs,r):(n=Rd(t,e,r.children,n),e.memoizedState=null,n)}return s?(r=Nd(t,e,r.children,r.fallback,n),s=e.child,i=t.child.memoizedState,s.memoizedState=i===null?Zs(n):Td(i,n),s.childLanes=t.childLanes&~n,e.memoizedState=Xs,r):(n=Rd(t,e,r.children,n),e.memoizedState=null,n)}function uf(t,e){return e=to({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Rd(t,e,n,r){var i=t.child;return t=i.sibling,n=Wn(i,{mode:"visible",children:n}),(e.mode&1)===0&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n}function Nd(t,e,n,r,i){var s=e.mode;t=t.child;var l=t.sibling,o={mode:"hidden",children:n};return(s&1)===0&&e.child!==t?(n=e.child,n.childLanes=0,n.pendingProps=o,e.deletions=null):(n=Wn(t,o),n.subtreeFlags=t.subtreeFlags&14680064),l!==null?r=Wn(l,r):(r=ur(r,s,i,null),r.flags|=2),r.return=e,n.return=e,n.sibling=r,e.child=n,r}function el(t,e,n,r){return r!==null&&Tc(r),ri(e,t.child,null,n),t=uf(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Ld(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Xa(t.return,e,n)}function Qu(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function y0(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(We(t,e,r.children,n),r=oe.current,(r&2)!==0)r=r&1|2,e.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ld(t,n,e);else if(t.tag===19)Ld(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Y(oe,r),(e.mode&1)===0)e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Ql(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Qu(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Ql(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Qu(e,!0,n,null,s);break;case"together":Qu(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function dn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),pr|=e.lanes,(n&e.childLanes)===0)return null;if(t!==null&&e.child!==t.child)throw Error(A(153));if(e.child!==null){for(t=e.child,n=Wn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Wn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function hS(t,e,n){switch(e.tag){case 3:m0(e),ni();break;case 5:Vg(e);break;case 1:tt(e.type)&&jl(e);break;case 4:Rc(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Y(Wl,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Y(oe,oe.current&1),e.flags|=128,null):(n&e.child.childLanes)!==0?g0(t,e,n):(Y(oe,oe.current&1),t=dn(t,e,n),t!==null?t.sibling:null);Y(oe,oe.current&1);break;case 19:if(r=(n&e.childLanes)!==0,(t.flags&128)!==0){if(r)return y0(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Y(oe,oe.current),r)break;return null;case 22:case 23:return e.lanes=0,d0(t,e,n)}return dn(t,e,n)}function dS(t,e){switch(Dc(e),e.tag){case 1:return tt(e.type)&&Vl(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ii(),re(et),re(Ve),Lc(),t=e.flags,(t&65536)!==0&&(t&128)===0?(e.flags=t&-65537|128,e):null;case 5:return Nc(e),null;case 13:if(re(oe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(A(340));ni()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return re(oe),null;case 4:return ii(),null;case 10:return Oc(e.type._context),null;case 22:case 23:return Uc(),null;case 24:return null;default:return null}}var tl=!1,Fe=!1,pS=typeof WeakSet=="function"?WeakSet:Set,T=null;function _r(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ce(t,e,r)}else n.current=null}function af(t,e,n){try{n()}catch(r){ce(t,e,r)}}var Bd=!1;function mS(t,e){if(Ka=zl,t=Cg(),Ac(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var l=0,o=-1,u=-1,a=0,f=0,c=t,h=null;t:for(;;){for(var d;c!==n||i!==0&&c.nodeType!==3||(o=l+i),c!==s||r!==0&&c.nodeType!==3||(u=l+r),c.nodeType===3&&(l+=c.nodeValue.length),(d=c.firstChild)!==null;)h=c,c=d;for(;;){if(c===t)break t;if(h===n&&++a===i&&(o=l),h===s&&++f===r&&(u=l),(d=c.nextSibling)!==null)break;c=h,h=c.parentNode}c=d}n=o===-1||u===-1?null:{start:o,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ga={focusedElem:t,selectionRange:n},zl=!1,T=e;T!==null;)if(e=T,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,T=t;else for(;T!==null;){e=T;try{var p=e.alternate;if((e.flags&1024)!==0)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var v=p.memoizedProps,S=p.memoizedState,m=e.stateNode,g=m.getSnapshotBeforeUpdate(e.elementType===e.type?v:Mt(e.type,v),S);m.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var y=e.stateNode.containerInfo;if(y.nodeType===1)y.textContent="";else if(y.nodeType===9){var w=y.body;w!=null&&(w.textContent="")}break;case 5:case 6:case 4:case 17:break;default:throw Error(A(163))}}catch(k){ce(e,e.return,k)}if(t=e.sibling,t!==null){t.return=e.return,T=t;break}T=e.return}return p=Bd,Bd=!1,p}function Qi(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&af(e,n,s)}i=i.next}while(i!==r)}}function Lo(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function ff(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function v0(t){var e=t.alternate;e!==null&&(t.alternate=null,v0(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ut],delete e[cs],delete e[Ja],delete e[Xw],delete e[Zw])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function w0(t){return t.tag===5||t.tag===3||t.tag===4}function Id(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||w0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function cf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=$l));else if(r!==4&&(t=t.child,t!==null))for(cf(t,e,n),t=t.sibling;t!==null;)cf(t,e,n),t=t.sibling}function hf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(hf(t,e,n),t=t.sibling;t!==null;)hf(t,e,n),t=t.sibling}var be=null,bt=!1;function vn(t,e,n){for(n=n.child;n!==null;)S0(t,e,n),n=n.sibling}function S0(t,e,n){if(Qt&&typeof Qt.onCommitFiberUnmount=="function")try{Qt.onCommitFiberUnmount(Po,n)}catch{}switch(n.tag){case 5:Fe||_r(n,e);case 6:var r=be,i=bt;be=null,vn(t,e,n),be=r,bt=i,be!==null&&(bt?(t=be,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):be.removeChild(n.stateNode));break;case 18:be!==null&&(bt?(t=be,n=n.stateNode,t.nodeType===8?ju(t.parentNode,n):t.nodeType===1&&ju(t,n),ls(t)):ju(be,n.stateNode));break;case 4:r=be,i=bt,be=n.stateNode.containerInfo,bt=!0,vn(t,e,n),be=r,bt=i;break;case 0:case 11:case 14:case 15:if(!Fe&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,l=s.destroy;s=s.tag,l!==void 0&&((s&2)!==0||(s&4)!==0)&&af(n,e,l),i=i.next}while(i!==r)}vn(t,e,n);break;case 1:if(!Fe&&(_r(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){ce(n,e,o)}vn(t,e,n);break;case 21:vn(t,e,n);break;case 22:n.mode&1?(Fe=(r=Fe)||n.memoizedState!==null,vn(t,e,n),Fe=r):vn(t,e,n);break;default:vn(t,e,n)}}function zd(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new pS),e.forEach(function(r){var i=AS.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Ot(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,l=e,o=l;e:for(;o!==null;){switch(o.tag){case 5:be=o.stateNode,bt=!1;break e;case 3:be=o.stateNode.containerInfo,bt=!0;break e;case 4:be=o.stateNode.containerInfo,bt=!0;break e}o=o.return}if(be===null)throw Error(A(160));S0(s,l,i),be=null,bt=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(a){ce(i,e,a)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)k0(e,t),e=e.sibling}function k0(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ot(e,t),_t(t),r&4){try{Qi(3,t,t.return),Lo(3,t)}catch(p){ce(t,t.return,p)}try{Qi(5,t,t.return)}catch(p){ce(t,t.return,p)}}break;case 1:Ot(e,t),_t(t),r&512&&n!==null&&_r(n,n.return);break;case 5:if(Ot(e,t),_t(t),r&512&&n!==null&&_r(n,n.return),t.flags&32){var i=t.stateNode;try{ns(i,"")}catch(p){ce(t,t.return,p)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,l=n!==null?n.memoizedProps:s,o=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&Hm(i,s),Ia(o,l);var a=Ia(o,s);for(l=0;l<u.length;l+=2){var f=u[l],c=u[l+1];f==="style"?qm(i,c):f==="dangerouslySetInnerHTML"?Gm(i,c):f==="children"?ns(i,c):cc(i,f,c,a)}switch(o){case"input":Ta(i,s);break;case"textarea":Um(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var d=s.value;d!=null?Wr(i,!!s.multiple,d,!1):h!==!!s.multiple&&(s.defaultValue!=null?Wr(i,!!s.multiple,s.defaultValue,!0):Wr(i,!!s.multiple,s.multiple?[]:"",!1))}i[cs]=s}catch(p){ce(t,t.return,p)}}break;case 6:if(Ot(e,t),_t(t),r&4){if(t.stateNode===null)throw Error(A(162));a=t.stateNode,f=t.memoizedProps;try{a.nodeValue=f}catch(p){ce(t,t.return,p)}}break;case 3:if(Ot(e,t),_t(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ls(e.containerInfo)}catch(p){ce(t,t.return,p)}break;case 4:Ot(e,t),_t(t);break;case 13:Ot(e,t),_t(t),a=t.child,a.flags&8192&&a.memoizedState!==null&&(a.alternate===null||a.alternate.memoizedState===null)&&(Wc=me()),r&4&&zd(t);break;case 22:if(a=n!==null&&n.memoizedState!==null,t.mode&1?(Fe=(f=Fe)||a,Ot(e,t),Fe=f):Ot(e,t),_t(t),r&8192){f=t.memoizedState!==null;e:for(c=null,h=t;;){if(h.tag===5){if(c===null){c=h;try{i=h.stateNode,f?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=h.stateNode,u=h.memoizedProps.style,l=u!=null&&u.hasOwnProperty("display")?u.display:null,o.style.display=Qm("display",l))}catch(p){ce(t,t.return,p)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=f?"":h.memoizedProps}catch(p){ce(t,t.return,p)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}if(f&&!a&&(t.mode&1)!==0)for(T=t,t=t.child;t!==null;){for(a=T=t;T!==null;){switch(f=T,c=f.child,f.tag){case 0:case 11:case 14:case 15:Qi(4,f,f.return);break;case 1:if(_r(f,f.return),s=f.stateNode,typeof s.componentWillUnmount=="function"){h=f,d=f.return;try{i=h,s.props=i.memoizedProps,s.state=i.memoizedState,s.componentWillUnmount()}catch(p){ce(h,d,p)}}break;case 5:_r(f,f.return);break;case 22:if(f.memoizedState!==null){Fd(a);continue}}c!==null?(c.return=f,T=c):Fd(a)}t=t.sibling}}break;case 19:Ot(e,t),_t(t),r&4&&zd(t);break;case 21:break;default:Ot(e,t),_t(t)}}function _t(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(w0(n)){var r=n;break e}n=n.return}throw Error(A(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ns(i,""),r.flags&=-33);var s=Id(t);hf(t,s,i);break;case 3:case 4:var l=r.stateNode.containerInfo,o=Id(t);cf(t,o,l);break;default:throw Error(A(161))}}catch(u){ce(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function gS(t,e,n){T=t,x0(t)}function x0(t,e,n){for(var r=(t.mode&1)!==0;T!==null;){var i=T,s=i.child;if(i.tag===22&&r){var l=i.memoizedState!==null||tl;if(!l){var o=i.alternate,u=o!==null&&o.memoizedState!==null||Fe;o=tl;var a=Fe;if(tl=l,(Fe=u)&&!a)for(T=i;T!==null;)l=T,u=l.child,l.tag===22&&l.memoizedState!==null?$d(i):u!==null?(u.return=l,T=u):$d(i);for(;s!==null;)T=s,x0(s),s=s.sibling;T=i,tl=o,Fe=a}_d(t)}else(i.subtreeFlags&8772)!==0&&s!==null?(s.return=i,T=s):_d(t)}}function _d(t){for(;T!==null;){var e=T;if((e.flags&8772)!==0){var n=e.alternate;try{if((e.flags&8772)!==0)switch(e.tag){case 0:case 11:case 15:Fe||Lo(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Fe)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Mt(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&gd(e,s,r);break;case 3:var l=e.updateQueue;if(l!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}gd(e,l,n)}break;case 5:var o=e.stateNode;if(n===null&&e.flags&4){n=o;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var a=e.alternate;if(a!==null){var f=a.memoizedState;if(f!==null){var c=f.dehydrated;c!==null&&ls(c)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(A(163))}Fe||e.flags&512&&ff(e)}catch(h){ce(e,e.return,h)}}if(e===t){T=null;break}if(n=e.sibling,n!==null){n.return=e.return,T=n;break}T=e.return}}function Fd(t){for(;T!==null;){var e=T;if(e===t){T=null;break}var n=e.sibling;if(n!==null){n.return=e.return,T=n;break}T=e.return}}function $d(t){for(;T!==null;){var e=T;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Lo(4,e)}catch(u){ce(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(u){ce(e,i,u)}}var s=e.return;try{ff(e)}catch(u){ce(e,s,u)}break;case 5:var l=e.return;try{ff(e)}catch(u){ce(e,l,u)}}}catch(u){ce(e,e.return,u)}if(e===t){T=null;break}var o=e.sibling;if(o!==null){o.return=e.return,T=o;break}T=e.return}}var yS=Math.ceil,Yl=mn.ReactCurrentDispatcher,Vc=mn.ReactCurrentOwner,kt=mn.ReactCurrentBatchConfig,$=0,xe=null,ye=null,Ne=0,lt=0,Fr=Jn(0),ke=0,ys=null,pr=0,Bo=0,jc=0,qi=null,qe=null,Wc=0,si=1/0,tn=null,Xl=!1,df=null,zn=null,nl=!1,Mn=null,Zl=0,Ji=0,pf=null,Al=-1,El=0;function Ke(){return($&6)!==0?me():Al!==-1?Al:Al=me()}function _n(t){return(t.mode&1)===0?1:($&2)!==0&&Ne!==0?Ne&-Ne:tS.transition!==null?(El===0&&(El=og()),El):(t=U,t!==0||(t=window.event,t=t===void 0?16:pg(t.type)),t)}function xt(t,e,n){if(50<Ji)throw Ji=0,pf=null,Error(A(185));var r=Io(t,e);return r===null?null:(Ns(r,e,n),(($&2)===0||r!==xe)&&(r===xe&&(($&2)===0&&(Bo|=e),ke===4&&An(r,Ne)),nt(r,n),e===1&&$===0&&(t.mode&1)===0&&(si=me()+500,To&&Yn())),r)}function Io(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}function C0(t){return(xe!==null||Rt!==null)&&(t.mode&1)!==0&&($&2)===0}function nt(t,e){var n=t.callbackNode;tw(t,e);var r=Il(t,t===xe?Ne:0);if(r===0)n!==null&&Kh(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Kh(n),e===1)t.tag===0?eS(Vd.bind(null,t)):Ng(Vd.bind(null,t)),Jw(function(){$===0&&Yn()}),n=null;else{switch(ug(r)){case 1:n=gc;break;case 4:n=sg;break;case 16:n=Bl;break;case 536870912:n=lg;break;default:n=Bl}n=T0(n,A0.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function A0(t,e){if(Al=-1,El=0,($&6)!==0)throw Error(A(327));var n=t.callbackNode;if(Qr()&&t.callbackNode!==n)return null;var r=Il(t,t===xe?Ne:0);if(r===0)return null;if((r&30)!==0||(r&t.expiredLanes)!==0||e)e=eo(t,r);else{e=r;var i=$;$|=2;var s=P0();(xe!==t||Ne!==e)&&(tn=null,si=me()+500,or(t,e));do try{SS();break}catch(o){E0(t,o)}while(1);Pc(),Yl.current=s,$=i,ye!==null?e=0:(xe=null,Ne=0,e=ke)}if(e!==0){if(e===2&&(i=Va(t),i!==0&&(r=i,e=mf(t,i))),e===1)throw n=ys,or(t,0),An(t,r),nt(t,me()),n;if(e===6)An(t,r);else{if(i=t.current.alternate,(r&30)===0&&!vS(i)&&(e=eo(t,r),e===2&&(s=Va(t),s!==0&&(r=s,e=mf(t,s))),e===1))throw n=ys,or(t,0),An(t,r),nt(t,me()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(A(345));case 2:tr(t,qe,tn);break;case 3:if(An(t,r),(r&130023424)===r&&(e=Wc+500-me(),10<e)){if(Il(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Ke(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=qa(tr.bind(null,t,qe,tn),e);break}tr(t,qe,tn);break;case 4:if(An(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var l=31-Bt(r);s=1<<l,l=e[l],l>i&&(i=l),r&=~s}if(r=i,r=me()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*yS(r/1960))-r,10<r){t.timeoutHandle=qa(tr.bind(null,t,qe,tn),r);break}tr(t,qe,tn);break;case 5:tr(t,qe,tn);break;default:throw Error(A(329))}}}return nt(t,me()),t.callbackNode===n?A0.bind(null,t):null}function mf(t,e){var n=qi;return t.current.memoizedState.isDehydrated&&(or(t,e).flags|=256),t=eo(t,e),t!==2&&(e=qe,qe=n,e!==null&&gf(e)),t}function gf(t){qe===null?qe=t:qe.push.apply(qe,t)}function vS(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!It(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function An(t,e){for(e&=~jc,e&=~Bo,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Bt(e),r=1<<n;t[n]=-1,e&=~r}}function Vd(t){if(($&6)!==0)throw Error(A(327));Qr();var e=Il(t,0);if((e&1)===0)return nt(t,me()),null;var n=eo(t,e);if(t.tag!==0&&n===2){var r=Va(t);r!==0&&(e=r,n=mf(t,r))}if(n===1)throw n=ys,or(t,0),An(t,e),nt(t,me()),n;if(n===6)throw Error(A(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,tr(t,qe,tn),nt(t,me()),null}function Hc(t,e){var n=$;$|=1;try{return t(e)}finally{$=n,$===0&&(si=me()+500,To&&Yn())}}function mr(t){Mn!==null&&Mn.tag===0&&($&6)===0&&Qr();var e=$;$|=1;var n=kt.transition,r=U;try{if(kt.transition=null,U=1,t)return t()}finally{U=r,kt.transition=n,$=e,($&6)===0&&Yn()}}function Uc(){lt=Fr.current,re(Fr)}function or(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,qw(n)),ye!==null)for(n=ye.return;n!==null;){var r=n;switch(Dc(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Vl();break;case 3:ii(),re(et),re(Ve),Lc();break;case 5:Nc(r);break;case 4:ii();break;case 13:re(oe);break;case 19:re(oe);break;case 10:Oc(r.type._context);break;case 22:case 23:Uc()}n=n.return}if(xe=t,ye=t=Wn(t.current,null),Ne=lt=e,ke=0,ys=null,jc=Bo=pr=0,qe=qi=null,Rt!==null){for(e=0;e<Rt.length;e++)if(n=Rt[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var l=s.next;s.next=i,r.next=l}n.pending=r}Rt=null}return t}function E0(t,e){do{var n=ye;try{if(Pc(),xl.current=Jl,ql){for(var r=ue.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}ql=!1}if(dr=0,Ae=Se=ue=null,Gi=!1,ps=0,Vc.current=null,n===null||n.return===null){ke=1,ys=e,ye=null;break}e:{var s=t,l=n.return,o=n,u=e;if(e=Ne,o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var a=u,f=o,c=f.tag;if((f.mode&1)===0&&(c===0||c===11||c===15)){var h=f.alternate;h?(f.updateQueue=h.updateQueue,f.memoizedState=h.memoizedState,f.lanes=h.lanes):(f.updateQueue=null,f.memoizedState=null)}var d=Ed(l);if(d!==null){d.flags&=-257,Pd(d,l,o,s,e),d.mode&1&&Ad(s,a,e),e=d,u=a;var p=e.updateQueue;if(p===null){var v=new Set;v.add(u),e.updateQueue=v}else p.add(u);break e}else{if((e&1)===0){Ad(s,a,e),Kc();break e}u=Error(A(426))}}else if(se&&o.mode&1){var S=Ed(l);if(S!==null){(S.flags&65536)===0&&(S.flags|=256),Pd(S,l,o,s,e),Tc(u);break e}}s=u,ke!==4&&(ke=2),qi===null?qi=[s]:qi.push(s),u=$c(u,o),o=l;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var m=o0(o,u,e);md(o,m);break e;case 1:s=u;var g=o.type,y=o.stateNode;if((o.flags&128)===0&&(typeof g.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(zn===null||!zn.has(y)))){o.flags|=65536,e&=-e,o.lanes|=e;var w=u0(o,s,e);md(o,w);break e}}o=o.return}while(o!==null)}M0(n)}catch(k){e=k,ye===n&&n!==null&&(ye=n=n.return);continue}break}while(1)}function P0(){var t=Yl.current;return Yl.current=Jl,t===null?Jl:t}function Kc(){(ke===0||ke===3||ke===2)&&(ke=4),xe===null||(pr&268435455)===0&&(Bo&268435455)===0||An(xe,Ne)}function eo(t,e){var n=$;$|=2;var r=P0();(xe!==t||Ne!==e)&&(tn=null,or(t,e));do try{wS();break}catch(i){E0(t,i)}while(1);if(Pc(),$=n,Yl.current=r,ye!==null)throw Error(A(261));return xe=null,Ne=0,ke}function wS(){for(;ye!==null;)O0(ye)}function SS(){for(;ye!==null&&!Kv();)O0(ye)}function O0(t){var e=D0(t.alternate,t,lt);t.memoizedProps=t.pendingProps,e===null?M0(t):ye=e,Vc.current=null}function M0(t){var e=t;do{var n=e.alternate;if(t=e.return,(e.flags&32768)===0){if(n=fS(n,e,lt),n!==null){ye=n;return}}else{if(n=dS(n,e),n!==null){n.flags&=32767,ye=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ke=6,ye=null;return}}if(e=e.sibling,e!==null){ye=e;return}ye=e=t}while(e!==null);ke===0&&(ke=5)}function tr(t,e,n){var r=U,i=kt.transition;try{kt.transition=null,U=1,kS(t,e,n,r)}finally{kt.transition=i,U=r}return null}function kS(t,e,n,r){do Qr();while(Mn!==null);if(($&6)!==0)throw Error(A(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(A(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(nw(t,s),t===xe&&(ye=xe=null,Ne=0),(n.subtreeFlags&2064)===0&&(n.flags&2064)===0||nl||(nl=!0,T0(Bl,function(){return Qr(),null})),s=(n.flags&15990)!==0,(n.subtreeFlags&15990)!==0||s){s=kt.transition,kt.transition=null;var l=U;U=1;var o=$;$|=4,Vc.current=null,mS(t,n),k0(n,t),jw(Ga),zl=!!Ka,Ga=Ka=null,t.current=n,gS(n),Gv(),$=o,U=l,kt.transition=s}else t.current=n;if(nl&&(nl=!1,Mn=t,Zl=i),s=t.pendingLanes,s===0&&(zn=null),Jv(n.stateNode),nt(t,me()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)r(e[n]);if(Xl)throw Xl=!1,t=df,df=null,t;return(Zl&1)!==0&&t.tag!==0&&Qr(),s=t.pendingLanes,(s&1)!==0?t===pf?Ji++:(Ji=0,pf=t):Ji=0,Yn(),null}function Qr(){if(Mn!==null){var t=ug(Zl),e=kt.transition,n=U;try{if(kt.transition=null,U=16>t?16:t,Mn===null)var r=!1;else{if(t=Mn,Mn=null,Zl=0,($&6)!==0)throw Error(A(331));var i=$;for($|=4,T=t.current;T!==null;){var s=T,l=s.child;if((T.flags&16)!==0){var o=s.deletions;if(o!==null){for(var u=0;u<o.length;u++){var a=o[u];for(T=a;T!==null;){var f=T;switch(f.tag){case 0:case 11:case 15:Qi(8,f,s)}var c=f.child;if(c!==null)c.return=f,T=c;else for(;T!==null;){f=T;var h=f.sibling,d=f.return;if(v0(f),f===a){T=null;break}if(h!==null){h.return=d,T=h;break}T=d}}}var p=s.alternate;if(p!==null){var v=p.child;if(v!==null){p.child=null;do{var S=v.sibling;v.sibling=null,v=S}while(v!==null)}}T=s}}if((s.subtreeFlags&2064)!==0&&l!==null)l.return=s,T=l;else e:for(;T!==null;){if(s=T,(s.flags&2048)!==0)switch(s.tag){case 0:case 11:case 15:Qi(9,s,s.return)}var m=s.sibling;if(m!==null){m.return=s.return,T=m;break e}T=s.return}}var g=t.current;for(T=g;T!==null;){l=T;var y=l.child;if((l.subtreeFlags&2064)!==0&&y!==null)y.return=l,T=y;else e:for(l=g;T!==null;){if(o=T,(o.flags&2048)!==0)try{switch(o.tag){case 0:case 11:case 15:Lo(9,o)}}catch(k){ce(o,o.return,k)}if(o===l){T=null;break e}var w=o.sibling;if(w!==null){w.return=o.return,T=w;break e}T=o.return}}if($=i,Yn(),Qt&&typeof Qt.onPostCommitFiberRoot=="function")try{Qt.onPostCommitFiberRoot(Po,t)}catch{}r=!0}return r}finally{U=n,kt.transition=e}}return!1}function jd(t,e,n){e=$c(n,e),e=o0(t,e,1),In(t,e),e=Ke(),t=Io(t,1),t!==null&&(Ns(t,1,e),nt(t,e))}function ce(t,e,n){if(t.tag===3)jd(t,t,n);else for(;e!==null;){if(e.tag===3){jd(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(zn===null||!zn.has(r))){t=$c(n,t),t=u0(e,t,1),In(e,t),t=Ke(),e=Io(e,1),e!==null&&(Ns(e,1,t),nt(e,t));break}}e=e.return}}function xS(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Ke(),t.pingedLanes|=t.suspendedLanes&n,xe===t&&(Ne&n)===n&&(ke===4||ke===3&&(Ne&130023424)===Ne&&500>me()-Wc?or(t,0):jc|=n),nt(t,e)}function b0(t,e){e===0&&((t.mode&1)===0?e=1:(e=Us,Us<<=1,(Us&130023424)===0&&(Us=4194304)));var n=Ke();t=Io(t,e),t!==null&&(Ns(t,e,n),nt(t,n))}function CS(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),b0(t,n)}function AS(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(A(314))}r!==null&&r.delete(e),b0(t,n)}var D0;D0=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||et.current)Xe=!0;else{if((t.lanes&n)===0&&(e.flags&128)===0)return Xe=!1,hS(t,e,n);Xe=(t.flags&131072)!==0}else Xe=!1,se&&(e.flags&1048576)!==0&&zg(e,Gl,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps;var i=ti(e,Ve.current);Gr(e,n),i=Ic(null,e,r,t,i,n);var s=zc();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,tt(r)?(s=!0,jl(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Mc(e),i.updater=Ro,e.stateNode=i,i._reactInternals=e,ef(e,r,t,n),e=of(null,e,r,!0,s,n)):(e.tag=0,se&&s&&bc(e),We(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=PS(r),t=Mt(r,t),i){case 0:e=lf(null,e,r,t,n);break e;case 1:e=bd(null,e,r,t,n);break e;case 11:e=Od(null,e,r,t,n);break e;case 14:e=Md(null,e,r,Mt(r.type,t),n);break e}throw Error(A(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Mt(r,i),lf(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Mt(r,i),bd(t,e,r,i,n);case 3:e:{if(m0(e),t===null)throw Error(A(387));r=e.pendingProps,s=e.memoizedState,i=s.element,Lg(t,e),Ul(e,r,null,n);var l=e.memoizedState;if(r=l.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Error(A(423)),e=Dd(t,e,r,n,i);break e}else if(r!==i){i=Error(A(424)),e=Dd(t,e,r,n,i);break e}else for(Je=rn(e.stateNode.containerInfo.firstChild),ft=e,se=!0,Dt=null,n=$g(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ni(),r===i){e=dn(t,e,n);break e}We(t,e,r,n)}e=e.child}return e;case 5:return Vg(e),t===null&&nf(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,l=i.children,Qa(r,i)?l=null:s!==null&&Qa(r,s)&&(e.flags|=32),p0(t,e),We(t,e,l,n),e.child;case 6:return t===null&&nf(e),null;case 13:return g0(t,e,n);case 4:return Rc(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ri(e,null,r,n):We(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Mt(r,i),Od(t,e,r,i,n);case 7:return We(t,e,e.pendingProps,n),e.child;case 8:return We(t,e,e.pendingProps.children,n),e.child;case 12:return We(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,l=i.value,Y(Wl,r._currentValue),r._currentValue=l,s!==null)if(It(s.value,l)){if(s.children===i.children&&!et.current){e=dn(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var o=s.dependencies;if(o!==null){l=s.child;for(var u=o.firstContext;u!==null;){if(u.context===r){if(s.tag===1){u=on(-1,n&-n),u.tag=2;var a=s.updateQueue;if(a!==null){a=a.shared;var f=a.pending;f===null?u.next=u:(u.next=f.next,f.next=u),a.pending=u}}s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),Xa(s.return,n,e),o.lanes|=n;break}u=u.next}}else if(s.tag===10)l=s.type===e.type?null:s.child;else if(s.tag===18){if(l=s.return,l===null)throw Error(A(341));l.lanes|=n,o=l.alternate,o!==null&&(o.lanes|=n),Xa(l,n,e),l=s.sibling}else l=s.child;if(l!==null)l.return=s;else for(l=s;l!==null;){if(l===e){l=null;break}if(s=l.sibling,s!==null){s.return=l.return,l=s;break}l=l.return}s=l}We(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Gr(e,n),i=Ct(i),r=r(i),e.flags|=1,We(t,e,r,n),e.child;case 14:return r=e.type,i=Mt(r,e.pendingProps),i=Mt(r.type,i),Md(t,e,r,i,n);case 15:return h0(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Mt(r,i),t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),e.tag=1,tt(r)?(t=!0,jl(e)):t=!1,Gr(e,n),Ig(e,r,i),ef(e,r,i,n),of(null,e,r,!0,t,n);case 19:return y0(t,e,n);case 22:return d0(t,e,n)}throw Error(A(156,e.tag))};function T0(t,e){return ig(t,e)}function ES(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wt(t,e,n,r){return new ES(t,e,n,r)}function Gc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function PS(t){if(typeof t=="function")return Gc(t)?1:0;if(t!=null){if(t=t.$$typeof,t===dc)return 11;if(t===pc)return 14}return 2}function Wn(t,e){var n=t.alternate;return n===null?(n=wt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Pl(t,e,n,r,i,s){var l=2;if(r=t,typeof t=="function")Gc(t)&&(l=1);else if(typeof t=="string")l=5;else e:switch(t){case br:return ur(n.children,i,s,e);case hc:l=8,i|=8;break;case Pa:return t=wt(12,n,e,i|2),t.elementType=Pa,t.lanes=s,t;case Oa:return t=wt(13,n,e,i),t.elementType=Oa,t.lanes=s,t;case Ma:return t=wt(19,n,e,i),t.elementType=Ma,t.lanes=s,t;case Vm:return to(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Fm:l=10;break e;case $m:l=9;break e;case dc:l=11;break e;case pc:l=14;break e;case wn:l=16,r=null;break e}throw Error(A(130,t==null?t:typeof t,""))}return e=wt(l,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function ur(t,e,n,r){return t=wt(7,t,r,e),t.lanes=n,t}function to(t,e,n,r){return t=wt(22,t,r,e),t.elementType=Vm,t.lanes=n,t.stateNode={},t}function qu(t,e,n){return t=wt(6,t,null,e),t.lanes=n,t}function Ju(t,e,n){return e=wt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function OS(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Tu(0),this.expirationTimes=Tu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Tu(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Qc(t,e,n,r,i,s,l,o,u){return t=new OS(t,e,n,o,u),e===1?(e=1,s===!0&&(e|=8)):e=0,s=wt(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Mc(s),t}function MS(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Mr,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function R0(t){if(!t)return jn;t=t._reactInternals;e:{if(xr(t)!==t||t.tag!==1)throw Error(A(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(tt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(A(171))}if(t.tag===1){var n=t.type;if(tt(n))return Rg(t,n,e)}return e}function N0(t,e,n,r,i,s,l,o,u){return t=Qc(n,r,!0,t,i,s,l,o,u),t.context=R0(null),n=t.current,r=Ke(),i=_n(n),s=on(r,i),s.callback=e!=null?e:null,In(n,s),t.current.lanes=i,Ns(t,i,r),nt(t,r),t}function zo(t,e,n,r){var i=e.current,s=Ke(),l=_n(i);return n=R0(n),e.context===null?e.context=n:e.pendingContext=n,e=on(s,l),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),In(i,e),t=xt(i,l,s),t!==null&&kl(t,i,l),l}function no(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Wd(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function qc(t,e){Wd(t,e),(t=t.alternate)&&Wd(t,e)}function bS(){return null}var L0=typeof reportError=="function"?reportError:function(t){console.error(t)};function Jc(t){this._internalRoot=t}_o.prototype.render=Jc.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(A(409));zo(t,e,null,null)};_o.prototype.unmount=Jc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;mr(function(){zo(null,t,null,null)}),e[hn]=null}};function _o(t){this._internalRoot=t}_o.prototype.unstable_scheduleHydration=function(t){if(t){var e=cg();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Cn.length&&e!==0&&e<Cn[n].priority;n++);Cn.splice(n,0,t),n===0&&dg(t)}};function Yc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Fo(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Hd(){}function DS(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var a=no(l);s.call(a)}}var l=N0(e,r,t,0,null,!1,!1,"",Hd);return t._reactRootContainer=l,t[hn]=l.current,as(t.nodeType===8?t.parentNode:t),mr(),l}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var o=r;r=function(){var a=no(u);o.call(a)}}var u=Qc(t,0,!1,null,null,!1,!1,"",Hd);return t._reactRootContainer=u,t[hn]=u.current,as(t.nodeType===8?t.parentNode:t),mr(function(){zo(e,u,n,r)}),u}function $o(t,e,n,r,i){var s=n._reactRootContainer;if(s){var l=s;if(typeof i=="function"){var o=i;i=function(){var u=no(l);o.call(u)}}zo(e,l,t,i)}else l=DS(n,e,t,i,r);return no(l)}ag=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Bi(e.pendingLanes);n!==0&&(yc(e,n|1),nt(e,me()),($&6)===0&&(si=me()+500,Yn()))}break;case 13:var r=Ke();mr(function(){return xt(t,1,r)}),qc(t,1)}};vc=function(t){if(t.tag===13){var e=Ke();xt(t,134217728,e),qc(t,134217728)}};fg=function(t){if(t.tag===13){var e=Ke(),n=_n(t);xt(t,n,e),qc(t,n)}};cg=function(){return U};hg=function(t,e){var n=U;try{return U=t,e()}finally{U=n}};_a=function(t,e,n){switch(e){case"input":if(Ta(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Do(r);if(!i)throw Error(A(90));Wm(r),Ta(r,i)}}}break;case"textarea":Um(t,n);break;case"select":e=n.value,e!=null&&Wr(t,!!n.multiple,e,!1)}};Xm=Hc;Zm=mr;var TS={usingClientEntryPoint:!1,Events:[Bs,Nr,Do,Jm,Ym,Hc]},Pi={findFiberByHostInstance:rr,bundleType:0,version:"18.1.0",rendererPackageName:"react-dom"},RS={bundleType:Pi.bundleType,version:Pi.version,rendererPackageName:Pi.rendererPackageName,rendererConfig:Pi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:mn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=ng(t),t===null?null:t.stateNode},findFiberByHostInstance:Pi.findFiberByHostInstance||bS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.1.0-next-22edb9f77-20220426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var rl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rl.isDisabled&&rl.supportsFiber)try{Po=rl.inject(RS),Qt=rl}catch{}}pt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=TS;pt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Yc(e))throw Error(A(200));return MS(t,e,null,n)};pt.createRoot=function(t,e){if(!Yc(t))throw Error(A(299));var n=!1,r="",i=L0;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Qc(t,1,!1,null,null,n,!1,r,i),t[hn]=e.current,as(t.nodeType===8?t.parentNode:t),new Jc(e)};pt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(A(188)):(t=Object.keys(t).join(","),Error(A(268,t)));return t=ng(e),t=t===null?null:t.stateNode,t};pt.flushSync=function(t){return mr(t)};pt.hydrate=function(t,e,n){if(!Fo(e))throw Error(A(200));return $o(null,t,e,!0,n)};pt.hydrateRoot=function(t,e,n){if(!Yc(t))throw Error(A(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",l=L0;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),e=N0(e,null,t,1,n!=null?n:null,i,!1,s,l),t[hn]=e.current,as(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new _o(e)};pt.render=function(t,e,n){if(!Fo(e))throw Error(A(200));return $o(null,t,e,!1,n)};pt.unmountComponentAtNode=function(t){if(!Fo(t))throw Error(A(40));return t._reactRootContainer?(mr(function(){$o(null,null,t,!1,function(){t._reactRootContainer=null,t[hn]=null})}),!0):!1};pt.unstable_batchedUpdates=Hc;pt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Fo(n))throw Error(A(200));if(t==null||t._reactInternals===void 0)throw Error(A(38));return $o(t,e,n,!1,r)};pt.version="18.1.0-next-22edb9f77-20220426";function B0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(B0)}catch(t){console.error(t)}}B0(),uc.exports=pt;var Ud=uc.exports;Ih.createRoot=Ud.createRoot,Ih.hydrateRoot=Ud.hydrateRoot;var I0={exports:{}},z0={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var li=it.exports;function NS(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var LS=typeof Object.is=="function"?Object.is:NS,BS=li.useState,IS=li.useEffect,zS=li.useLayoutEffect,_S=li.useDebugValue;function FS(t,e){var n=e(),r=BS({inst:{value:n,getSnapshot:e}}),i=r[0].inst,s=r[1];return zS(function(){i.value=n,i.getSnapshot=e,Yu(i)&&s({inst:i})},[t,n,e]),IS(function(){return Yu(i)&&s({inst:i}),t(function(){Yu(i)&&s({inst:i})})},[t]),_S(n),n}function Yu(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!LS(t,n)}catch{return!0}}function $S(t,e){return e()}var VS=typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"?$S:FS;z0.useSyncExternalStore=li.useSyncExternalStore!==void 0?li.useSyncExternalStore:VS;I0.exports=z0;var _0={exports:{}},F0={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vo=it.exports,jS=I0.exports;function WS(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var HS=typeof Object.is=="function"?Object.is:WS,US=jS.useSyncExternalStore,KS=Vo.useRef,GS=Vo.useEffect,QS=Vo.useMemo,qS=Vo.useDebugValue;F0.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=KS(null);if(s.current===null){var l={hasValue:!1,value:null};s.current=l}else l=s.current;s=QS(function(){function u(d){if(!a){if(a=!0,f=d,d=r(d),i!==void 0&&l.hasValue){var p=l.value;if(i(p,d))return c=p}return c=d}if(p=c,HS(f,d))return p;var v=r(d);return i!==void 0&&i(p,v)?p:(f=d,c=v)}var a=!1,f,c,h=n===void 0?null:n;return[function(){return u(e())},h===null?void 0:function(){return u(h())}]},[e,n,r,i]);var o=US(t,s[0],s[1]);return GS(function(){l.hasValue=!0,l.value=o},[o]),qS(o),o};_0.exports=F0;function JS(t){t()}let $0=JS;const YS=t=>$0=t,XS=()=>$0,oi=Tv.createContext(null);function V0(){return it.exports.useContext(oi)}const ZS=()=>{throw new Error("uSES not initialized!")};let j0=ZS;const ek=t=>{j0=t},tk=(t,e)=>t===e;function nk(t=oi){const e=t===oi?V0:()=>it.exports.useContext(t);return function(r,i=tk){const{store:s,subscription:l,getServerState:o}=e(),u=j0(l.addNestedSub,s.getState,o||s.getState,r,i);return it.exports.useDebugValue(u),u}}const iE=nk();var W0={exports:{}},K={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Me=typeof Symbol=="function"&&Symbol.for,Xc=Me?Symbol.for("react.element"):60103,Zc=Me?Symbol.for("react.portal"):60106,jo=Me?Symbol.for("react.fragment"):60107,Wo=Me?Symbol.for("react.strict_mode"):60108,Ho=Me?Symbol.for("react.profiler"):60114,Uo=Me?Symbol.for("react.provider"):60109,Ko=Me?Symbol.for("react.context"):60110,eh=Me?Symbol.for("react.async_mode"):60111,Go=Me?Symbol.for("react.concurrent_mode"):60111,Qo=Me?Symbol.for("react.forward_ref"):60112,qo=Me?Symbol.for("react.suspense"):60113,rk=Me?Symbol.for("react.suspense_list"):60120,Jo=Me?Symbol.for("react.memo"):60115,Yo=Me?Symbol.for("react.lazy"):60116,ik=Me?Symbol.for("react.block"):60121,sk=Me?Symbol.for("react.fundamental"):60117,lk=Me?Symbol.for("react.responder"):60118,ok=Me?Symbol.for("react.scope"):60119;function gt(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Xc:switch(t=t.type,t){case eh:case Go:case jo:case Ho:case Wo:case qo:return t;default:switch(t=t&&t.$$typeof,t){case Ko:case Qo:case Yo:case Jo:case Uo:return t;default:return e}}case Zc:return e}}}function H0(t){return gt(t)===Go}K.AsyncMode=eh;K.ConcurrentMode=Go;K.ContextConsumer=Ko;K.ContextProvider=Uo;K.Element=Xc;K.ForwardRef=Qo;K.Fragment=jo;K.Lazy=Yo;K.Memo=Jo;K.Portal=Zc;K.Profiler=Ho;K.StrictMode=Wo;K.Suspense=qo;K.isAsyncMode=function(t){return H0(t)||gt(t)===eh};K.isConcurrentMode=H0;K.isContextConsumer=function(t){return gt(t)===Ko};K.isContextProvider=function(t){return gt(t)===Uo};K.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Xc};K.isForwardRef=function(t){return gt(t)===Qo};K.isFragment=function(t){return gt(t)===jo};K.isLazy=function(t){return gt(t)===Yo};K.isMemo=function(t){return gt(t)===Jo};K.isPortal=function(t){return gt(t)===Zc};K.isProfiler=function(t){return gt(t)===Ho};K.isStrictMode=function(t){return gt(t)===Wo};K.isSuspense=function(t){return gt(t)===qo};K.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===jo||t===Go||t===Ho||t===Wo||t===qo||t===rk||typeof t=="object"&&t!==null&&(t.$$typeof===Yo||t.$$typeof===Jo||t.$$typeof===Uo||t.$$typeof===Ko||t.$$typeof===Qo||t.$$typeof===sk||t.$$typeof===lk||t.$$typeof===ok||t.$$typeof===ik)};K.typeOf=gt;W0.exports=K;var U0=W0.exports,uk={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},ak={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},K0={};K0[U0.ForwardRef]=uk;K0[U0.Memo]=ak;var q={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var th=Symbol.for("react.element"),nh=Symbol.for("react.portal"),Xo=Symbol.for("react.fragment"),Zo=Symbol.for("react.strict_mode"),eu=Symbol.for("react.profiler"),tu=Symbol.for("react.provider"),nu=Symbol.for("react.context"),fk=Symbol.for("react.server_context"),ru=Symbol.for("react.forward_ref"),iu=Symbol.for("react.suspense"),su=Symbol.for("react.suspense_list"),lu=Symbol.for("react.memo"),ou=Symbol.for("react.lazy"),ck=Symbol.for("react.offscreen"),G0;G0=Symbol.for("react.module.reference");function Et(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case th:switch(t=t.type,t){case Xo:case eu:case Zo:case iu:case su:return t;default:switch(t=t&&t.$$typeof,t){case fk:case nu:case ru:case ou:case lu:case tu:return t;default:return e}}case nh:return e}}}q.ContextConsumer=nu;q.ContextProvider=tu;q.Element=th;q.ForwardRef=ru;q.Fragment=Xo;q.Lazy=ou;q.Memo=lu;q.Portal=nh;q.Profiler=eu;q.StrictMode=Zo;q.Suspense=iu;q.SuspenseList=su;q.isAsyncMode=function(){return!1};q.isConcurrentMode=function(){return!1};q.isContextConsumer=function(t){return Et(t)===nu};q.isContextProvider=function(t){return Et(t)===tu};q.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===th};q.isForwardRef=function(t){return Et(t)===ru};q.isFragment=function(t){return Et(t)===Xo};q.isLazy=function(t){return Et(t)===ou};q.isMemo=function(t){return Et(t)===lu};q.isPortal=function(t){return Et(t)===nh};q.isProfiler=function(t){return Et(t)===eu};q.isStrictMode=function(t){return Et(t)===Zo};q.isSuspense=function(t){return Et(t)===iu};q.isSuspenseList=function(t){return Et(t)===su};q.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Xo||t===eu||t===Zo||t===iu||t===su||t===ck||typeof t=="object"&&t!==null&&(t.$$typeof===ou||t.$$typeof===lu||t.$$typeof===tu||t.$$typeof===nu||t.$$typeof===ru||t.$$typeof===G0||t.getModuleId!==void 0)};q.typeOf=Et;function hk(){const t=XS();let e=null,n=null;return{clear(){e=null,n=null},notify(){t(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){let r=[],i=e;for(;i;)r.push(i),i=i.next;return r},subscribe(r){let i=!0,s=n={callback:r,next:null,prev:n};return s.prev?s.prev.next=s:e=s,function(){!i||e===null||(i=!1,s.next?s.next.prev=s.prev:n=s.prev,s.prev?s.prev.next=s.next:e=s.next)}}}}const Kd={notify(){},get:()=>[]};function dk(t,e){let n,r=Kd;function i(c){return u(),r.subscribe(c)}function s(){r.notify()}function l(){f.onStateChange&&f.onStateChange()}function o(){return Boolean(n)}function u(){n||(n=e?e.addNestedSub(l):t.subscribe(l),r=hk())}function a(){n&&(n(),n=void 0,r.clear(),r=Kd)}const f={addNestedSub:i,notifyNestedSubs:s,handleChangeWrapper:l,isSubscribed:o,trySubscribe:u,tryUnsubscribe:a,getListeners:()=>r};return f}const pk=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined",mk=pk?it.exports.useLayoutEffect:it.exports.useEffect;var uu={exports:{}},au={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gk=it.exports,yk=Symbol.for("react.element"),vk=Symbol.for("react.fragment"),wk=Object.prototype.hasOwnProperty,Sk=gk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,kk={key:!0,ref:!0,__self:!0,__source:!0};function Q0(t,e,n){var r,i={},s=null,l=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(l=e.ref);for(r in e)wk.call(e,r)&&!kk.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:yk,type:t,key:s,ref:l,props:i,_owner:Sk.current}}au.Fragment=vk;au.jsx=Q0;au.jsxs=Q0;uu.exports=au;const xk=uu.exports.jsx,sE=uu.exports.jsxs,lE=uu.exports.Fragment;function oE({store:t,context:e,children:n,serverState:r}){const i=it.exports.useMemo(()=>{const o=dk(t);return{store:t,subscription:o,getServerState:r?()=>r:void 0}},[t,r]),s=it.exports.useMemo(()=>t.getState(),[t]);return mk(()=>{const{subscription:o}=i;return o.onStateChange=o.notifyNestedSubs,o.trySubscribe(),s!==t.getState()&&o.notifyNestedSubs(),()=>{o.tryUnsubscribe(),o.onStateChange=void 0}},[i,s]),xk((e||oi).Provider,{value:i,children:n})}function Ck(t=oi){const e=t===oi?V0:()=>it.exports.useContext(t);return function(){const{store:r}=e();return r}}const uE=Ck();ek(_0.exports.useSyncExternalStoreWithSelector);YS(uc.exports.unstable_batchedUpdates);function Tt(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+t+(n.length?" "+n.map(function(i){return"'"+i+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Hn(t){return!!t&&!!t[ie]}function Un(t){return!!t&&(function(e){if(!e||typeof e!="object")return!1;var n=Object.getPrototypeOf(e);if(n===null)return!0;var r=Object.hasOwnProperty.call(n,"constructor")&&n.constructor;return r===Object||typeof r=="function"&&Function.toString.call(r)===Rk}(t)||Array.isArray(t)||!!t[Zd]||!!t.constructor[Zd]||rh(t)||ih(t))}function gr(t,e,n){n===void 0&&(n=!1),gi(t)===0?(n?Object.keys:Jr)(t).forEach(function(r){n&&typeof r=="symbol"||e(r,t[r],t)}):t.forEach(function(r,i){return e(i,r,t)})}function gi(t){var e=t[ie];return e?e.i>3?e.i-4:e.i:Array.isArray(t)?1:rh(t)?2:ih(t)?3:0}function qr(t,e){return gi(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function Ak(t,e){return gi(t)===2?t.get(e):t[e]}function q0(t,e,n){var r=gi(t);r===2?t.set(e,n):r===3?(t.delete(e),t.add(n)):t[e]=n}function J0(t,e){return t===e?t!==0||1/t==1/e:t!=t&&e!=e}function rh(t){return Dk&&t instanceof Map}function ih(t){return Tk&&t instanceof Set}function nr(t){return t.o||t.t}function sh(t){if(Array.isArray(t))return Array.prototype.slice.call(t);var e=X0(t);delete e[ie];for(var n=Jr(e),r=0;r<n.length;r++){var i=n[r],s=e[i];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(e[i]={configurable:!0,writable:!0,enumerable:s.enumerable,value:t[i]})}return Object.create(Object.getPrototypeOf(t),e)}function lh(t,e){return e===void 0&&(e=!1),oh(t)||Hn(t)||!Un(t)||(gi(t)>1&&(t.set=t.add=t.clear=t.delete=Ek),Object.freeze(t),e&&gr(t,function(n,r){return lh(r,!0)},!0)),t}function Ek(){Tt(2)}function oh(t){return t==null||typeof t!="object"||Object.isFrozen(t)}function Jt(t){var e=Sf[t];return e||Tt(18,t),e}function Pk(t,e){Sf[t]||(Sf[t]=e)}function yf(){return vs}function Xu(t,e){e&&(Jt("Patches"),t.u=[],t.s=[],t.v=e)}function ro(t){vf(t),t.p.forEach(Ok),t.p=null}function vf(t){t===vs&&(vs=t.l)}function Gd(t){return vs={p:[],l:vs,h:t,m:!0,_:0}}function Ok(t){var e=t[ie];e.i===0||e.i===1?e.j():e.O=!0}function Zu(t,e){e._=e.p.length;var n=e.p[0],r=t!==void 0&&t!==n;return e.h.g||Jt("ES5").S(e,t,r),r?(n[ie].P&&(ro(e),Tt(4)),Un(t)&&(t=io(e,t),e.l||so(e,t)),e.u&&Jt("Patches").M(n[ie].t,t,e.u,e.s)):t=io(e,n,[]),ro(e),e.u&&e.v(e.u,e.s),t!==Y0?t:void 0}function io(t,e,n){if(oh(e))return e;var r=e[ie];if(!r)return gr(e,function(s,l){return Qd(t,r,e,s,l,n)},!0),e;if(r.A!==t)return e;if(!r.P)return so(t,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=r.i===4||r.i===5?r.o=sh(r.k):r.o;gr(r.i===3?new Set(i):i,function(s,l){return Qd(t,r,i,s,l,n)}),so(t,i,!1),n&&t.u&&Jt("Patches").R(r,n,t.u,t.s)}return r.o}function Qd(t,e,n,r,i,s){if(Hn(i)){var l=io(t,i,s&&e&&e.i!==3&&!qr(e.D,r)?s.concat(r):void 0);if(q0(n,r,l),!Hn(l))return;t.m=!1}if(Un(i)&&!oh(i)){if(!t.h.F&&t._<1)return;io(t,i),e&&e.A.l||so(t,i)}}function so(t,e,n){n===void 0&&(n=!1),t.h.F&&t.m&&lh(e,n)}function ea(t,e){var n=t[ie];return(n?nr(n):t)[e]}function qd(t,e){if(e in t)for(var n=Object.getPrototypeOf(t);n;){var r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Object.getPrototypeOf(n)}}function En(t){t.P||(t.P=!0,t.l&&En(t.l))}function ta(t){t.o||(t.o=sh(t.t))}function wf(t,e,n){var r=rh(e)?Jt("MapSet").N(e,n):ih(e)?Jt("MapSet").T(e,n):t.g?function(i,s){var l=Array.isArray(i),o={i:l?1:0,A:s?s.A:yf(),P:!1,I:!1,D:{},l:s,t:i,k:null,o:null,j:null,C:!1},u=o,a=ws;l&&(u=[o],a=zi);var f=Proxy.revocable(u,a),c=f.revoke,h=f.proxy;return o.k=h,o.j=c,h}(e,n):Jt("ES5").J(e,n);return(n?n.A:yf()).p.push(r),r}function Mk(t){return Hn(t)||Tt(22,t),function e(n){if(!Un(n))return n;var r,i=n[ie],s=gi(n);if(i){if(!i.P&&(i.i<4||!Jt("ES5").K(i)))return i.t;i.I=!0,r=Jd(n,s),i.I=!1}else r=Jd(n,s);return gr(r,function(l,o){i&&Ak(i.t,l)===o||q0(r,l,e(o))}),s===3?new Set(r):r}(t)}function Jd(t,e){switch(e){case 2:return new Map(t);case 3:return Array.from(t)}return sh(t)}function bk(){function t(s,l){var o=i[s];return o?o.enumerable=l:i[s]=o={configurable:!0,enumerable:l,get:function(){var u=this[ie];return ws.get(u,s)},set:function(u){var a=this[ie];ws.set(a,s,u)}},o}function e(s){for(var l=s.length-1;l>=0;l--){var o=s[l][ie];if(!o.P)switch(o.i){case 5:r(o)&&En(o);break;case 4:n(o)&&En(o)}}}function n(s){for(var l=s.t,o=s.k,u=Jr(o),a=u.length-1;a>=0;a--){var f=u[a];if(f!==ie){var c=l[f];if(c===void 0&&!qr(l,f))return!0;var h=o[f],d=h&&h[ie];if(d?d.t!==c:!J0(h,c))return!0}}var p=!!l[ie];return u.length!==Jr(l).length+(p?0:1)}function r(s){var l=s.k;if(l.length!==s.t.length)return!0;var o=Object.getOwnPropertyDescriptor(l,l.length-1);if(o&&!o.get)return!0;for(var u=0;u<l.length;u++)if(!l.hasOwnProperty(u))return!0;return!1}var i={};Pk("ES5",{J:function(s,l){var o=Array.isArray(s),u=function(f,c){if(f){for(var h=Array(c.length),d=0;d<c.length;d++)Object.defineProperty(h,""+d,t(d,!0));return h}var p=X0(c);delete p[ie];for(var v=Jr(p),S=0;S<v.length;S++){var m=v[S];p[m]=t(m,f||!!p[m].enumerable)}return Object.create(Object.getPrototypeOf(c),p)}(o,s),a={i:o?5:4,A:l?l.A:yf(),P:!1,I:!1,D:{},l,t:s,k:u,o:null,O:!1,C:!1};return Object.defineProperty(u,ie,{value:a,writable:!0}),u},S:function(s,l,o){o?Hn(l)&&l[ie].A===s&&e(s.p):(s.u&&function u(a){if(a&&typeof a=="object"){var f=a[ie];if(f){var c=f.t,h=f.k,d=f.D,p=f.i;if(p===4)gr(h,function(y){y!==ie&&(c[y]!==void 0||qr(c,y)?d[y]||u(h[y]):(d[y]=!0,En(f)))}),gr(c,function(y){h[y]!==void 0||qr(h,y)||(d[y]=!1,En(f))});else if(p===5){if(r(f)&&(En(f),d.length=!0),h.length<c.length)for(var v=h.length;v<c.length;v++)d[v]=!1;else for(var S=c.length;S<h.length;S++)d[S]=!0;for(var m=Math.min(h.length,c.length),g=0;g<m;g++)h.hasOwnProperty(g)||(d[g]=!0),d[g]===void 0&&u(h[g])}}}}(s.p[0]),e(s.p))},K:function(s){return s.i===4?n(s):r(s)}})}var Yd,vs,uh=typeof Symbol!="undefined"&&typeof Symbol("x")=="symbol",Dk=typeof Map!="undefined",Tk=typeof Set!="undefined",Xd=typeof Proxy!="undefined"&&Proxy.revocable!==void 0&&typeof Reflect!="undefined",Y0=uh?Symbol.for("immer-nothing"):((Yd={})["immer-nothing"]=!0,Yd),Zd=uh?Symbol.for("immer-draftable"):"__$immer_draftable",ie=uh?Symbol.for("immer-state"):"__$immer_state",Rk=""+Object.prototype.constructor,Jr=typeof Reflect!="undefined"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames,X0=Object.getOwnPropertyDescriptors||function(t){var e={};return Jr(t).forEach(function(n){e[n]=Object.getOwnPropertyDescriptor(t,n)}),e},Sf={},ws={get:function(t,e){if(e===ie)return t;var n=nr(t);if(!qr(n,e))return function(i,s,l){var o,u=qd(s,l);return u?"value"in u?u.value:(o=u.get)===null||o===void 0?void 0:o.call(i.k):void 0}(t,n,e);var r=n[e];return t.I||!Un(r)?r:r===ea(t.t,e)?(ta(t),t.o[e]=wf(t.A.h,r,t)):r},has:function(t,e){return e in nr(t)},ownKeys:function(t){return Reflect.ownKeys(nr(t))},set:function(t,e,n){var r=qd(nr(t),e);if(r!=null&&r.set)return r.set.call(t.k,n),!0;if(!t.P){var i=ea(nr(t),e),s=i==null?void 0:i[ie];if(s&&s.t===n)return t.o[e]=n,t.D[e]=!1,!0;if(J0(n,i)&&(n!==void 0||qr(t.t,e)))return!0;ta(t),En(t)}return t.o[e]===n&&typeof n!="number"&&(n!==void 0||e in t.o)||(t.o[e]=n,t.D[e]=!0,!0)},deleteProperty:function(t,e){return ea(t.t,e)!==void 0||e in t.t?(t.D[e]=!1,ta(t),En(t)):delete t.D[e],t.o&&delete t.o[e],!0},getOwnPropertyDescriptor:function(t,e){var n=nr(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.i!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty:function(){Tt(11)},getPrototypeOf:function(t){return Object.getPrototypeOf(t.t)},setPrototypeOf:function(){Tt(12)}},zi={};gr(ws,function(t,e){zi[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}}),zi.deleteProperty=function(t,e){return zi.set.call(this,t,e,void 0)},zi.set=function(t,e,n){return ws.set.call(this,t[0],e,n,t[0])};var Nk=function(){function t(n){var r=this;this.g=Xd,this.F=!0,this.produce=function(i,s,l){if(typeof i=="function"&&typeof s!="function"){var o=s;s=i;var u=r;return function(v){var S=this;v===void 0&&(v=o);for(var m=arguments.length,g=Array(m>1?m-1:0),y=1;y<m;y++)g[y-1]=arguments[y];return u.produce(v,function(w){var k;return(k=s).call.apply(k,[S,w].concat(g))})}}var a;if(typeof s!="function"&&Tt(6),l!==void 0&&typeof l!="function"&&Tt(7),Un(i)){var f=Gd(r),c=wf(r,i,void 0),h=!0;try{a=s(c),h=!1}finally{h?ro(f):vf(f)}return typeof Promise!="undefined"&&a instanceof Promise?a.then(function(v){return Xu(f,l),Zu(v,f)},function(v){throw ro(f),v}):(Xu(f,l),Zu(a,f))}if(!i||typeof i!="object"){if((a=s(i))===void 0&&(a=i),a===Y0&&(a=void 0),r.F&&lh(a,!0),l){var d=[],p=[];Jt("Patches").M(i,a,d,p),l(d,p)}return a}Tt(21,i)},this.produceWithPatches=function(i,s){if(typeof i=="function")return function(a){for(var f=arguments.length,c=Array(f>1?f-1:0),h=1;h<f;h++)c[h-1]=arguments[h];return r.produceWithPatches(a,function(d){return i.apply(void 0,[d].concat(c))})};var l,o,u=r.produce(i,s,function(a,f){l=a,o=f});return typeof Promise!="undefined"&&u instanceof Promise?u.then(function(a){return[a,l,o]}):[u,l,o]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var e=t.prototype;return e.createDraft=function(n){Un(n)||Tt(8),Hn(n)&&(n=Mk(n));var r=Gd(this),i=wf(this,n,void 0);return i[ie].C=!0,vf(r),i},e.finishDraft=function(n,r){var i=n&&n[ie],s=i.A;return Xu(s,r),Zu(void 0,s)},e.setAutoFreeze=function(n){this.F=n},e.setUseProxies=function(n){n&&!Xd&&Tt(20),this.g=n},e.applyPatches=function(n,r){var i;for(i=r.length-1;i>=0;i--){var s=r[i];if(s.path.length===0&&s.op==="replace"){n=s.value;break}}i>-1&&(r=r.slice(i+1));var l=Jt("Patches").$;return Hn(n)?l(n,r):this.produce(n,function(o){return l(o,r)})},t}(),ht=new Nk,Lk=ht.produce;ht.produceWithPatches.bind(ht);ht.setAutoFreeze.bind(ht);ht.setUseProxies.bind(ht);ht.applyPatches.bind(ht);ht.createDraft.bind(ht);ht.finishDraft.bind(ht);var Ol=Lk;function Bk(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ep(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ep(Object(n),!0).forEach(function(r){Bk(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ep(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _e(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var np=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),na=function(){return Math.random().toString(36).substring(7).split("").join(".")},lo={INIT:"@@redux/INIT"+na(),REPLACE:"@@redux/REPLACE"+na(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+na()}};function Ik(t){if(typeof t!="object"||t===null)return!1;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function Z0(t,e,n){var r;if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(_e(0));if(typeof e=="function"&&typeof n=="undefined"&&(n=e,e=void 0),typeof n!="undefined"){if(typeof n!="function")throw new Error(_e(1));return n(Z0)(t,e)}if(typeof t!="function")throw new Error(_e(2));var i=t,s=e,l=[],o=l,u=!1;function a(){o===l&&(o=l.slice())}function f(){if(u)throw new Error(_e(3));return s}function c(v){if(typeof v!="function")throw new Error(_e(4));if(u)throw new Error(_e(5));var S=!0;return a(),o.push(v),function(){if(!!S){if(u)throw new Error(_e(6));S=!1,a();var g=o.indexOf(v);o.splice(g,1),l=null}}}function h(v){if(!Ik(v))throw new Error(_e(7));if(typeof v.type=="undefined")throw new Error(_e(8));if(u)throw new Error(_e(9));try{u=!0,s=i(s,v)}finally{u=!1}for(var S=l=o,m=0;m<S.length;m++){var g=S[m];g()}return v}function d(v){if(typeof v!="function")throw new Error(_e(10));i=v,h({type:lo.REPLACE})}function p(){var v,S=c;return v={subscribe:function(g){if(typeof g!="object"||g===null)throw new Error(_e(11));function y(){g.next&&g.next(f())}y();var w=S(y);return{unsubscribe:w}}},v[np]=function(){return this},v}return h({type:lo.INIT}),r={dispatch:h,subscribe:c,getState:f,replaceReducer:d},r[np]=p,r}function zk(t){Object.keys(t).forEach(function(e){var n=t[e],r=n(void 0,{type:lo.INIT});if(typeof r=="undefined")throw new Error(_e(12));if(typeof n(void 0,{type:lo.PROBE_UNKNOWN_ACTION()})=="undefined")throw new Error(_e(13))})}function _k(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++){var i=e[r];typeof t[i]=="function"&&(n[i]=t[i])}var s=Object.keys(n),l;try{zk(n)}catch(o){l=o}return function(u,a){if(u===void 0&&(u={}),l)throw l;for(var f=!1,c={},h=0;h<s.length;h++){var d=s[h],p=n[d],v=u[d],S=p(v,a);if(typeof S=="undefined")throw a&&a.type,new Error(_e(14));c[d]=S,f=f||S!==v}return f=f||s.length!==Object.keys(u).length,f?c:u}}function oo(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.length===0?function(r){return r}:e.length===1?e[0]:e.reduce(function(r,i){return function(){return r(i.apply(void 0,arguments))}})}function Fk(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){return function(){var i=r.apply(void 0,arguments),s=function(){throw new Error(_e(15))},l={getState:i.getState,dispatch:function(){return s.apply(void 0,arguments)}},o=e.map(function(u){return u(l)});return s=oo.apply(void 0,o)(i.dispatch),tp(tp({},i),{},{dispatch:s})}}}var uo="NOT_FOUND";function $k(t){var e;return{get:function(r){return e&&t(e.key,r)?e.value:uo},put:function(r,i){e={key:r,value:i}},getEntries:function(){return e?[e]:[]},clear:function(){e=void 0}}}function Vk(t,e){var n=[];function r(o){var u=n.findIndex(function(f){return e(o,f.key)});if(u>-1){var a=n[u];return u>0&&(n.splice(u,1),n.unshift(a)),a.value}return uo}function i(o,u){r(o)===uo&&(n.unshift({key:o,value:u}),n.length>t&&n.pop())}function s(){return n}function l(){n=[]}return{get:r,put:i,getEntries:s,clear:l}}var jk=function(e,n){return e===n};function Wk(t){return function(n,r){if(n===null||r===null||n.length!==r.length)return!1;for(var i=n.length,s=0;s<i;s++)if(!t(n[s],r[s]))return!1;return!0}}function Hk(t,e){var n=typeof e=="object"?e:{equalityCheck:e},r=n.equalityCheck,i=r===void 0?jk:r,s=n.maxSize,l=s===void 0?1:s,o=n.resultEqualityCheck,u=Wk(i),a=l===1?$k(u):Vk(l,u);function f(){var c=a.get(arguments);if(c===uo){if(c=t.apply(null,arguments),o){var h=a.getEntries(),d=h.find(function(p){return o(p.value,c)});d&&(c=d.value)}a.put(arguments,c)}return c}return f.clearCache=function(){return a.clear()},f}function Uk(t){var e=Array.isArray(t[0])?t[0]:t;if(!e.every(function(r){return typeof r=="function"})){var n=e.map(function(r){return typeof r=="function"?"function "+(r.name||"unnamed")+"()":typeof r}).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+n+"]")}return e}function Kk(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var i=function(){for(var l=arguments.length,o=new Array(l),u=0;u<l;u++)o[u]=arguments[u];var a=0,f,c={memoizeOptions:void 0},h=o.pop();if(typeof h=="object"&&(c=h,h=o.pop()),typeof h!="function")throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof h+"]");var d=c,p=d.memoizeOptions,v=p===void 0?n:p,S=Array.isArray(v)?v:[v],m=Uk(o),g=t.apply(void 0,[function(){return a++,h.apply(null,arguments)}].concat(S)),y=t(function(){for(var w=[],k=m.length,x=0;x<k;x++)w.push(m[x].apply(null,arguments));return f=g.apply(null,w),f});return Object.assign(y,{resultFunc:h,memoizedResultFunc:g,dependencies:m,lastResult:function(){return f},recomputations:function(){return a},resetRecomputations:function(){return a=0}}),y};return i}var aE=Kk(Hk);function ey(t){var e=function(r){var i=r.dispatch,s=r.getState;return function(l){return function(o){return typeof o=="function"?o(i,s,t):l(o)}}};return e}var ty=ey();ty.withExtraArgument=ey;var rp=ty,Gk=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();globalThis&&globalThis.__generator;var ao=globalThis&&globalThis.__spreadArray||function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t},Qk=Object.defineProperty,ip=Object.getOwnPropertySymbols,qk=Object.prototype.hasOwnProperty,Jk=Object.prototype.propertyIsEnumerable,sp=function(t,e,n){return e in t?Qk(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n},Ss=function(t,e){for(var n in e||(e={}))qk.call(e,n)&&sp(t,n,e[n]);if(ip)for(var r=0,i=ip(e);r<i.length;r++){var n=i[r];Jk.call(e,n)&&sp(t,n,e[n])}return t},Yk=typeof window!="undefined"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?oo:oo.apply(null,arguments)};function Xk(t){if(typeof t!="object"||t===null)return!1;var e=Object.getPrototypeOf(t);if(e===null)return!0;for(var n=e;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return e===n}var Zk=function(t){Gk(e,t);function e(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=t.apply(this,n)||this;return Object.setPrototypeOf(i,e.prototype),i}return Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t.prototype.concat.apply(this,n)},e.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(e.bind.apply(e,ao([void 0],n[0].concat(this)))):new(e.bind.apply(e,ao([void 0],n.concat(this))))},e}(Array);function ex(t){return typeof t=="boolean"}function tx(){return function(e){return nx(e)}}function nx(t){t===void 0&&(t={});var e=t.thunk,n=e===void 0?!0:e;t.immutableCheck,t.serializableCheck;var r=new Zk;return n&&(ex(n)?r.push(rp):r.push(rp.withExtraArgument(n.extraArgument))),r}var rx=!0;function fE(t){var e=tx(),n=t||{},r=n.reducer,i=r===void 0?void 0:r,s=n.middleware,l=s===void 0?e():s,o=n.devTools,u=o===void 0?!0:o,a=n.preloadedState,f=a===void 0?void 0:a,c=n.enhancers,h=c===void 0?void 0:c,d;if(typeof i=="function")d=i;else if(Xk(i))d=_k(i);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var p=l;typeof p=="function"&&(p=p(e));var v=Fk.apply(void 0,p),S=oo;u&&(S=Yk(Ss({trace:!rx},typeof u=="object"&&u)));var m=[v];Array.isArray(h)?m=ao([v],h):typeof h=="function"&&(m=h(m));var g=S.apply(void 0,m);return Z0(d,f,g)}function ks(t,e){function n(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];if(e){var s=e.apply(void 0,r);if(!s)throw new Error("prepareAction did not return an object");return Ss(Ss({type:t,payload:s.payload},"meta"in s&&{meta:s.meta}),"error"in s&&{error:s.error})}return{type:t,payload:r[0]}}return n.toString=function(){return""+t},n.type=t,n.match=function(r){return r.type===t},n}function cE(t){return""+t}function ny(t){var e={},n=[],r,i={addCase:function(s,l){var o=typeof s=="string"?s:s.type;if(o in e)throw new Error("addCase cannot be called with two reducers for the same action type");return e[o]=l,i},addMatcher:function(s,l){return n.push({matcher:s,reducer:l}),i},addDefaultCase:function(s){return r=s,i}};return t(i),[e,n,r]}function ix(t){return typeof t=="function"}function sx(t,e,n,r){n===void 0&&(n=[]);var i=typeof e=="function"?ny(e):[e,n,r],s=i[0],l=i[1],o=i[2],u;if(ix(t))u=function(){return Ol(t(),function(){})};else{var a=Ol(t,function(){});u=function(){return a}}function f(c,h){c===void 0&&(c=u());var d=ao([s[h.type]],l.filter(function(p){var v=p.matcher;return v(h)}).map(function(p){var v=p.reducer;return v}));return d.filter(function(p){return!!p}).length===0&&(d=[o]),d.reduce(function(p,v){if(v)if(Hn(p)){var S=p,m=v(S,h);return typeof m=="undefined"?p:m}else{if(Un(p))return Ol(p,function(g){return v(g,h)});var m=v(p,h);if(typeof m=="undefined"){if(p===null)return p;throw Error("A case reducer on a non-draftable value must not return undefined")}return m}return p},c)}return f.getInitialState=u,f}function lx(t,e){return t+"/"+e}function hE(t){var e=t.name;if(!e)throw new Error("`name` is a required option for createSlice");var n=typeof t.initialState=="function"?t.initialState:Ol(t.initialState,function(){}),r=t.reducers||{},i=Object.keys(r),s={},l={},o={};i.forEach(function(f){var c=r[f],h=lx(e,f),d,p;"reducer"in c?(d=c.reducer,p=c.prepare):d=c,s[f]=d,l[h]=d,o[f]=p?ks(h,p):ks(h)});function u(){var f=typeof t.extraReducers=="function"?ny(t.extraReducers):[t.extraReducers],c=f[0],h=c===void 0?{}:c,d=f[1],p=d===void 0?[]:d,v=f[2],S=v===void 0?void 0:v,m=Ss(Ss({},h),l);return sx(n,m,p,S)}var a;return{name:e,reducer:function(f,c){return a||(a=u()),a(f,c)},actions:o,caseReducers:s,getInitialState:function(){return a||(a=u()),a.getInitialState()}}}var ah="listenerMiddleware";ks(ah+"/add");ks(ah+"/removeAll");ks(ah+"/remove");bk();class Q{constructor(){}lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,n,r){let i=[];return this.decompose(0,e,i,2),r.length&&r.decompose(0,r.length,i,3),this.decompose(n,this.length,i,1),Kt.from(i,this.length-(n-e)+r.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,n=this.length){let r=[];return this.decompose(e,n,r,0),Kt.from(r,n-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let n=this.scanIdentical(e,1),r=this.length-this.scanIdentical(e,-1),i=new Yi(this),s=new Yi(e);for(let l=n,o=n;;){if(i.next(l),s.next(l),l=0,i.lineBreak!=s.lineBreak||i.done!=s.done||i.value!=s.value)return!1;if(o+=i.value.length,i.done||o>=r)return!0}}iter(e=1){return new Yi(this,e)}iterRange(e,n=this.length){return new ry(this,e,n)}iterLines(e,n){let r;if(e==null)r=this.iter();else{n==null&&(n=this.lines+1);let i=this.line(e).from;r=this.iterRange(i,Math.max(i,n==this.lines+1?this.length:n<=1?0:this.line(n-1).to))}return new iy(r)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}static of(e){if(e.length==0)throw new RangeError("A document must have at least one line");return e.length==1&&!e[0]?Q.empty:e.length<=32?new pe(e):Kt.from(pe.split(e,[]))}}class pe extends Q{constructor(e,n=ox(e)){super(),this.text=e,this.length=n}get lines(){return this.text.length}get children(){return null}lineInner(e,n,r,i){for(let s=0;;s++){let l=this.text[s],o=i+l.length;if((n?r:o)>=e)return new ux(i,o,r,l);i=o+1,r++}}decompose(e,n,r,i){let s=e<=0&&n>=this.length?this:new pe(lp(this.text,e,n),Math.min(n,this.length)-Math.max(0,e));if(i&1){let l=r.pop(),o=Ml(s.text,l.text.slice(),0,s.length);if(o.length<=32)r.push(new pe(o,l.length+s.length));else{let u=o.length>>1;r.push(new pe(o.slice(0,u)),new pe(o.slice(u)))}}else r.push(s)}replace(e,n,r){if(!(r instanceof pe))return super.replace(e,n,r);let i=Ml(this.text,Ml(r.text,lp(this.text,0,e)),n),s=this.length+r.length-(n-e);return i.length<=32?new pe(i,s):Kt.from(pe.split(i,[]),s)}sliceString(e,n=this.length,r=`
`){let i="";for(let s=0,l=0;s<=n&&l<this.text.length;l++){let o=this.text[l],u=s+o.length;s>e&&l&&(i+=r),e<u&&n>s&&(i+=o.slice(Math.max(0,e-s),n-s)),s=u+1}return i}flatten(e){for(let n of this.text)e.push(n)}scanIdentical(){return 0}static split(e,n){let r=[],i=-1;for(let s of e)r.push(s),i+=s.length+1,r.length==32&&(n.push(new pe(r,i)),r=[],i=-1);return i>-1&&n.push(new pe(r,i)),n}}class Kt extends Q{constructor(e,n){super(),this.children=e,this.length=n,this.lines=0;for(let r of e)this.lines+=r.lines}lineInner(e,n,r,i){for(let s=0;;s++){let l=this.children[s],o=i+l.length,u=r+l.lines-1;if((n?u:o)>=e)return l.lineInner(e,n,r,i);i=o+1,r=u+1}}decompose(e,n,r,i){for(let s=0,l=0;l<=n&&s<this.children.length;s++){let o=this.children[s],u=l+o.length;if(e<=u&&n>=l){let a=i&((l<=e?1:0)|(u>=n?2:0));l>=e&&u<=n&&!a?r.push(o):o.decompose(e-l,n-l,r,a)}l=u+1}}replace(e,n,r){if(r.lines<this.lines)for(let i=0,s=0;i<this.children.length;i++){let l=this.children[i],o=s+l.length;if(e>=s&&n<=o){let u=l.replace(e-s,n-s,r),a=this.lines-l.lines+u.lines;if(u.lines<a>>5-1&&u.lines>a>>5+1){let f=this.children.slice();return f[i]=u,new Kt(f,this.length-(n-e)+r.length)}return super.replace(s,o,u)}s=o+1}return super.replace(e,n,r)}sliceString(e,n=this.length,r=`
`){let i="";for(let s=0,l=0;s<this.children.length&&l<=n;s++){let o=this.children[s],u=l+o.length;l>e&&s&&(i+=r),e<u&&n>l&&(i+=o.sliceString(e-l,n-l,r)),l=u+1}return i}flatten(e){for(let n of this.children)n.flatten(e)}scanIdentical(e,n){if(!(e instanceof Kt))return 0;let r=0,[i,s,l,o]=n>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;i+=n,s+=n){if(i==l||s==o)return r;let u=this.children[i],a=e.children[s];if(u!=a)return r+u.scanIdentical(a,n);r+=u.length+1}}static from(e,n=e.reduce((r,i)=>r+i.length+1,-1)){let r=0;for(let d of e)r+=d.lines;if(r<32){let d=[];for(let p of e)p.flatten(d);return new pe(d,n)}let i=Math.max(32,r>>5),s=i<<1,l=i>>1,o=[],u=0,a=-1,f=[];function c(d){let p;if(d.lines>s&&d instanceof Kt)for(let v of d.children)c(v);else d.lines>l&&(u>l||!u)?(h(),o.push(d)):d instanceof pe&&u&&(p=f[f.length-1])instanceof pe&&d.lines+p.lines<=32?(u+=d.lines,a+=d.length+1,f[f.length-1]=new pe(p.text.concat(d.text),p.length+1+d.length)):(u+d.lines>i&&h(),u+=d.lines,a+=d.length+1,f.push(d))}function h(){u!=0&&(o.push(f.length==1?f[0]:Kt.from(f,a)),a=-1,u=f.length=0)}for(let d of e)c(d);return h(),o.length==1?o[0]:new Kt(o,n)}}Q.empty=new pe([""],0);function ox(t){let e=-1;for(let n of t)e+=n.length+1;return e}function Ml(t,e,n=0,r=1e9){for(let i=0,s=0,l=!0;s<t.length&&i<=r;s++){let o=t[s],u=i+o.length;u>=n&&(u>r&&(o=o.slice(0,r-i)),i<n&&(o=o.slice(n-i)),l?(e[e.length-1]+=o,l=!1):e.push(o)),i=u+1}return e}function lp(t,e,n){return Ml(t,[""],e,n)}class Yi{constructor(e,n=1){this.dir=n,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[n>0?1:(e instanceof pe?e.text.length:e.children.length)<<1]}nextInner(e,n){for(this.done=this.lineBreak=!1;;){let r=this.nodes.length-1,i=this.nodes[r],s=this.offsets[r],l=s>>1,o=i instanceof pe?i.text.length:i.children.length;if(l==(n>0?o:0)){if(r==0)return this.done=!0,this.value="",this;n>0&&this.offsets[r-1]++,this.nodes.pop(),this.offsets.pop()}else if((s&1)==(n>0?0:1)){if(this.offsets[r]+=n,e==0)return this.lineBreak=!0,this.value=`
`,this;e--}else if(i instanceof pe){let u=i.text[l+(n<0?-1:0)];if(this.offsets[r]+=n,u.length>Math.max(0,e))return this.value=e==0?u:n>0?u.slice(e):u.slice(0,u.length-e),this;e-=u.length}else{let u=i.children[l+(n<0?-1:0)];e>u.length?(e-=u.length,this.offsets[r]+=n):(n<0&&this.offsets[r]--,this.nodes.push(u),this.offsets.push(n>0?1:(u instanceof pe?u.text.length:u.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class ry{constructor(e,n,r){this.value="",this.done=!1,this.cursor=new Yi(e,n>r?-1:1),this.pos=n>r?e.length:0,this.from=Math.min(n,r),this.to=Math.max(n,r)}nextInner(e,n){if(n<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,n<0?this.pos-this.to:this.from-this.pos);let r=n<0?this.pos-this.from:this.to-this.pos;e>r&&(e=r),r-=e;let{value:i}=this.cursor.next(e);return this.pos+=(i.length+e)*n,this.value=i.length<=r?i:n<0?i.slice(i.length-r):i.slice(0,r),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class iy{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:n,lineBreak:r,value:i}=this.inner.next(e);return n?(this.done=!0,this.value=""):r?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=i,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol!="undefined"&&(Q.prototype[Symbol.iterator]=function(){return this.iter()},Yi.prototype[Symbol.iterator]=ry.prototype[Symbol.iterator]=iy.prototype[Symbol.iterator]=function(){return this});class ux{constructor(e,n,r,i){this.from=e,this.to=n,this.number=r,this.text=i}get length(){return this.to-this.from}}let Yr="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(t=>t?parseInt(t,36):1);for(let t=1;t<Yr.length;t++)Yr[t]+=Yr[t-1];function ax(t){for(let e=1;e<Yr.length;e+=2)if(Yr[e]>t)return Yr[e-1]<=t;return!1}function op(t){return t>=127462&&t<=127487}const up=8205;function at(t,e,n=!0,r=!0){return(n?sy:fx)(t,e,r)}function sy(t,e,n){if(e==t.length)return e;e&&ly(t.charCodeAt(e))&&oy(t.charCodeAt(e-1))&&e--;let r=Fn(t,e);for(e+=xs(r);e<t.length;){let i=Fn(t,e);if(r==up||i==up||n&&ax(i))e+=xs(i),r=i;else if(op(i)){let s=0,l=e-2;for(;l>=0&&op(Fn(t,l));)s++,l-=2;if(s%2==0)break;e+=2}else break}return e}function fx(t,e,n){for(;e>0;){let r=sy(t,e-2,n);if(r<e)return r;e--}return 0}function ly(t){return t>=56320&&t<57344}function oy(t){return t>=55296&&t<56320}function Fn(t,e){let n=t.charCodeAt(e);if(!oy(n)||e+1==t.length)return n;let r=t.charCodeAt(e+1);return ly(r)?(n-55296<<10)+(r-56320)+65536:n}function cx(t){return t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode((t>>10)+55296,(t&1023)+56320))}function xs(t){return t<65536?1:2}const kf=/\r\n?|\n/;var Ye=function(t){return t[t.Simple=0]="Simple",t[t.TrackDel=1]="TrackDel",t[t.TrackBefore=2]="TrackBefore",t[t.TrackAfter=3]="TrackAfter",t}(Ye||(Ye={}));class un{constructor(e){this.sections=e}get length(){let e=0;for(let n=0;n<this.sections.length;n+=2)e+=this.sections[n];return e}get newLength(){let e=0;for(let n=0;n<this.sections.length;n+=2){let r=this.sections[n+1];e+=r<0?this.sections[n]:r}return e}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(e){for(let n=0,r=0,i=0;n<this.sections.length;){let s=this.sections[n++],l=this.sections[n++];l<0?(e(r,i,s),i+=s):i+=l,r+=s}}iterChangedRanges(e,n=!1){xf(this,e,n)}get invertedDesc(){let e=[];for(let n=0;n<this.sections.length;){let r=this.sections[n++],i=this.sections[n++];i<0?e.push(r,i):e.push(i,r)}return new un(e)}composeDesc(e){return this.empty?e:e.empty?this:uy(this,e)}mapDesc(e,n=!1){return e.empty?this:Cf(this,e,n)}mapPos(e,n=-1,r=Ye.Simple){let i=0,s=0;for(let l=0;l<this.sections.length;){let o=this.sections[l++],u=this.sections[l++],a=i+o;if(u<0){if(a>e)return s+(e-i);s+=o}else{if(r!=Ye.Simple&&a>=e&&(r==Ye.TrackDel&&i<e&&a>e||r==Ye.TrackBefore&&i<e||r==Ye.TrackAfter&&a>e))return null;if(a>e||a==e&&n<0&&!o)return e==i||n<0?s:s+u;s+=u}i=a}if(e>i)throw new RangeError(`Position ${e} is out of range for changeset of length ${i}`);return s}touchesRange(e,n=e){for(let r=0,i=0;r<this.sections.length&&i<=n;){let s=this.sections[r++],l=this.sections[r++],o=i+s;if(l>=0&&i<=n&&o>=e)return i<e&&o>n?"cover":!0;i=o}return!1}toString(){let e="";for(let n=0;n<this.sections.length;){let r=this.sections[n++],i=this.sections[n++];e+=(e?" ":"")+r+(i>=0?":"+i:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some(n=>typeof n!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new un(e)}}class Ee extends un{constructor(e,n){super(e),this.inserted=n}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return xf(this,(n,r,i,s,l)=>e=e.replace(i,i+(r-n),l),!1),e}mapDesc(e,n=!1){return Cf(this,e,n,!0)}invert(e){let n=this.sections.slice(),r=[];for(let i=0,s=0;i<n.length;i+=2){let l=n[i],o=n[i+1];if(o>=0){n[i]=o,n[i+1]=l;let u=i>>1;for(;r.length<u;)r.push(Q.empty);r.push(l?e.slice(s,s+l):Q.empty)}s+=l}return new Ee(n,r)}compose(e){return this.empty?e:e.empty?this:uy(this,e,!0)}map(e,n=!1){return e.empty?this:Cf(this,e,n,!0)}iterChanges(e,n=!1){xf(this,e,n)}get desc(){return new un(this.sections)}filter(e){let n=[],r=[],i=[],s=new Cs(this);e:for(let l=0,o=0;;){let u=l==e.length?1e9:e[l++];for(;o<u||o==u&&s.len==0;){if(s.done)break e;let f=Math.min(s.len,u-o);He(i,f,-1);let c=s.ins==-1?-1:s.off==0?s.ins:0;He(n,f,c),c>0&&sr(r,n,s.text),s.forward(f),o+=f}let a=e[l++];for(;o<a;){if(s.done)break e;let f=Math.min(s.len,a-o);He(n,f,-1),He(i,f,s.ins==-1?-1:s.off==0?s.ins:0),s.forward(f),o+=f}}return{changes:new Ee(n,r),filtered:new un(i)}}toJSON(){let e=[];for(let n=0;n<this.sections.length;n+=2){let r=this.sections[n],i=this.sections[n+1];i<0?e.push(r):i==0?e.push([r]):e.push([r].concat(this.inserted[n>>1].toJSON()))}return e}static of(e,n,r){let i=[],s=[],l=0,o=null;function u(f=!1){if(!f&&!i.length)return;l<n&&He(i,n-l,-1);let c=new Ee(i,s);o=o?o.compose(c.map(o)):c,i=[],s=[],l=0}function a(f){if(Array.isArray(f))for(let c of f)a(c);else if(f instanceof Ee){if(f.length!=n)throw new RangeError(`Mismatched change set length (got ${f.length}, expected ${n})`);u(),o=o?o.compose(f.map(o)):f}else{let{from:c,to:h=c,insert:d}=f;if(c>h||c<0||h>n)throw new RangeError(`Invalid change range ${c} to ${h} (in doc of length ${n})`);let p=d?typeof d=="string"?Q.of(d.split(r||kf)):d:Q.empty,v=p.length;if(c==h&&v==0)return;c<l&&u(),c>l&&He(i,c-l,-1),He(i,h-c,v),sr(s,i,p),l=h}}return a(e),u(!o),o}static empty(e){return new Ee(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let n=[],r=[];for(let i=0;i<e.length;i++){let s=e[i];if(typeof s=="number")n.push(s,-1);else{if(!Array.isArray(s)||typeof s[0]!="number"||s.some((l,o)=>o&&typeof l!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(s.length==1)n.push(s[0],0);else{for(;r.length<i;)r.push(Q.empty);r[i]=Q.of(s.slice(1)),n.push(s[0],r[i].length)}}}return new Ee(n,r)}}function He(t,e,n,r=!1){if(e==0&&n<=0)return;let i=t.length-2;i>=0&&n<=0&&n==t[i+1]?t[i]+=e:e==0&&t[i]==0?t[i+1]+=n:r?(t[i]+=e,t[i+1]+=n):t.push(e,n)}function sr(t,e,n){if(n.length==0)return;let r=e.length-2>>1;if(r<t.length)t[t.length-1]=t[t.length-1].append(n);else{for(;t.length<r;)t.push(Q.empty);t.push(n)}}function xf(t,e,n){let r=t.inserted;for(let i=0,s=0,l=0;l<t.sections.length;){let o=t.sections[l++],u=t.sections[l++];if(u<0)i+=o,s+=o;else{let a=i,f=s,c=Q.empty;for(;a+=o,f+=u,u&&r&&(c=c.append(r[l-2>>1])),!(n||l==t.sections.length||t.sections[l+1]<0);)o=t.sections[l++],u=t.sections[l++];e(i,a,s,f,c),i=a,s=f}}}function Cf(t,e,n,r=!1){let i=[],s=r?[]:null,l=new Cs(t),o=new Cs(e);for(let u=0,a=0;;)if(l.ins==-1)u+=l.len,l.next();else if(o.ins==-1&&a<u){let f=Math.min(o.len,u-a);o.forward(f),He(i,f,-1),a+=f}else if(o.ins>=0&&(l.done||a<u||a==u&&(o.len<l.len||o.len==l.len&&!n))){for(He(i,o.ins,-1);u>a&&!l.done&&u+l.len<a+o.len;)u+=l.len,l.next();a+=o.len,o.next()}else if(l.ins>=0){let f=0,c=u+l.len;for(;;)if(o.ins>=0&&a>u&&a+o.len<c)f+=o.ins,a+=o.len,o.next();else if(o.ins==-1&&a<c){let h=Math.min(o.len,c-a);f+=h,o.forward(h),a+=h}else break;He(i,f,l.ins),s&&sr(s,i,l.text),u=c,l.next()}else{if(l.done&&o.done)return s?new Ee(i,s):new un(i);throw new Error("Mismatched change set lengths")}}function uy(t,e,n=!1){let r=[],i=n?[]:null,s=new Cs(t),l=new Cs(e);for(let o=!1;;){if(s.done&&l.done)return i?new Ee(r,i):new un(r);if(s.ins==0)He(r,s.len,0,o),s.next();else if(l.len==0&&!l.done)He(r,0,l.ins,o),i&&sr(i,r,l.text),l.next();else{if(s.done||l.done)throw new Error("Mismatched change set lengths");{let u=Math.min(s.len2,l.len),a=r.length;if(s.ins==-1){let f=l.ins==-1?-1:l.off?0:l.ins;He(r,u,f,o),i&&f&&sr(i,r,l.text)}else l.ins==-1?(He(r,s.off?0:s.len,u,o),i&&sr(i,r,s.textBit(u))):(He(r,s.off?0:s.len,l.off?0:l.ins,o),i&&!l.off&&sr(i,r,l.text));o=(s.ins>u||l.ins>=0&&l.len>u)&&(o||r.length>a),s.forward2(u),l.forward(u)}}}}class Cs{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,n=this.i-2>>1;return n>=e.length?Q.empty:e[n]}textBit(e){let{inserted:n}=this.set,r=this.i-2>>1;return r>=n.length&&!e?Q.empty:n[r].slice(this.off,e==null?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){this.ins==-1?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}class $r{constructor(e,n,r){this.from=e,this.to=n,this.flags=r}get anchor(){return this.flags&16?this.to:this.from}get head(){return this.flags&16?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&4?-1:this.flags&8?1:0}get bidiLevel(){let e=this.flags&3;return e==3?null:e}get goalColumn(){let e=this.flags>>5;return e==33554431?void 0:e}map(e,n=-1){let r,i;return this.empty?r=i=e.mapPos(this.from,n):(r=e.mapPos(this.from,1),i=e.mapPos(this.to,-1)),r==this.from&&i==this.to?this:new $r(r,i,this.flags)}extend(e,n=e){if(e<=this.anchor&&n>=this.anchor)return E.range(e,n);let r=Math.abs(e-this.anchor)>Math.abs(n-this.anchor)?e:n;return E.range(this.anchor,r)}eq(e){return this.anchor==e.anchor&&this.head==e.head}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||typeof e.anchor!="number"||typeof e.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return E.range(e.anchor,e.head)}}class E{constructor(e,n=0){this.ranges=e,this.mainIndex=n}map(e,n=-1){return e.empty?this:E.create(this.ranges.map(r=>r.map(e,n)),this.mainIndex)}eq(e){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let n=0;n<this.ranges.length;n++)if(!this.ranges[n].eq(e.ranges[n]))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new E([this.main])}addRange(e,n=!0){return E.create([e].concat(this.ranges),n?0:this.mainIndex+1)}replaceRange(e,n=this.mainIndex){let r=this.ranges.slice();return r[n]=e,E.create(r,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(e=>e.toJSON()),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||typeof e.main!="number"||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new E(e.ranges.map(n=>$r.fromJSON(n)),e.main)}static single(e,n=e){return new E([E.range(e,n)],0)}static create(e,n=0){if(e.length==0)throw new RangeError("A selection needs at least one range");for(let r=0,i=0;i<e.length;i++){let s=e[i];if(s.empty?s.from<=r:s.from<r)return hx(e.slice(),n);r=s.to}return new E(e,n)}static cursor(e,n=0,r,i){return new $r(e,e,(n==0?0:n<0?4:8)|(r==null?3:Math.min(2,r))|(i!=null?i:33554431)<<5)}static range(e,n,r){let i=(r!=null?r:33554431)<<5;return n<e?new $r(n,e,16|i|8):new $r(e,n,i|(n>e?4:0))}}function hx(t,e=0){let n=t[e];t.sort((r,i)=>r.from-i.from),e=t.indexOf(n);for(let r=1;r<t.length;r++){let i=t[r],s=t[r-1];if(i.empty?i.from<=s.to:i.from<s.to){let l=s.from,o=Math.max(i.to,s.to);r<=e&&e--,t.splice(--r,2,i.anchor>i.head?E.range(o,l):E.range(l,o))}}return new E(t,e)}function ay(t,e){for(let n of t.ranges)if(n.to>e)throw new RangeError("Selection points outside of document")}let fh=0;class I{constructor(e,n,r,i,s){this.combine=e,this.compareInput=n,this.compare=r,this.isStatic=i,this.extensions=s,this.id=fh++,this.default=e([])}static define(e={}){return new I(e.combine||(n=>n),e.compareInput||((n,r)=>n===r),e.compare||(e.combine?(n,r)=>n===r:ch),!!e.static,e.enables)}of(e){return new bl([],this,0,e)}compute(e,n){if(this.isStatic)throw new Error("Can't compute a static facet");return new bl(e,this,1,n)}computeN(e,n){if(this.isStatic)throw new Error("Can't compute a static facet");return new bl(e,this,2,n)}from(e,n){return n||(n=r=>r),this.compute([e],r=>n(r.field(e)))}}function ch(t,e){return t==e||t.length==e.length&&t.every((n,r)=>n===e[r])}class bl{constructor(e,n,r,i){this.dependencies=e,this.facet=n,this.type=r,this.value=i,this.id=fh++}dynamicSlot(e){var n;let r=this.value,i=this.facet.compareInput,s=this.id,l=e[s]>>1,o=this.type==2,u=!1,a=!1,f=[];for(let c of this.dependencies)c=="doc"?u=!0:c=="selection"?a=!0:(((n=e[c.id])!==null&&n!==void 0?n:1)&1)==0&&f.push(e[c.id]);return{create(c){return c.values[l]=r(c),1},update(c,h){if(u&&h.docChanged||a&&(h.docChanged||h.selection)||Af(c,f)){let d=r(c);if(o?!ap(d,c.values[l],i):!i(d,c.values[l]))return c.values[l]=d,1}return 0},reconfigure:(c,h)=>{let d=r(c),p=h.config.address[s];if(p!=null){let v=co(h,p);if(this.dependencies.every(S=>S instanceof I?h.facet(S)===c.facet(S):S instanceof gn?h.field(S,!1)==c.field(S,!1):!0)||(o?ap(d,v,i):i(d,v)))return c.values[l]=v,0}return c.values[l]=d,1}}}}function ap(t,e,n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!n(t[r],e[r]))return!1;return!0}function Af(t,e){let n=!1;for(let r of e)Xi(t,r)&1&&(n=!0);return n}function dx(t,e,n){let r=n.map(u=>t[u.id]),i=n.map(u=>u.type),s=r.filter(u=>!(u&1)),l=t[e.id]>>1;function o(u){let a=[];for(let f=0;f<r.length;f++){let c=co(u,r[f]);if(i[f]==2)for(let h of c)a.push(h);else a.push(c)}return e.combine(a)}return{create(u){for(let a of r)Xi(u,a);return u.values[l]=o(u),1},update(u,a){if(!Af(u,s))return 0;let f=o(u);return e.compare(f,u.values[l])?0:(u.values[l]=f,1)},reconfigure(u,a){let f=Af(u,r),c=a.config.facets[e.id],h=a.facet(e);if(c&&!f&&ch(n,c))return u.values[l]=h,0;let d=o(u);return e.compare(d,h)?(u.values[l]=h,0):(u.values[l]=d,1)}}}const fp=I.define({static:!0});class gn{constructor(e,n,r,i,s){this.id=e,this.createF=n,this.updateF=r,this.compareF=i,this.spec=s,this.provides=void 0}static define(e){let n=new gn(fh++,e.create,e.update,e.compare||((r,i)=>r===i),e);return e.provide&&(n.provides=e.provide(n)),n}create(e){let n=e.facet(fp).find(r=>r.field==this);return((n==null?void 0:n.create)||this.createF)(e)}slot(e){let n=e[this.id]>>1;return{create:r=>(r.values[n]=this.create(r),1),update:(r,i)=>{let s=r.values[n],l=this.updateF(s,i);return this.compareF(s,l)?0:(r.values[n]=l,1)},reconfigure:(r,i)=>i.config.address[this.id]!=null?(r.values[n]=i.field(this),0):(r.values[n]=this.create(r),1)}}init(e){return[this,fp.of({field:this,create:e})]}get extension(){return this}}const Or={lowest:4,low:3,default:2,high:1,highest:0};function Oi(t){return e=>new fy(e,t)}const hh={highest:Oi(Or.highest),high:Oi(Or.high),default:Oi(Or.default),low:Oi(Or.low),lowest:Oi(Or.lowest)};class fy{constructor(e,n){this.inner=e,this.prec=n}}class fu{of(e){return new Ef(this,e)}reconfigure(e){return fu.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class Ef{constructor(e,n){this.compartment=e,this.inner=n}}class fo{constructor(e,n,r,i,s,l){for(this.base=e,this.compartments=n,this.dynamicSlots=r,this.address=i,this.staticValues=s,this.facets=l,this.statusTemplate=[];this.statusTemplate.length<r.length;)this.statusTemplate.push(0)}staticFacet(e){let n=this.address[e.id];return n==null?e.default:this.staticValues[n>>1]}static resolve(e,n,r){let i=[],s=Object.create(null),l=new Map;for(let h of px(e,n,l))h instanceof gn?i.push(h):(s[h.facet.id]||(s[h.facet.id]=[])).push(h);let o=Object.create(null),u=[],a=[];for(let h of i)o[h.id]=a.length<<1,a.push(d=>h.slot(d));let f=r==null?void 0:r.config.facets;for(let h in s){let d=s[h],p=d[0].facet,v=f&&f[h]||[];if(d.every(S=>S.type==0))if(o[p.id]=u.length<<1|1,ch(v,d))u.push(r.facet(p));else{let S=p.combine(d.map(m=>m.value));u.push(r&&p.compare(S,r.facet(p))?r.facet(p):S)}else{for(let S of d)S.type==0?(o[S.id]=u.length<<1|1,u.push(S.value)):(o[S.id]=a.length<<1,a.push(m=>S.dynamicSlot(m)));o[p.id]=a.length<<1,a.push(S=>dx(S,p,d))}}let c=a.map(h=>h(o));return new fo(e,l,c,o,u,s)}}function px(t,e,n){let r=[[],[],[],[],[]],i=new Map;function s(l,o){let u=i.get(l);if(u!=null){if(u<=o)return;let a=r[u].indexOf(l);a>-1&&r[u].splice(a,1),l instanceof Ef&&n.delete(l.compartment)}if(i.set(l,o),Array.isArray(l))for(let a of l)s(a,o);else if(l instanceof Ef){if(n.has(l.compartment))throw new RangeError("Duplicate use of compartment in extensions");let a=e.get(l.compartment)||l.inner;n.set(l.compartment,a),s(a,o)}else if(l instanceof fy)s(l.inner,l.prec);else if(l instanceof gn)r[o].push(l),l.provides&&s(l.provides,o);else if(l instanceof bl)r[o].push(l),l.facet.extensions&&s(l.facet.extensions,o);else{let a=l.extension;if(!a)throw new Error(`Unrecognized extension value in extension set (${l}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);s(a,o)}}return s(t,Or.default),r.reduce((l,o)=>l.concat(o))}function Xi(t,e){if(e&1)return 2;let n=e>>1,r=t.status[n];if(r==4)throw new Error("Cyclic dependency between fields and/or facets");if(r&2)return r;t.status[n]=4;let i=t.computeSlot(t,t.config.dynamicSlots[n]);return t.status[n]=2|i}function co(t,e){return e&1?t.config.staticValues[e>>1]:t.values[e>>1]}const cy=I.define(),hy=I.define({combine:t=>t.some(e=>e),static:!0}),dy=I.define({combine:t=>t.length?t[0]:void 0,static:!0}),py=I.define(),my=I.define(),gy=I.define(),yy=I.define({combine:t=>t.length?t[0]:!1});class Cr{constructor(e,n){this.type=e,this.value=n}static define(){return new mx}}class mx{of(e){return new Cr(this,e)}}class gx{constructor(e){this.map=e}of(e){return new ge(this,e)}}class ge{constructor(e,n){this.type=e,this.value=n}map(e){let n=this.type.map(this.value,e);return n===void 0?void 0:n==this.value?this:new ge(this.type,n)}is(e){return this.type==e}static define(e={}){return new gx(e.map||(n=>n))}static mapEffects(e,n){if(!e.length)return e;let r=[];for(let i of e){let s=i.map(n);s&&r.push(s)}return r}}ge.reconfigure=ge.define();ge.appendConfig=ge.define();class Pe{constructor(e,n,r,i,s,l){this.startState=e,this.changes=n,this.selection=r,this.effects=i,this.annotations=s,this.scrollIntoView=l,this._doc=null,this._state=null,r&&ay(r,n.newLength),s.some(o=>o.type==Pe.time)||(this.annotations=s.concat(Pe.time.of(Date.now())))}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let n of this.annotations)if(n.type==e)return n.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let n=this.annotation(Pe.userEvent);return!!(n&&(n==e||n.length>e.length&&n.slice(0,e.length)==e&&n[e.length]=="."))}}Pe.time=Cr.define();Pe.userEvent=Cr.define();Pe.addToHistory=Cr.define();Pe.remote=Cr.define();function yx(t,e){let n=[];for(let r=0,i=0;;){let s,l;if(r<t.length&&(i==e.length||e[i]>=t[r]))s=t[r++],l=t[r++];else if(i<e.length)s=e[i++],l=e[i++];else return n;!n.length||n[n.length-1]<s?n.push(s,l):n[n.length-1]<l&&(n[n.length-1]=l)}}function vy(t,e,n){var r;let i,s,l;return n?(i=e.changes,s=Ee.empty(e.changes.length),l=t.changes.compose(e.changes)):(i=e.changes.map(t.changes),s=t.changes.mapDesc(e.changes,!0),l=t.changes.compose(i)),{changes:l,selection:e.selection?e.selection.map(s):(r=t.selection)===null||r===void 0?void 0:r.map(i),effects:ge.mapEffects(t.effects,i).concat(ge.mapEffects(e.effects,s)),annotations:t.annotations.length?t.annotations.concat(e.annotations):e.annotations,scrollIntoView:t.scrollIntoView||e.scrollIntoView}}function Pf(t,e,n){let r=e.selection,i=Xr(e.annotations);return e.userEvent&&(i=i.concat(Pe.userEvent.of(e.userEvent))),{changes:e.changes instanceof Ee?e.changes:Ee.of(e.changes||[],n,t.facet(dy)),selection:r&&(r instanceof E?r:E.single(r.anchor,r.head)),effects:Xr(e.effects),annotations:i,scrollIntoView:!!e.scrollIntoView}}function wy(t,e,n){let r=Pf(t,e.length?e[0]:{},t.doc.length);e.length&&e[0].filter===!1&&(n=!1);for(let s=1;s<e.length;s++){e[s].filter===!1&&(n=!1);let l=!!e[s].sequential;r=vy(r,Pf(t,e[s],l?r.changes.newLength:t.doc.length),l)}let i=new Pe(t,r.changes,r.selection,r.effects,r.annotations,r.scrollIntoView);return wx(n?vx(i):i)}function vx(t){let e=t.startState,n=!0;for(let i of e.facet(py)){let s=i(t);if(s===!1){n=!1;break}Array.isArray(s)&&(n=n===!0?s:yx(n,s))}if(n!==!0){let i,s;if(n===!1)s=t.changes.invertedDesc,i=Ee.empty(e.doc.length);else{let l=t.changes.filter(n);i=l.changes,s=l.filtered.invertedDesc}t=new Pe(e,i,t.selection&&t.selection.map(s),ge.mapEffects(t.effects,s),t.annotations,t.scrollIntoView)}let r=e.facet(my);for(let i=r.length-1;i>=0;i--){let s=r[i](t);s instanceof Pe?t=s:Array.isArray(s)&&s.length==1&&s[0]instanceof Pe?t=s[0]:t=wy(e,Xr(s),!1)}return t}function wx(t){let e=t.startState,n=e.facet(gy),r=t;for(let i=n.length-1;i>=0;i--){let s=n[i](t);s&&Object.keys(s).length&&(r=vy(t,Pf(e,s,t.changes.newLength),!0))}return r==t?t:new Pe(e,t.changes,t.selection,r.effects,r.annotations,r.scrollIntoView)}const Sx=[];function Xr(t){return t==null?Sx:Array.isArray(t)?t:[t]}var Nt=function(t){return t[t.Word=0]="Word",t[t.Space=1]="Space",t[t.Other=2]="Other",t}(Nt||(Nt={}));const kx=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let Of;try{Of=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function xx(t){if(Of)return Of.test(t);for(let e=0;e<t.length;e++){let n=t[e];if(/\w/.test(n)||n>"\x80"&&(n.toUpperCase()!=n.toLowerCase()||kx.test(n)))return!0}return!1}function Cx(t){return e=>{if(!/\S/.test(e))return Nt.Space;if(xx(e))return Nt.Word;for(let n=0;n<t.length;n++)if(e.indexOf(t[n])>-1)return Nt.Word;return Nt.Other}}class H{constructor(e,n,r,i,s,l){this.config=e,this.doc=n,this.selection=r,this.values=i,this.status=e.statusTemplate.slice(),this.computeSlot=s,l&&(l._state=this);for(let o=0;o<this.config.dynamicSlots.length;o++)Xi(this,o<<1);this.computeSlot=null}field(e,n=!0){let r=this.config.address[e.id];if(r==null){if(n)throw new RangeError("Field is not present in this state");return}return Xi(this,r),co(this,r)}update(...e){return wy(this,e,!0)}applyTransaction(e){let n=this.config,{base:r,compartments:i}=n;for(let l of e.effects)l.is(fu.reconfigure)?(n&&(i=new Map,n.compartments.forEach((o,u)=>i.set(u,o)),n=null),i.set(l.value.compartment,l.value.extension)):l.is(ge.reconfigure)?(n=null,r=l.value):l.is(ge.appendConfig)&&(n=null,r=Xr(r).concat(l.value));let s;n?s=e.startState.values.slice():(n=fo.resolve(r,i,this),s=new H(n,this.doc,this.selection,n.dynamicSlots.map(()=>null),(o,u)=>u.reconfigure(o,this),null).values),new H(n,e.newDoc,e.newSelection,s,(l,o)=>o.update(l,e),e)}replaceSelection(e){return typeof e=="string"&&(e=this.toText(e)),this.changeByRange(n=>({changes:{from:n.from,to:n.to,insert:e},range:E.cursor(n.from+e.length)}))}changeByRange(e){let n=this.selection,r=e(n.ranges[0]),i=this.changes(r.changes),s=[r.range],l=Xr(r.effects);for(let o=1;o<n.ranges.length;o++){let u=e(n.ranges[o]),a=this.changes(u.changes),f=a.map(i);for(let h=0;h<o;h++)s[h]=s[h].map(f);let c=i.mapDesc(a,!0);s.push(u.range.map(c)),i=i.compose(f),l=ge.mapEffects(l,f).concat(ge.mapEffects(Xr(u.effects),c))}return{changes:i,selection:E.create(s,n.mainIndex),effects:l}}changes(e=[]){return e instanceof Ee?e:Ee.of(e,this.doc.length,this.facet(H.lineSeparator))}toText(e){return Q.of(e.split(this.facet(H.lineSeparator)||kf))}sliceDoc(e=0,n=this.doc.length){return this.doc.sliceString(e,n,this.lineBreak)}facet(e){let n=this.config.address[e.id];return n==null?e.default:(Xi(this,n),co(this,n))}toJSON(e){let n={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let r in e){let i=e[r];i instanceof gn&&(n[r]=i.spec.toJSON(this.field(e[r]),this))}return n}static fromJSON(e,n={},r){if(!e||typeof e.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let i=[];if(r)for(let s in r){let l=r[s],o=e[s];i.push(l.init(u=>l.spec.fromJSON(o,u)))}return H.create({doc:e.doc,selection:E.fromJSON(e.selection),extensions:n.extensions?i.concat([n.extensions]):i})}static create(e={}){let n=fo.resolve(e.extensions||[],new Map),r=e.doc instanceof Q?e.doc:Q.of((e.doc||"").split(n.staticFacet(H.lineSeparator)||kf)),i=e.selection?e.selection instanceof E?e.selection:E.single(e.selection.anchor,e.selection.head):E.single(0);return ay(i,r.length),n.staticFacet(hy)||(i=i.asSingle()),new H(n,r,i,n.dynamicSlots.map(()=>null),(s,l)=>l.create(s),null)}get tabSize(){return this.facet(H.tabSize)}get lineBreak(){return this.facet(H.lineSeparator)||`
`}get readOnly(){return this.facet(yy)}phrase(e){for(let n of this.facet(H.phrases))if(Object.prototype.hasOwnProperty.call(n,e))return n[e];return e}languageDataAt(e,n,r=-1){let i=[];for(let s of this.facet(cy))for(let l of s(this,n,r))Object.prototype.hasOwnProperty.call(l,e)&&i.push(l[e]);return i}charCategorizer(e){return Cx(this.languageDataAt("wordChars",e).join(""))}wordAt(e){let{text:n,from:r,length:i}=this.doc.lineAt(e),s=this.charCategorizer(e),l=e-r,o=e-r;for(;l>0;){let u=at(n,l,!1);if(s(n.slice(u,l))!=Nt.Word)break;l=u}for(;o<i;){let u=at(n,o);if(s(n.slice(o,u))!=Nt.Word)break;o=u}return l==o?null:E.range(l+r,o+r)}}H.allowMultipleSelections=hy;H.tabSize=I.define({combine:t=>t.length?t[0]:4});H.lineSeparator=dy;H.readOnly=yy;H.phrases=I.define({compare(t,e){let n=Object.keys(t),r=Object.keys(e);return n.length==r.length&&n.every(i=>t[i]==e[i])}});H.languageData=cy;H.changeFilter=py;H.transactionFilter=my;H.transactionExtender=gy;fu.reconfigure=ge.define();function dh(t,e,n={}){let r={};for(let i of t)for(let s of Object.keys(i)){let l=i[s],o=r[s];if(o===void 0)r[s]=l;else if(!(o===l||l===void 0))if(Object.hasOwnProperty.call(n,s))r[s]=n[s](o,l);else throw new Error("Config merge conflict for field "+s)}for(let i in e)r[i]===void 0&&(r[i]=e[i]);return r}class yr{eq(e){return this==e}range(e,n=e){return new Mf(e,n,this)}}yr.prototype.startSide=yr.prototype.endSide=0;yr.prototype.point=!1;yr.prototype.mapMode=Ye.TrackDel;class Mf{constructor(e,n,r){this.from=e,this.to=n,this.value=r}}function bf(t,e){return t.from-e.from||t.value.startSide-e.value.startSide}class ph{constructor(e,n,r,i){this.from=e,this.to=n,this.value=r,this.maxPoint=i}get length(){return this.to[this.to.length-1]}findIndex(e,n,r,i=0){let s=r?this.to:this.from;for(let l=i,o=s.length;;){if(l==o)return l;let u=l+o>>1,a=s[u]-e||(r?this.value[u].endSide:this.value[u].startSide)-n;if(u==l)return a>=0?l:o;a>=0?o=u:l=u+1}}between(e,n,r,i){for(let s=this.findIndex(n,-1e9,!0),l=this.findIndex(r,1e9,!1,s);s<l;s++)if(i(this.from[s]+e,this.to[s]+e,this.value[s])===!1)return!1}map(e,n){let r=[],i=[],s=[],l=-1,o=-1;for(let u=0;u<this.value.length;u++){let a=this.value[u],f=this.from[u]+e,c=this.to[u]+e,h,d;if(f==c){let p=n.mapPos(f,a.startSide,a.mapMode);if(p==null||(h=d=p,a.startSide!=a.endSide&&(d=n.mapPos(f,a.endSide),d<h)))continue}else if(h=n.mapPos(f,a.startSide),d=n.mapPos(c,a.endSide),h>d||h==d&&a.startSide>0&&a.endSide<=0)continue;(d-h||a.endSide-a.startSide)<0||(l<0&&(l=h),a.point&&(o=Math.max(o,d-h)),r.push(a),i.push(h-l),s.push(d-l))}return{mapped:r.length?new ph(i,s,r,o):null,pos:l}}}class X{constructor(e,n,r=X.empty,i){this.chunkPos=e,this.chunk=n,this.nextLayer=r,this.maxPoint=i}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let n of this.chunk)e+=n.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:n=[],sort:r=!1,filterFrom:i=0,filterTo:s=this.length}=e,l=e.filter;if(n.length==0&&!l)return this;if(r&&(n=n.slice().sort(bf)),this.isEmpty)return n.length?X.of(n):this;let o=new Sy(this,null,-1).goto(0),u=0,a=[],f=new As;for(;o.value||u<n.length;)if(u<n.length&&(o.from-n[u].from||o.startSide-n[u].value.startSide)>=0){let c=n[u++];f.addInner(c.from,c.to,c.value)||a.push(c)}else o.rangeIndex==1&&o.chunkIndex<this.chunk.length&&(u==n.length||this.chunkEnd(o.chunkIndex)<n[u].from)&&(!l||i>this.chunkEnd(o.chunkIndex)||s<this.chunkPos[o.chunkIndex])&&f.addChunk(this.chunkPos[o.chunkIndex],this.chunk[o.chunkIndex])?o.nextChunk():((!l||i>o.to||s<o.from||l(o.from,o.to,o.value))&&(f.addInner(o.from,o.to,o.value)||a.push(new Mf(o.from,o.to,o.value))),o.next());return f.finishInner(this.nextLayer.isEmpty&&!a.length?X.empty:this.nextLayer.update({add:a,filter:l,filterFrom:i,filterTo:s}))}map(e){if(e.empty||this.isEmpty)return this;let n=[],r=[],i=-1;for(let l=0;l<this.chunk.length;l++){let o=this.chunkPos[l],u=this.chunk[l],a=e.touchesRange(o,o+u.length);if(a===!1)i=Math.max(i,u.maxPoint),n.push(u),r.push(e.mapPos(o));else if(a===!0){let{mapped:f,pos:c}=u.map(o,e);f&&(i=Math.max(i,f.maxPoint),n.push(f),r.push(c))}}let s=this.nextLayer.map(e);return n.length==0?s:new X(r,n,s,i)}between(e,n,r){if(!this.isEmpty){for(let i=0;i<this.chunk.length;i++){let s=this.chunkPos[i],l=this.chunk[i];if(n>=s&&e<=s+l.length&&l.between(s,e-s,n-s,r)===!1)return}this.nextLayer.between(e,n,r)}}iter(e=0){return Es.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,n=0){return Es.from(e).goto(n)}static compare(e,n,r,i,s=-1){let l=e.filter(c=>c.maxPoint>0||!c.isEmpty&&c.maxPoint>=s),o=n.filter(c=>c.maxPoint>0||!c.isEmpty&&c.maxPoint>=s),u=cp(l,o,r),a=new Mi(l,u,s),f=new Mi(o,u,s);r.iterGaps((c,h,d)=>hp(a,c,f,h,d,i)),r.empty&&r.length==0&&hp(a,0,f,0,0,i)}static eq(e,n,r=0,i){i==null&&(i=1e9);let s=e.filter(f=>!f.isEmpty&&n.indexOf(f)<0),l=n.filter(f=>!f.isEmpty&&e.indexOf(f)<0);if(s.length!=l.length)return!1;if(!s.length)return!0;let o=cp(s,l),u=new Mi(s,o,0).goto(r),a=new Mi(l,o,0).goto(r);for(;;){if(u.to!=a.to||!Df(u.active,a.active)||u.point&&(!a.point||!u.point.eq(a.point)))return!1;if(u.to>i)return!0;u.next(),a.next()}}static spans(e,n,r,i,s=-1){let l=new Mi(e,null,s).goto(n),o=n,u=l.openStart;for(;;){let a=Math.min(l.to,r);if(l.point?(i.point(o,a,l.point,l.activeForPoint(l.to),u,l.pointRank),u=l.openEnd(a)+(l.to>a?1:0)):a>o&&(i.span(o,a,l.active,u),u=l.openEnd(a)),l.to>r)break;o=l.to,l.next()}return u}static of(e,n=!1){let r=new As;for(let i of e instanceof Mf?[e]:n?Ax(e):e)r.add(i.from,i.to,i.value);return r.finish()}}X.empty=new X([],[],null,-1);function Ax(t){if(t.length>1)for(let e=t[0],n=1;n<t.length;n++){let r=t[n];if(bf(e,r)>0)return t.slice().sort(bf);e=r}return t}X.empty.nextLayer=X.empty;class As{constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}finishChunk(e){this.chunks.push(new ph(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}add(e,n,r){this.addInner(e,n,r)||(this.nextLayer||(this.nextLayer=new As)).add(e,n,r)}addInner(e,n,r){let i=e-this.lastTo||r.startSide-this.last.endSide;if(i<=0&&(e-this.lastFrom||r.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return i<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(n-this.chunkStart),this.last=r,this.lastFrom=e,this.lastTo=n,this.value.push(r),r.point&&(this.maxPoint=Math.max(this.maxPoint,n-e)),!0)}addChunk(e,n){if((e-this.lastTo||n.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,n.maxPoint),this.chunks.push(n),this.chunkPos.push(e);let r=n.value.length-1;return this.last=n.value[r],this.lastFrom=n.from[r]+e,this.lastTo=n.to[r]+e,!0}finish(){return this.finishInner(X.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return e;let n=new X(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,n}}function cp(t,e,n){let r=new Map;for(let s of t)for(let l=0;l<s.chunk.length;l++)s.chunk[l].maxPoint<=0&&r.set(s.chunk[l],s.chunkPos[l]);let i=new Set;for(let s of e)for(let l=0;l<s.chunk.length;l++){let o=r.get(s.chunk[l]);o!=null&&(n?n.mapPos(o):o)==s.chunkPos[l]&&!(n!=null&&n.touchesRange(o,o+s.chunk[l].length))&&i.add(s.chunk[l])}return i}class Sy{constructor(e,n,r,i=0){this.layer=e,this.skip=n,this.minPoint=r,this.rank=i}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,n=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,n,!1),this}gotoInner(e,n,r){for(;this.chunkIndex<this.layer.chunk.length;){let i=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(i)||this.layer.chunkEnd(this.chunkIndex)<e||i.maxPoint<this.minPoint))break;this.chunkIndex++,r=!1}if(this.chunkIndex<this.layer.chunk.length){let i=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],n,!0);(!r||this.rangeIndex<i)&&this.setRangeIndex(i)}this.next()}forward(e,n){(this.to-e||this.endSide-n)<0&&this.gotoInner(e,n,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let e=this.layer.chunkPos[this.chunkIndex],n=this.layer.chunk[this.chunkIndex],r=e+n.from[this.rangeIndex];if(this.from=r,this.to=e+n.to[this.rangeIndex],this.value=n.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class Es{constructor(e){this.heap=e}static from(e,n=null,r=-1){let i=[];for(let s=0;s<e.length;s++)for(let l=e[s];!l.isEmpty;l=l.nextLayer)l.maxPoint>=r&&i.push(new Sy(l,n,r,s));return i.length==1?i[0]:new Es(i)}get startSide(){return this.value?this.value.startSide:0}goto(e,n=-1e9){for(let r of this.heap)r.goto(e,n);for(let r=this.heap.length>>1;r>=0;r--)ra(this.heap,r);return this.next(),this}forward(e,n){for(let r of this.heap)r.forward(e,n);for(let r=this.heap.length>>1;r>=0;r--)ra(this.heap,r);(this.to-e||this.value.endSide-n)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),ra(this.heap,0)}}}function ra(t,e){for(let n=t[e];;){let r=(e<<1)+1;if(r>=t.length)break;let i=t[r];if(r+1<t.length&&i.compare(t[r+1])>=0&&(i=t[r+1],r++),n.compare(i)<0)break;t[r]=n,t[e]=i,e=r}}class Mi{constructor(e,n,r){this.minPoint=r,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=Es.from(e,n,r)}goto(e,n=-1e9){return this.cursor.goto(e,n),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=n,this.openStart=-1,this.next(),this}forward(e,n){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-n)<0;)this.removeActive(this.minActive);this.cursor.forward(e,n)}removeActive(e){il(this.active,e),il(this.activeTo,e),il(this.activeRank,e),this.minActive=dp(this.active,this.activeTo)}addActive(e){let n=0,{value:r,to:i,rank:s}=this.cursor;for(;n<this.activeRank.length&&this.activeRank[n]<=s;)n++;sl(this.active,n,r),sl(this.activeTo,n,i),sl(this.activeRank,n,s),e&&sl(e,n,this.cursor.from),this.minActive=dp(this.active,this.activeTo)}next(){let e=this.to,n=this.point;this.point=null;let r=this.openStart<0?[]:null,i=0;for(;;){let s=this.minActive;if(s>-1&&(this.activeTo[s]-this.cursor.from||this.active[s].endSide-this.cursor.startSide)<0){if(this.activeTo[s]>e){this.to=this.activeTo[s],this.endSide=this.active[s].endSide;break}this.removeActive(s),r&&il(r,s)}else if(this.cursor.value)if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let l=this.cursor.value;if(!l.point)this.addActive(r),this.cursor.next();else if(n&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=l,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=l.endSide,this.cursor.from<e&&(i=1),this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(r){let s=0;for(;s<r.length&&r[s]<e;)s++;this.openStart=s+i}}activeForPoint(e){if(!this.active.length)return this.active;let n=[];for(let r=this.active.length-1;r>=0&&!(this.activeRank[r]<this.pointRank);r--)(this.activeTo[r]>e||this.activeTo[r]==e&&this.active[r].endSide>=this.point.endSide)&&n.push(this.active[r]);return n.reverse()}openEnd(e){let n=0;for(let r=this.activeTo.length-1;r>=0&&this.activeTo[r]>e;r--)n++;return n}}function hp(t,e,n,r,i,s){t.goto(e),n.goto(r);let l=r+i,o=r,u=r-e;for(;;){let a=t.to+u-n.to||t.endSide-n.endSide,f=a<0?t.to+u:n.to,c=Math.min(f,l);if(t.point||n.point?t.point&&n.point&&(t.point==n.point||t.point.eq(n.point))&&Df(t.activeForPoint(t.to+u),n.activeForPoint(n.to))||s.comparePoint(o,c,t.point,n.point):c>o&&!Df(t.active,n.active)&&s.compareRange(o,c,t.active,n.active),f>l)break;o=f,a<=0&&t.next(),a>=0&&n.next()}}function Df(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!=e[n]&&!t[n].eq(e[n]))return!1;return!0}function il(t,e){for(let n=e,r=t.length-1;n<r;n++)t[n]=t[n+1];t.pop()}function sl(t,e,n){for(let r=t.length-1;r>=e;r--)t[r+1]=t[r];t[e]=n}function dp(t,e){let n=-1,r=1e9;for(let i=0;i<e.length;i++)(e[i]-r||t[i].endSide-t[n].endSide)<0&&(n=i,r=e[i]);return n}function mh(t,e,n=t.length){let r=0;for(let i=0;i<n;)t.charCodeAt(i)==9?(r+=e-r%e,i++):(r++,i=at(t,i));return r}function Ex(t,e,n,r){for(let i=0,s=0;;){if(s>=e)return i;if(i==t.length)break;s+=t.charCodeAt(i)==9?n-s%n:1,i=at(t,i)}return r===!0?-1:t.length}const Tf="\u037C",pp=typeof Symbol=="undefined"?"__"+Tf:Symbol.for(Tf),Rf=typeof Symbol=="undefined"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),mp=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:{};class Kn{constructor(e,n){this.rules=[];let{finish:r}=n||{};function i(l){return/^@/.test(l)?[l]:l.split(/,\s*/)}function s(l,o,u,a){let f=[],c=/^@(\w+)\b/.exec(l[0]),h=c&&c[1]=="keyframes";if(c&&o==null)return u.push(l[0]+";");for(let d in o){let p=o[d];if(/&/.test(d))s(d.split(/,\s*/).map(v=>l.map(S=>v.replace(/&/,S))).reduce((v,S)=>v.concat(S)),p,u);else if(p&&typeof p=="object"){if(!c)throw new RangeError("The value of a property ("+d+") should be a primitive value.");s(i(d),p,f,h)}else p!=null&&f.push(d.replace(/_.*/,"").replace(/[A-Z]/g,v=>"-"+v.toLowerCase())+": "+p+";")}(f.length||h)&&u.push((r&&!c&&!a?l.map(r):l).join(", ")+" {"+f.join(" ")+"}")}for(let l in e)s(i(l),e[l],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let e=mp[pp]||1;return mp[pp]=e+1,Tf+e.toString(36)}static mount(e,n){(e[Rf]||new Px(e)).mount(Array.isArray(n)?n:[n])}}let ll=null;class Px{constructor(e){if(!e.head&&e.adoptedStyleSheets&&typeof CSSStyleSheet!="undefined"){if(ll)return e.adoptedStyleSheets=[ll.sheet].concat(e.adoptedStyleSheets),e[Rf]=ll;this.sheet=new CSSStyleSheet,e.adoptedStyleSheets=[this.sheet].concat(e.adoptedStyleSheets),ll=this}else{this.styleTag=(e.ownerDocument||e).createElement("style");let n=e.head||e;n.insertBefore(this.styleTag,n.firstChild)}this.modules=[],e[Rf]=this}mount(e){let n=this.sheet,r=0,i=0;for(let s=0;s<e.length;s++){let l=e[s],o=this.modules.indexOf(l);if(o<i&&o>-1&&(this.modules.splice(o,1),i--,o=-1),o==-1){if(this.modules.splice(i++,0,l),n)for(let u=0;u<l.rules.length;u++)n.insertRule(l.rules[u],r++)}else{for(;i<o;)r+=this.modules[i++].rules.length;r+=l.rules.length,i++}}if(!n){let s="";for(let l=0;l<this.modules.length;l++)s+=this.modules[l].getRules()+`
`;this.styleTag.textContent=s}}}var Gn={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",229:"q"},ho={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"',229:"Q"},gp=typeof navigator!="undefined"&&/Chrome\/(\d+)/.exec(navigator.userAgent),Ox=typeof navigator!="undefined"&&/Apple Computer/.test(navigator.vendor),Mx=typeof navigator!="undefined"&&/Gecko\/\d+/.test(navigator.userAgent),yp=typeof navigator!="undefined"&&/Mac/.test(navigator.platform),bx=typeof navigator!="undefined"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),Dx=gp&&(yp||+gp[1]<57)||Mx&&yp;for(var Te=0;Te<10;Te++)Gn[48+Te]=Gn[96+Te]=String(Te);for(var Te=1;Te<=24;Te++)Gn[Te+111]="F"+Te;for(var Te=65;Te<=90;Te++)Gn[Te]=String.fromCharCode(Te+32),ho[Te]=String.fromCharCode(Te);for(var ia in Gn)ho.hasOwnProperty(ia)||(ho[ia]=Gn[ia]);function Tx(t){var e=Dx&&(t.ctrlKey||t.altKey||t.metaKey)||(Ox||bx)&&t.shiftKey&&t.key&&t.key.length==1,n=!e&&t.key||(t.shiftKey?ho:Gn)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}function po(t){let e;return t.nodeType==11?e=t.getSelection?t:t.ownerDocument:e=t,e.getSelection()}function ui(t,e){return e?t==e||t.contains(e.nodeType!=1?e.parentNode:e):!1}function Rx(){let t=document.activeElement;for(;t&&t.shadowRoot;)t=t.shadowRoot.activeElement;return t}function Nf(t,e){if(!e.anchorNode)return!1;try{return ui(t,e.anchorNode)}catch{return!1}}function Ps(t){return t.nodeType==3?Os(t,0,t.nodeValue.length).getClientRects():t.nodeType==1?t.getClientRects():[]}function mo(t,e,n,r){return n?vp(t,e,n,r,-1)||vp(t,e,n,r,1):!1}function Lf(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e}function vp(t,e,n,r,i){for(;;){if(t==n&&e==r)return!0;if(e==(i<0?0:go(t))){if(t.nodeName=="DIV")return!1;let s=t.parentNode;if(!s||s.nodeType!=1)return!1;e=Lf(t)+(i<0?0:1),t=s}else if(t.nodeType==1){if(t=t.childNodes[e+(i<0?-1:0)],t.nodeType==1&&t.contentEditable=="false")return!1;e=i<0?go(t):0}else return!1}}function go(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}const ky={left:0,right:0,top:0,bottom:0};function cu(t,e){let n=e?t.left:t.right;return{left:n,right:n,top:t.top,bottom:t.bottom}}function Nx(t){return{left:0,right:t.innerWidth,top:0,bottom:t.innerHeight}}function Lx(t,e,n,r,i,s,l,o){let u=t.ownerDocument,a=u.defaultView;for(let f=t;f;)if(f.nodeType==1){let c,h=f==u.body;if(h)c=Nx(a);else{if(f.scrollHeight<=f.clientHeight&&f.scrollWidth<=f.clientWidth){f=f.parentNode;continue}let v=f.getBoundingClientRect();c={left:v.left,right:v.left+f.clientWidth,top:v.top,bottom:v.top+f.clientHeight}}let d=0,p=0;if(i=="nearest")e.top<c.top?(p=-(c.top-e.top+l),n>0&&e.bottom>c.bottom+p&&(p=e.bottom-c.bottom+p+l)):e.bottom>c.bottom&&(p=e.bottom-c.bottom+l,n<0&&e.top-p<c.top&&(p=-(c.top+p-e.top+l)));else{let v=e.bottom-e.top,S=c.bottom-c.top;p=(i=="center"&&v<=S?e.top+v/2-S/2:i=="start"||i=="center"&&n<0?e.top-l:e.bottom-S+l)-c.top}if(r=="nearest"?e.left<c.left?(d=-(c.left-e.left+s),n>0&&e.right>c.right+d&&(d=e.right-c.right+d+s)):e.right>c.right&&(d=e.right-c.right+s,n<0&&e.left<c.left+d&&(d=-(c.left+d-e.left+s))):d=(r=="center"?e.left+(e.right-e.left)/2-(c.right-c.left)/2:r=="start"==o?e.left-s:e.right-(c.right-c.left)+s)-c.left,d||p)if(h)a.scrollBy(d,p);else{if(p){let v=f.scrollTop;f.scrollTop+=p,p=f.scrollTop-v}if(d){let v=f.scrollLeft;f.scrollLeft+=d,d=f.scrollLeft-v}e={left:e.left-d,top:e.top-p,right:e.right-d,bottom:e.bottom-p}}if(h)break;f=f.assignedSlot||f.parentNode,r=i="nearest"}else if(f.nodeType==11)f=f.host;else break}class Bx{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){this.set(e.anchorNode,e.anchorOffset,e.focusNode,e.focusOffset)}set(e,n,r,i){this.anchorNode=e,this.anchorOffset=n,this.focusNode=r,this.focusOffset=i}}let Pr=null;function xy(t){if(t.setActive)return t.setActive();if(Pr)return t.focus(Pr);let e=[];for(let n=t;n&&(e.push(n,n.scrollTop,n.scrollLeft),n!=n.ownerDocument);n=n.parentNode);if(t.focus(Pr==null?{get preventScroll(){return Pr={preventScroll:!0},!0}}:void 0),!Pr){Pr=!1;for(let n=0;n<e.length;){let r=e[n++],i=e[n++],s=e[n++];r.scrollTop!=i&&(r.scrollTop=i),r.scrollLeft!=s&&(r.scrollLeft=s)}}}let wp;function Os(t,e,n=e){let r=wp||(wp=document.createRange());return r.setEnd(t,n),r.setStart(t,e),r}function Zi(t,e,n){let r={key:e,code:e,keyCode:n,which:n,cancelable:!0},i=new KeyboardEvent("keydown",r);i.synthetic=!0,t.dispatchEvent(i);let s=new KeyboardEvent("keyup",r);return s.synthetic=!0,t.dispatchEvent(s),i.defaultPrevented||s.defaultPrevented}function Ix(t){for(;t;){if(t&&(t.nodeType==9||t.nodeType==11&&t.host))return t;t=t.assignedSlot||t.parentNode}return null}function Cy(t){for(;t.attributes.length;)t.removeAttributeNode(t.attributes[0])}class Re{constructor(e,n,r=!0){this.node=e,this.offset=n,this.precise=r}static before(e,n){return new Re(e.parentNode,Lf(e),n)}static after(e,n){return new Re(e.parentNode,Lf(e)+1,n)}}const gh=[];class de{constructor(){this.parent=null,this.dom=null,this.dirty=2}get editorView(){if(!this.parent)throw new Error("Accessing view in orphan content view");return this.parent.editorView}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e){let n=this.posAtStart;for(let r of this.children){if(r==e)return n;n+=r.length+r.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}coordsAt(e,n){return null}sync(e){if(this.dirty&2){let n=this.dom,r=null,i;for(let s of this.children){if(s.dirty){if(!s.dom&&(i=r?r.nextSibling:n.firstChild)){let l=de.get(i);(!l||!l.parent&&l.constructor==s.constructor)&&s.reuseDOM(i)}s.sync(e),s.dirty=0}if(i=r?r.nextSibling:n.firstChild,e&&!e.written&&e.node==n&&i!=s.dom&&(e.written=!0),s.dom.parentNode==n)for(;i&&i!=s.dom;)i=Sp(i);else n.insertBefore(s.dom,i);r=s.dom}for(i=r?r.nextSibling:n.firstChild,i&&e&&e.node==n&&(e.written=!0);i;)i=Sp(i)}else if(this.dirty&1)for(let n of this.children)n.dirty&&(n.sync(e),n.dirty=0)}reuseDOM(e){}localPosFromDOM(e,n){let r;if(e==this.dom)r=this.dom.childNodes[n];else{let i=go(e)==0?0:n==0?-1:1;for(;;){let s=e.parentNode;if(s==this.dom)break;i==0&&s.firstChild!=s.lastChild&&(e==s.firstChild?i=-1:i=1),e=s}i<0?r=e:r=e.nextSibling}if(r==this.dom.firstChild)return 0;for(;r&&!de.get(r);)r=r.nextSibling;if(!r)return this.length;for(let i=0,s=0;;i++){let l=this.children[i];if(l.dom==r)return s;s+=l.length+l.breakAfter}}domBoundsAround(e,n,r=0){let i=-1,s=-1,l=-1,o=-1;for(let u=0,a=r,f=r;u<this.children.length;u++){let c=this.children[u],h=a+c.length;if(a<e&&h>n)return c.domBoundsAround(e,n,a);if(h>=e&&i==-1&&(i=u,s=a),a>n&&c.dom.parentNode==this.dom){l=u,o=f;break}f=h,a=h+c.breakAfter}return{from:s,to:o<0?r+this.length:o,startDOM:(i?this.children[i-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:l<this.children.length&&l>=0?this.children[l].dom:null}}markDirty(e=!1){this.dirty|=2,this.markParentsDirty(e)}markParentsDirty(e){for(let n=this.parent;n;n=n.parent){if(e&&(n.dirty|=2),n.dirty&1)return;n.dirty|=1,e=!1}}setParent(e){this.parent!=e&&(this.parent=e,this.dirty&&this.markParentsDirty(!0))}setDOM(e){this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this}get rootView(){for(let e=this;;){let n=e.parent;if(!n)return e;e=n}}replaceChildren(e,n,r=gh){this.markDirty();for(let i=e;i<n;i++){let s=this.children[i];s.parent==this&&s.destroy()}this.children.splice(e,n-e,...r);for(let i=0;i<r.length;i++)r[i].setParent(this)}ignoreMutation(e){return!1}ignoreEvent(e){return!1}childCursor(e=this.length){return new Ay(this.children,e,this.children.length)}childPos(e,n=1){return this.childCursor().findPos(e,n)}toString(){let e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+(e=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(e){return e.cmView}get isEditable(){return!0}merge(e,n,r,i,s,l){return!1}become(e){return!1}getSide(){return 0}destroy(){this.parent=null}}de.prototype.breakAfter=0;function Sp(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class Ay{constructor(e,n,r){this.children=e,this.pos=n,this.i=r,this.off=0}findPos(e,n=1){for(;;){if(e>this.pos||e==this.pos&&(n>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;let r=this.children[--this.i];this.pos-=r.length+r.breakAfter}}}function Ey(t,e,n,r,i,s,l,o,u){let{children:a}=t,f=a.length?a[e]:null,c=s.length?s[s.length-1]:null,h=c?c.breakAfter:l;if(!(e==r&&f&&!l&&!h&&s.length<2&&f.merge(n,i,s.length?c:null,n==0,o,u))){if(r<a.length){let d=a[r];d&&i<d.length?(e==r&&(d=d.split(i),i=0),!h&&c&&d.merge(0,i,c,!0,0,u)?s[s.length-1]=d:(i&&d.merge(0,i,null,!1,0,u),s.push(d))):d!=null&&d.breakAfter&&(c?c.breakAfter=1:l=1),r++}for(f&&(f.breakAfter=l,n>0&&(!l&&s.length&&f.merge(n,f.length,s[0],!1,o,0)?f.breakAfter=s.shift().breakAfter:(n<f.length||f.children.length&&f.children[f.children.length-1].length==0)&&f.merge(n,f.length,null,!1,o,0),e++));e<r&&s.length;)if(a[r-1].become(s[s.length-1]))r--,s.pop(),u=s.length?0:o;else if(a[e].become(s[0]))e++,s.shift(),o=s.length?0:u;else break;!s.length&&e&&r<a.length&&!a[e-1].breakAfter&&a[r].merge(0,0,a[e-1],!1,o,u)&&e--,(e<r||s.length)&&t.replaceChildren(e,r,s)}}function Py(t,e,n,r,i,s){let l=t.childCursor(),{i:o,off:u}=l.findPos(n,1),{i:a,off:f}=l.findPos(e,-1),c=e-n;for(let h of r)c+=h.length;t.length+=c,Ey(t,a,f,o,u,r,0,i,s)}let ut=typeof navigator!="undefined"?navigator:{userAgent:"",vendor:"",platform:""},Bf=typeof document!="undefined"?document:{documentElement:{style:{}}};const If=/Edge\/(\d+)/.exec(ut.userAgent),Oy=/MSIE \d/.test(ut.userAgent),zf=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(ut.userAgent),hu=!!(Oy||zf||If),kp=!hu&&/gecko\/(\d+)/i.test(ut.userAgent),sa=!hu&&/Chrome\/(\d+)/.exec(ut.userAgent),xp="webkitFontSmoothing"in Bf.documentElement.style,My=!hu&&/Apple Computer/.test(ut.vendor),Cp=My&&(/Mobile\/\w+/.test(ut.userAgent)||ut.maxTouchPoints>2);var L={mac:Cp||/Mac/.test(ut.platform),windows:/Win/.test(ut.platform),linux:/Linux|X11/.test(ut.platform),ie:hu,ie_version:Oy?Bf.documentMode||6:zf?+zf[1]:If?+If[1]:0,gecko:kp,gecko_version:kp?+(/Firefox\/(\d+)/.exec(ut.userAgent)||[0,0])[1]:0,chrome:!!sa,chrome_version:sa?+sa[1]:0,ios:Cp,android:/Android\b/.test(ut.userAgent),webkit:xp,safari:My,webkit_version:xp?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0,tabSize:Bf.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};const zx=256;class Qn extends de{constructor(e){super(),this.text=e}get length(){return this.text.length}createDOM(e){this.setDOM(e||document.createTextNode(this.text))}sync(e){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(e&&e.node==this.dom&&(e.written=!0),this.dom.nodeValue=this.text)}reuseDOM(e){e.nodeType==3&&this.createDOM(e)}merge(e,n,r){return r&&(!(r instanceof Qn)||this.length-(n-e)+r.length>zx)?!1:(this.text=this.text.slice(0,e)+(r?r.text:"")+this.text.slice(n),this.markDirty(),!0)}split(e){let n=new Qn(this.text.slice(e));return this.text=this.text.slice(0,e),this.markDirty(),n}localPosFromDOM(e,n){return e==this.dom?n:n?this.text.length:0}domAtPos(e){return new Re(this.dom,e)}domBoundsAround(e,n,r){return{from:r,to:r+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(e,n){return _f(this.dom,e,n)}}class Yt extends de{constructor(e,n=[],r=0){super(),this.mark=e,this.children=n,this.length=r;for(let i of n)i.setParent(this)}setAttrs(e){if(Cy(e),this.mark.class&&(e.className=this.mark.class),this.mark.attrs)for(let n in this.mark.attrs)e.setAttribute(n,this.mark.attrs[n]);return e}reuseDOM(e){e.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(e),this.dirty|=6)}sync(e){this.dom?this.dirty&4&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(e)}merge(e,n,r,i,s,l){return r&&(!(r instanceof Yt&&r.mark.eq(this.mark))||e&&s<=0||n<this.length&&l<=0)?!1:(Py(this,e,n,r?r.children:[],s-1,l-1),this.markDirty(),!0)}split(e){let n=[],r=0,i=-1,s=0;for(let o of this.children){let u=r+o.length;u>e&&n.push(r<e?o.split(e-r):o),i<0&&r>=e&&(i=s),r=u,s++}let l=this.length-e;return this.length=e,i>-1&&(this.children.length=i,this.markDirty()),new Yt(this.mark,n,l)}domAtPos(e){return Ty(this.dom,this.children,e)}coordsAt(e,n){return Ny(this,e,n)}}function _f(t,e,n){let r=t.nodeValue.length;e>r&&(e=r);let i=e,s=e,l=0;e==0&&n<0||e==r&&n>=0?L.chrome||L.gecko||(e?(i--,l=1):(s++,l=-1)):n<0?i--:s++;let o=Os(t,i,s).getClientRects();if(!o.length)return ky;let u=o[(l?l<0:n>=0)?0:o.length-1];return L.safari&&!l&&u.width==0&&(u=Array.prototype.find.call(o,a=>a.width)||u),l?cu(u,l<0):u||null}class bn extends de{constructor(e,n,r){super(),this.widget=e,this.length=n,this.side=r,this.prevWidget=null}static create(e,n,r){return new(e.customView||bn)(e,n,r)}split(e){let n=bn.create(this.widget,this.length-e,this.side);return this.length-=e,n}sync(){(!this.dom||!this.widget.updateDOM(this.dom))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(this.editorView)),this.dom.contentEditable="false")}getSide(){return this.side}merge(e,n,r,i,s,l){return r&&(!(r instanceof bn)||!this.widget.compare(r.widget)||e>0&&s<=0||n<this.length&&l<=0)?!1:(this.length=e+(r?r.length:0)+(this.length-n),!0)}become(e){return e.length==this.length&&e instanceof bn&&e.side==this.side&&this.widget.constructor==e.widget.constructor?(this.widget.eq(e.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get overrideDOMText(){if(this.length==0)return Q.empty;let e=this;for(;e.parent;)e=e.parent;let n=e.editorView,r=n&&n.state.doc,i=this.posAtStart;return r?r.slice(i,i+this.length):Q.empty}domAtPos(e){return e==0?Re.before(this.dom):Re.after(this.dom,e==this.length)}domBoundsAround(){return null}coordsAt(e,n){let r=this.dom.getClientRects(),i=null;if(!r.length)return ky;for(let s=e>0?r.length-1:0;i=r[s],!(e>0?s==0:s==r.length-1||i.top<i.bottom);s+=e>0?-1:1);return e==0&&n>0||e==this.length&&n<=0?i:cu(i,e==0)}get isEditable(){return!1}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class by extends bn{domAtPos(e){let{topView:n,text:r}=this.widget;return n?Ff(e,0,n,r,(i,s)=>i.domAtPos(s),i=>new Re(r,Math.min(i,r.nodeValue.length))):new Re(r,Math.min(e,r.nodeValue.length))}sync(){this.setDOM(this.widget.toDOM())}localPosFromDOM(e,n){let{topView:r,text:i}=this.widget;return r?Dy(e,n,r,i):Math.min(n,this.length)}ignoreMutation(){return!1}get overrideDOMText(){return null}coordsAt(e,n){let{topView:r,text:i}=this.widget;return r?Ff(e,n,r,i,(s,l,o)=>s.coordsAt(l,o),(s,l)=>_f(i,s,l)):_f(i,e,n)}destroy(){var e;super.destroy(),(e=this.widget.topView)===null||e===void 0||e.destroy()}get isEditable(){return!0}}function Ff(t,e,n,r,i,s){if(n instanceof Yt){for(let l of n.children){let o=ui(l.dom,r),u=o?r.nodeValue.length:l.length;if(t<u||t==u&&l.getSide()<=0)return o?Ff(t,e,l,r,i,s):i(l,t,e);t-=u}return i(n,n.length,-1)}else return n.dom==r?s(t,e):i(n,t,e)}function Dy(t,e,n,r){if(n instanceof Yt)for(let i of n.children){let s=0,l=ui(i.dom,r);if(ui(i.dom,t))return s+(l?Dy(t,e,i,r):i.localPosFromDOM(t,e));s+=l?r.nodeValue.length:i.length}else if(n.dom==r)return Math.min(e,r.nodeValue.length);return n.localPosFromDOM(t,e)}class ai extends de{constructor(e){super(),this.side=e}get length(){return 0}merge(){return!1}become(e){return e instanceof ai&&e.side==this.side}split(){return new ai(this.side)}sync(){if(!this.dom){let e=document.createElement("img");e.className="cm-widgetBuffer",e.setAttribute("aria-hidden","true"),this.setDOM(e)}}getSide(){return this.side}domAtPos(e){return Re.before(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(e){let n=this.dom.getBoundingClientRect(),r=_x(this,this.side>0?-1:1);return r&&r.top<n.bottom&&r.bottom>n.top?{left:n.left,right:n.right,top:r.top,bottom:r.bottom}:n}get overrideDOMText(){return Q.empty}}Qn.prototype.children=bn.prototype.children=ai.prototype.children=gh;function _x(t,e){let n=t.parent,r=n?n.children.indexOf(t):-1;for(;n&&r>=0;)if(e<0?r>0:r<n.children.length){let i=n.children[r+e];if(i instanceof Qn){let s=i.coordsAt(e<0?i.length:0,e);if(s)return s}r+=e}else if(n instanceof Yt&&n.parent)r=n.parent.children.indexOf(n)+(e<0?0:1),n=n.parent;else{let i=n.dom.lastChild;if(i&&i.nodeName=="BR")return i.getClientRects()[0];break}}function Ty(t,e,n){let r=0;for(let i=0;r<e.length;r++){let s=e[r],l=i+s.length;if(!(l==i&&s.getSide()<=0)){if(n>i&&n<l&&s.dom.parentNode==t)return s.domAtPos(n-i);if(n<=i)break;i=l}}for(;r>0;r--){let i=e[r-1].dom;if(i.parentNode==t)return Re.after(i)}return new Re(t,0)}function Ry(t,e,n){let r,{children:i}=t;n>0&&e instanceof Yt&&i.length&&(r=i[i.length-1])instanceof Yt&&r.mark.eq(e.mark)?Ry(r,e.children[0],n-1):(i.push(e),e.setParent(t)),t.length+=e.length}function Ny(t,e,n){for(let s=0,l=0;l<t.children.length;l++){let o=t.children[l],u=s+o.length,a;if((n<=0||u==t.length||o.getSide()>0?u>=e:u>e)&&(e<u||l+1==t.children.length||(a=t.children[l+1]).length||a.getSide()>0)){let f=0;if(u==s){if(o.getSide()<=0)continue;f=n=-o.getSide()}let c=o.coordsAt(Math.max(0,e-s),n);return f&&c?cu(c,n<0):c}s=u}let r=t.dom.lastChild;if(!r)return t.dom.getBoundingClientRect();let i=Ps(r);return i[i.length-1]||null}function $f(t,e){for(let n in t)n=="class"&&e.class?e.class+=" "+t.class:n=="style"&&e.style?e.style+=";"+t.style:e[n]=t[n];return e}function yh(t,e){if(t==e)return!0;if(!t||!e)return!1;let n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i of n)if(r.indexOf(i)==-1||t[i]!==e[i])return!1;return!0}function Vf(t,e,n){if(e)for(let r in e)n&&r in n||t.removeAttribute(r);if(n)for(let r in n)e&&e[r]==n[r]||t.setAttribute(r,n[r])}class du{eq(e){return!1}updateDOM(e){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}ignoreEvent(e){return!0}get customView(){return null}destroy(e){}}var Z=function(t){return t[t.Text=0]="Text",t[t.WidgetBefore=1]="WidgetBefore",t[t.WidgetAfter=2]="WidgetAfter",t[t.WidgetRange=3]="WidgetRange",t}(Z||(Z={}));class he extends yr{constructor(e,n,r,i){super(),this.startSide=e,this.endSide=n,this.widget=r,this.spec=i}get heightRelevant(){return!1}static mark(e){return new pu(e)}static widget(e){let n=e.side||0,r=!!e.block;return n+=r?n>0?3e8:-4e8:n>0?1e8:-1e8,new vr(e,n,n,r,e.widget||null,!1)}static replace(e){let n=!!e.block,r,i;if(e.isBlockGap)r=-5e8,i=4e8;else{let{start:s,end:l}=Ly(e,n);r=(s?n?-3e8:-1:5e8)-1,i=(l?n?2e8:1:-6e8)+1}return new vr(e,r,i,n,e.widget||null,!0)}static line(e){return new zs(e)}static set(e,n=!1){return X.of(e,n)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}he.none=X.empty;class pu extends he{constructor(e){let{start:n,end:r}=Ly(e);super(n?-1:5e8,r?1:-6e8,null,e),this.tagName=e.tagName||"span",this.class=e.class||"",this.attrs=e.attributes||null}eq(e){return this==e||e instanceof pu&&this.tagName==e.tagName&&this.class==e.class&&yh(this.attrs,e.attrs)}range(e,n=e){if(e>=n)throw new RangeError("Mark decorations may not be empty");return super.range(e,n)}}pu.prototype.point=!1;class zs extends he{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof zs&&yh(this.spec.attributes,e.spec.attributes)}range(e,n=e){if(n!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,n)}}zs.prototype.mapMode=Ye.TrackBefore;zs.prototype.point=!0;class vr extends he{constructor(e,n,r,i,s,l){super(n,r,s,e),this.block=i,this.isReplace=l,this.mapMode=i?n<=0?Ye.TrackBefore:Ye.TrackAfter:Ye.TrackDel}get type(){return this.startSide<this.endSide?Z.WidgetRange:this.startSide<=0?Z.WidgetBefore:Z.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&this.widget.estimatedHeight>=5}eq(e){return e instanceof vr&&Fx(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}range(e,n=e){if(this.isReplace&&(e>n||e==n&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&n!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,n)}}vr.prototype.point=!0;function Ly(t,e=!1){let{inclusiveStart:n,inclusiveEnd:r}=t;return n==null&&(n=t.inclusive),r==null&&(r=t.inclusive),{start:n!=null?n:e,end:r!=null?r:e}}function Fx(t,e){return t==e||!!(t&&e&&t.compare(e))}function jf(t,e,n,r=0){let i=n.length-1;i>=0&&n[i]+r>=t?n[i]=Math.max(n[i],e):n.push(t,e)}class Ue extends de{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(e,n,r,i,s,l){if(r){if(!(r instanceof Ue))return!1;this.dom||r.transferDOM(this)}return i&&this.setDeco(r?r.attrs:null),Py(this,e,n,r?r.children:[],s,l),!0}split(e){let n=new Ue;if(n.breakAfter=this.breakAfter,this.length==0)return n;let{i:r,off:i}=this.childPos(e);i&&(n.append(this.children[r].split(i),0),this.children[r].merge(i,this.children[r].length,null,!1,0,0),r++);for(let s=r;s<this.children.length;s++)n.append(this.children[s],0);for(;r>0&&this.children[r-1].length==0;)this.children[--r].destroy();return this.children.length=r,this.markDirty(),this.length=e,n}transferDOM(e){!this.dom||(e.setDOM(this.dom),e.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(e){yh(this.attrs,e)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=e)}append(e,n){Ry(this,e,n)}addLineDeco(e){let n=e.spec.attributes,r=e.spec.class;n&&(this.attrs=$f(n,this.attrs||{})),r&&(this.attrs=$f({class:r},this.attrs||{}))}domAtPos(e){return Ty(this.dom,this.children,e)}reuseDOM(e){e.nodeName=="DIV"&&(this.setDOM(e),this.dirty|=6)}sync(e){var n;this.dom?this.dirty&4&&(Cy(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),this.prevAttrs!==void 0&&(Vf(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(e);let r=this.dom.lastChild;for(;r&&de.get(r)instanceof Yt;)r=r.lastChild;if(!r||!this.length||r.nodeName!="BR"&&((n=de.get(r))===null||n===void 0?void 0:n.isEditable)==!1&&(!L.ios||!this.children.some(i=>i instanceof Qn))){let i=document.createElement("BR");i.cmIgnore=!0,this.dom.appendChild(i)}}measureTextSize(){if(this.children.length==0||this.length>20)return null;let e=0;for(let n of this.children){if(!(n instanceof Qn))return null;let r=Ps(n.dom);if(r.length!=1)return null;e+=r[0].width}return{lineHeight:this.dom.getBoundingClientRect().height,charWidth:e/this.length}}coordsAt(e,n){return Ny(this,e,n)}become(e){return!1}get type(){return Z.Text}static find(e,n){for(let r=0,i=0;r<e.children.length;r++){let s=e.children[r],l=i+s.length;if(l>=n){if(s instanceof Ue)return s;if(l>n)break}i=l+s.breakAfter}return null}}class ar extends de{constructor(e,n,r){super(),this.widget=e,this.length=n,this.type=r,this.breakAfter=0,this.prevWidget=null}merge(e,n,r,i,s,l){return r&&(!(r instanceof ar)||!this.widget.compare(r.widget)||e>0&&s<=0||n<this.length&&l<=0)?!1:(this.length=e+(r?r.length:0)+(this.length-n),!0)}domAtPos(e){return e==0?Re.before(this.dom):Re.after(this.dom,e==this.length)}split(e){let n=this.length-e;this.length=e;let r=new ar(this.widget,n,this.type);return r.breakAfter=this.breakAfter,r}get children(){return gh}sync(){(!this.dom||!this.widget.updateDOM(this.dom))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(this.editorView)),this.dom.contentEditable="false")}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):Q.empty}domBoundsAround(){return null}become(e){return e instanceof ar&&e.type==this.type&&e.widget.constructor==this.widget.constructor?(e.widget.eq(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,this.breakAfter=e.breakAfter,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class vh{constructor(e,n,r,i){this.doc=e,this.pos=n,this.end=r,this.disallowBlockEffectsFor=i,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=e.iter(),this.skip=n}posCovered(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let e=this.content[this.content.length-1];return!e.breakAfter&&!(e instanceof ar&&e.type==Z.WidgetBefore)}getLine(){return this.curLine||(this.content.push(this.curLine=new Ue),this.atCursorPos=!0),this.curLine}flushBuffer(e){this.pendingBuffer&&(this.curLine.append(ol(new ai(-1),e),e.length),this.pendingBuffer=0)}addBlockWidget(e){this.flushBuffer([]),this.curLine=null,this.content.push(e)}finish(e){e?this.pendingBuffer=0:this.flushBuffer([]),this.posCovered()||this.getLine()}buildText(e,n,r){for(;e>0;){if(this.textOff==this.text.length){let{value:s,lineBreak:l,done:o}=this.cursor.next(this.skip);if(this.skip=0,o)throw new Error("Ran out of text content when drawing inline views");if(l){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer([]),this.curLine=null,e--;continue}else this.text=s,this.textOff=0}let i=Math.min(this.text.length-this.textOff,e,512);this.flushBuffer(n.slice(0,r)),this.getLine().append(ol(new Qn(this.text.slice(this.textOff,this.textOff+i)),n),r),this.atCursorPos=!0,this.textOff+=i,e-=i,r=0}}span(e,n,r,i){this.buildText(n-e,r,i),this.pos=n,this.openStart<0&&(this.openStart=i)}point(e,n,r,i,s,l){if(this.disallowBlockEffectsFor[l]&&r instanceof vr){if(r.block)throw new RangeError("Block decorations may not be specified via plugins");if(n>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let o=n-e;if(r instanceof vr)if(r.block){let{type:u}=r;u==Z.WidgetAfter&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new ar(r.widget||new Ap("div"),o,u))}else{let u=bn.create(r.widget||new Ap("span"),o,r.startSide),a=this.atCursorPos&&!u.isEditable&&s<=i.length&&(e<n||r.startSide>0),f=!u.isEditable&&(e<n||r.startSide<=0),c=this.getLine();this.pendingBuffer==2&&!a&&(this.pendingBuffer=0),this.flushBuffer(i),a&&(c.append(ol(new ai(1),i),s),s=i.length+Math.max(0,s-i.length)),c.append(ol(u,i),s),this.atCursorPos=f,this.pendingBuffer=f?e<n?1:2:0}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(r);o&&(this.textOff+o<=this.text.length?this.textOff+=o:(this.skip+=o-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=n),this.openStart<0&&(this.openStart=s)}static build(e,n,r,i,s){let l=new vh(e,n,r,s);return l.openEnd=X.spans(i,n,r,l),l.openStart<0&&(l.openStart=l.openEnd),l.finish(l.openEnd),l}}function ol(t,e){for(let n of e)t=new Yt(n,[t],t.length);return t}class Ap extends du{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}}const $x=[],By=I.define(),Iy=I.define(),zy=I.define(),_y=I.define(),Wf=I.define(),Fy=I.define(),$y=I.define({combine:t=>t.some(e=>e)});class yo{constructor(e,n="nearest",r="nearest",i=5,s=5){this.range=e,this.y=n,this.x=r,this.yMargin=i,this.xMargin=s}map(e){return e.empty?this:new yo(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin)}}const Ep=ge.define({map:(t,e)=>t.map(e)});function $n(t,e,n){let r=t.facet(_y);r.length?r[0](e):window.onerror?window.onerror(String(e),n,void 0,void 0,e):n?console.error(n+":",e):console.error(e)}const _s=I.define({combine:t=>t.length?t[0]:!0});let Vx=0;const _i=I.define();class pn{constructor(e,n,r,i){this.id=e,this.create=n,this.domEventHandlers=r,this.extension=i(this)}static define(e,n){const{eventHandlers:r,provide:i,decorations:s}=n||{};return new pn(Vx++,e,r,l=>{let o=[_i.of(l)];return s&&o.push(Ms.of(u=>{let a=u.plugin(l);return a?s(a):he.none})),i&&o.push(i(l)),o})}static fromClass(e,n){return pn.define(r=>new e(r),n)}}class la{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}update(e){if(this.value){if(this.mustUpdate){let n=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(n)}catch(r){if($n(n.state,r,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(e)}catch(n){$n(e.state,n,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var n;if(!((n=this.value)===null||n===void 0)&&n.destroy)try{this.value.destroy()}catch(r){$n(e.state,r,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const Vy=I.define(),jy=I.define(),Ms=I.define(),Wy=I.define(),Hy=I.define(),Fi=I.define();class an{constructor(e,n,r,i){this.fromA=e,this.toA=n,this.fromB=r,this.toB=i}join(e){return new an(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let n=e.length,r=this;for(;n>0;n--){let i=e[n-1];if(!(i.fromA>r.toA)){if(i.toA<r.fromA)break;r=r.join(i),e.splice(n-1,1)}}return e.splice(n,0,r),e}static extendWithRanges(e,n){if(n.length==0)return e;let r=[];for(let i=0,s=0,l=0,o=0;;i++){let u=i==e.length?null:e[i],a=l-o,f=u?u.fromB:1e9;for(;s<n.length&&n[s]<f;){let c=n[s],h=n[s+1],d=Math.max(o,c),p=Math.min(f,h);if(d<=p&&new an(d+a,p+a,d,p).addToSet(r),h>f)break;s+=2}if(!u)return r;new an(u.fromA,u.toA,u.fromB,u.toB).addToSet(r),l=u.toA,o=u.toB}}}class Pp{constructor(e,n,r=$x){this.view=e,this.state=n,this.transactions=r,this.flags=0,this.startState=e.state,this.changes=Ee.empty(this.startState.doc.length);for(let l of r)this.changes=this.changes.compose(l.changes);let i=[];this.changes.iterChangedRanges((l,o,u,a)=>i.push(new an(l,o,u,a))),this.changedRanges=i;let s=e.hasFocus;s!=e.inputState.notifiedFocused&&(e.inputState.notifiedFocused=s,this.flags|=1)}get viewportChanged(){return(this.flags&4)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&10)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(e=>e.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}var ve=function(t){return t[t.LTR=0]="LTR",t[t.RTL=1]="RTL",t}(ve||(ve={}));const Hf=ve.LTR,jx=ve.RTL;function Uy(t){let e=[];for(let n=0;n<t.length;n++)e.push(1<<+t[n]);return e}const Wx=Uy("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),Hx=Uy("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),Uf=Object.create(null),Ft=[];for(let t of["()","[]","{}"]){let e=t.charCodeAt(0),n=t.charCodeAt(1);Uf[e]=n,Uf[n]=-e}function Ux(t){return t<=247?Wx[t]:1424<=t&&t<=1524?2:1536<=t&&t<=1785?Hx[t-1536]:1774<=t&&t<=2220?4:8192<=t&&t<=8203||t==8204?256:1}const Kx=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;class Zr{constructor(e,n,r){this.from=e,this.to=n,this.level=r}get dir(){return this.level%2?jx:Hf}side(e,n){return this.dir==n==e?this.to:this.from}static find(e,n,r,i){let s=-1;for(let l=0;l<e.length;l++){let o=e[l];if(o.from<=n&&o.to>=n){if(o.level==r)return l;(s<0||(i!=0?i<0?o.from<n:o.to>n:e[s].level>o.level))&&(s=l)}}if(s<0)throw new RangeError("Index out of range");return s}}const le=[];function Gx(t,e){let n=t.length,r=e==Hf?1:2,i=e==Hf?2:1;if(!t||r==1&&!Kx.test(t))return Ky(n);for(let l=0,o=r,u=r;l<n;l++){let a=Ux(t.charCodeAt(l));a==512?a=o:a==8&&u==4&&(a=16),le[l]=a==4?2:a,a&7&&(u=a),o=a}for(let l=0,o=r,u=r;l<n;l++){let a=le[l];if(a==128)l<n-1&&o==le[l+1]&&o&24?a=le[l]=o:le[l]=256;else if(a==64){let f=l+1;for(;f<n&&le[f]==64;)f++;let c=l&&o==8||f<n&&le[f]==8?u==1?1:8:256;for(let h=l;h<f;h++)le[h]=c;l=f-1}else a==8&&u==1&&(le[l]=1);o=a,a&7&&(u=a)}for(let l=0,o=0,u=0,a,f,c;l<n;l++)if(f=Uf[a=t.charCodeAt(l)])if(f<0){for(let h=o-3;h>=0;h-=3)if(Ft[h+1]==-f){let d=Ft[h+2],p=d&2?r:d&4?d&1?i:r:0;p&&(le[l]=le[Ft[h]]=p),o=h;break}}else{if(Ft.length==189)break;Ft[o++]=l,Ft[o++]=a,Ft[o++]=u}else if((c=le[l])==2||c==1){let h=c==r;u=h?0:1;for(let d=o-3;d>=0;d-=3){let p=Ft[d+2];if(p&2)break;if(h)Ft[d+2]|=2;else{if(p&4)break;Ft[d+2]|=4}}}for(let l=0;l<n;l++)if(le[l]==256){let o=l+1;for(;o<n&&le[o]==256;)o++;let u=(l?le[l-1]:r)==1,a=(o<n?le[o]:r)==1,f=u==a?u?1:2:r;for(let c=l;c<o;c++)le[c]=f;l=o-1}let s=[];if(r==1)for(let l=0;l<n;){let o=l,u=le[l++]!=1;for(;l<n&&u==(le[l]!=1);)l++;if(u)for(let a=l;a>o;){let f=a,c=le[--a]!=2;for(;a>o&&c==(le[a-1]!=2);)a--;s.push(new Zr(a,f,c?2:1))}else s.push(new Zr(o,l,0))}else for(let l=0;l<n;){let o=l,u=le[l++]==2;for(;l<n&&u==(le[l]==2);)l++;s.push(new Zr(o,l,u?1:2))}return s}function Ky(t){return[new Zr(0,t,0)]}let Gy="";function Qx(t,e,n,r,i){var s;let l=r.head-t.from,o=-1;if(l==0){if(!i||!t.length)return null;e[0].level!=n&&(l=e[0].side(!1,n),o=0)}else if(l==t.length){if(i)return null;let h=e[e.length-1];h.level!=n&&(l=h.side(!0,n),o=e.length-1)}o<0&&(o=Zr.find(e,l,(s=r.bidiLevel)!==null&&s!==void 0?s:-1,r.assoc));let u=e[o];l==u.side(i,n)&&(u=e[o+=i?1:-1],l=u.side(!i,n));let a=i==(u.dir==n),f=at(t.text,l,a);if(Gy=t.text.slice(Math.min(l,f),Math.max(l,f)),f!=u.side(i,n))return E.cursor(f+t.from,a?-1:1,u.level);let c=o==(i?e.length-1:0)?null:e[o+(i?1:-1)];return!c&&u.level!=n?E.cursor(i?t.to:t.from,i?-1:1,n):c&&c.level<u.level?E.cursor(c.side(!i,n)+t.from,i?1:-1,c.level):E.cursor(f+t.from,i?-1:1,u.level)}const Dn="\uFFFF";class Qy{constructor(e,n){this.points=e,this.text="",this.lineSeparator=n.facet(H.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=Dn}readRange(e,n){if(!e)return this;let r=e.parentNode;for(let i=e;;){this.findPointBefore(r,i),this.readNode(i);let s=i.nextSibling;if(s==n)break;let l=de.get(i),o=de.get(s);(l&&o?l.breakAfter:(l?l.breakAfter:Op(i))||Op(s)&&(i.nodeName!="BR"||i.cmIgnore))&&this.lineBreak(),i=s}return this.findPointBefore(r,n),this}readTextNode(e){let n=e.nodeValue;for(let r of this.points)r.node==e&&(r.pos=this.text.length+Math.min(r.offset,n.length));for(let r=0,i=this.lineSeparator?null:/\r\n?|\n/g;;){let s=-1,l=1,o;if(this.lineSeparator?(s=n.indexOf(this.lineSeparator,r),l=this.lineSeparator.length):(o=i.exec(n))&&(s=o.index,l=o[0].length),this.append(n.slice(r,s<0?n.length:s)),s<0)break;if(this.lineBreak(),l>1)for(let u of this.points)u.node==e&&u.pos>this.text.length&&(u.pos-=l-1);r=s+l}}readNode(e){if(e.cmIgnore)return;let n=de.get(e),r=n&&n.overrideDOMText;if(r!=null){this.findPointInside(e,r.length);for(let i=r.iter();!i.next().done;)i.lineBreak?this.lineBreak():this.append(i.value)}else e.nodeType==3?this.readTextNode(e):e.nodeName=="BR"?e.nextSibling&&this.lineBreak():e.nodeType==1&&this.readRange(e.firstChild,null)}findPointBefore(e,n){for(let r of this.points)r.node==e&&e.childNodes[r.offset]==n&&(r.pos=this.text.length)}findPointInside(e,n){for(let r of this.points)(e.nodeType==3?r.node==e:e.contains(r.node))&&(r.pos=this.text.length+Math.min(n,r.offset))}}function Op(t){return t.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(t.nodeName)}class Mp{constructor(e,n){this.node=e,this.offset=n,this.pos=-1}}class bp extends de{constructor(e){super(),this.view=e,this.compositionDeco=he.none,this.decorations=[],this.dynamicDecorationMap=[],this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(e.contentDOM),this.children=[new Ue],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new an(0,0,0,e.state.doc.length)],0)}get root(){return this.view.root}get editorView(){return this.view}get length(){return this.view.state.doc.length}update(e){let n=e.changedRanges;this.minWidth>0&&n.length&&(n.every(({fromA:l,toA:o})=>o<this.minWidthFrom||l>this.minWidthTo)?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.view.inputState.composing<0?this.compositionDeco=he.none:(e.transactions.length||this.dirty)&&(this.compositionDeco=Jx(this.view,e.changes)),(L.ie||L.chrome)&&!this.compositionDeco.size&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let r=this.decorations,i=this.updateDeco(),s=e2(r,i,e.changes);return n=an.extendWithRanges(n,s),this.dirty==0&&n.length==0?!1:(this.updateInner(n,e.startState.doc.length),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,n){this.view.viewState.mustMeasureContent=!0,this.updateChildren(e,n);let{observer:r}=this.view;r.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight+"px",this.dom.style.minWidth=this.minWidth?this.minWidth+"px":"";let s=L.chrome||L.ios?{node:r.selectionRange.focusNode,written:!1}:void 0;this.sync(s),this.dirty=0,s&&(s.written||r.selectionRange.focusNode!=s.node)&&(this.forceSelection=!0),this.dom.style.height=""});let i=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let s of this.children)s instanceof ar&&s.widget instanceof Dp&&i.push(s.dom);r.updateGaps(i)}updateChildren(e,n){let r=this.childCursor(n);for(let i=e.length-1;;i--){let s=i>=0?e[i]:null;if(!s)break;let{fromA:l,toA:o,fromB:u,toB:a}=s,{content:f,breakAtStart:c,openStart:h,openEnd:d}=vh.build(this.view.state.doc,u,a,this.decorations,this.dynamicDecorationMap),{i:p,off:v}=r.findPos(o,1),{i:S,off:m}=r.findPos(l,-1);Ey(this,S,m,p,v,f,c,h,d)}}updateSelection(e=!1,n=!1){if(e&&this.view.observer.readSelectionRange(),!(n||this.mayControlSelection())||L.ios&&this.view.inputState.rapidCompositionStart)return;let r=this.forceSelection;this.forceSelection=!1;let i=this.view.state.selection.main,s=this.domAtPos(i.anchor),l=i.empty?s:this.domAtPos(i.head);if(L.gecko&&i.empty&&qx(s)){let u=document.createTextNode("");this.view.observer.ignore(()=>s.node.insertBefore(u,s.node.childNodes[s.offset]||null)),s=l=new Re(u,0),r=!0}let o=this.view.observer.selectionRange;(r||!o.focusNode||!mo(s.node,s.offset,o.anchorNode,o.anchorOffset)||!mo(l.node,l.offset,o.focusNode,o.focusOffset))&&(this.view.observer.ignore(()=>{L.android&&L.chrome&&this.dom.contains(o.focusNode)&&t2(o.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let u=po(this.root);if(i.empty){if(L.gecko){let a=Xx(s.node,s.offset);if(a&&a!=3){let f=Jy(s.node,s.offset,a==1?1:-1);f&&(s=new Re(f,a==1?0:f.nodeValue.length))}}u.collapse(s.node,s.offset),i.bidiLevel!=null&&o.cursorBidiLevel!=null&&(o.cursorBidiLevel=i.bidiLevel)}else if(u.extend)u.collapse(s.node,s.offset),u.extend(l.node,l.offset);else{let a=document.createRange();i.anchor>i.head&&([s,l]=[l,s]),a.setEnd(l.node,l.offset),a.setStart(s.node,s.offset),u.removeAllRanges(),u.addRange(a)}}),this.view.observer.setSelectionRange(s,l)),this.impreciseAnchor=s.precise?null:new Re(o.anchorNode,o.anchorOffset),this.impreciseHead=l.precise?null:new Re(o.focusNode,o.focusOffset)}enforceCursorAssoc(){if(this.compositionDeco.size)return;let e=this.view.state.selection.main,n=po(this.root);if(!e.empty||!e.assoc||!n.modify)return;let r=Ue.find(this,e.head);if(!r)return;let i=r.posAtStart;if(e.head==i||e.head==i+r.length)return;let s=this.coordsAt(e.head,-1),l=this.coordsAt(e.head,1);if(!s||!l||s.bottom>l.top)return;let o=this.domAtPos(e.head+e.assoc);n.collapse(o.node,o.offset),n.modify("move",e.assoc<0?"forward":"backward","lineboundary")}mayControlSelection(){return this.view.state.facet(_s)?this.root.activeElement==this.dom:Nf(this.dom,this.view.observer.selectionRange)}nearest(e){for(let n=e;n;){let r=de.get(n);if(r&&r.rootView==this)return r;n=n.parentNode}return null}posFromDOM(e,n){let r=this.nearest(e);if(!r)throw new RangeError("Trying to find position for a DOM position outside of the document");return r.localPosFromDOM(e,n)+r.posAtStart}domAtPos(e){let{i:n,off:r}=this.childCursor().findPos(e,-1);for(;n<this.children.length-1;){let i=this.children[n];if(r<i.length||i instanceof Ue)break;n++,r=0}return this.children[n].domAtPos(r)}coordsAt(e,n){for(let r=this.length,i=this.children.length-1;;i--){let s=this.children[i],l=r-s.breakAfter-s.length;if(e>l||e==l&&s.type!=Z.WidgetBefore&&s.type!=Z.WidgetAfter&&(!i||n==2||this.children[i-1].breakAfter||this.children[i-1].type==Z.WidgetBefore&&n>-2))return s.coordsAt(e-l,n);r=l}}measureVisibleLineHeights(e){let n=[],{from:r,to:i}=e,s=this.view.contentDOM.clientWidth,l=s>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,o=-1,u=this.view.textDirection==ve.LTR;for(let a=0,f=0;f<this.children.length;f++){let c=this.children[f],h=a+c.length;if(h>i)break;if(a>=r){let d=c.dom.getBoundingClientRect();if(n.push(d.height),l){let p=c.dom.lastChild,v=p?Ps(p):[];if(v.length){let S=v[v.length-1],m=u?S.right-d.left:d.right-S.left;m>o&&(o=m,this.minWidth=s,this.minWidthFrom=a,this.minWidthTo=h)}}}a=h+c.breakAfter}return n}textDirectionAt(e){let{i:n}=this.childPos(e,1);return getComputedStyle(this.children[n].dom).direction=="rtl"?ve.RTL:ve.LTR}measureTextSize(){for(let i of this.children)if(i instanceof Ue){let s=i.measureTextSize();if(s)return s}let e=document.createElement("div"),n,r;return e.className="cm-line",e.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(e);let i=Ps(e.firstChild)[0];n=e.getBoundingClientRect().height,r=i?i.width/27:7,e.remove()}),{lineHeight:n,charWidth:r}}childCursor(e=this.length){let n=this.children.length;return n&&(e-=this.children[--n].length),new Ay(this.children,e,n)}computeBlockGapDeco(){let e=[],n=this.view.viewState;for(let r=0,i=0;;i++){let s=i==n.viewports.length?null:n.viewports[i],l=s?s.from-1:this.length;if(l>r){let o=n.lineBlockAt(l).bottom-n.lineBlockAt(r).top;e.push(he.replace({widget:new Dp(o),block:!0,inclusive:!0,isBlockGap:!0}).range(r,l))}if(!s)break;r=s.to+1}return he.set(e)}updateDeco(){let e=this.view.state.facet(Ms).map((n,r)=>(this.dynamicDecorationMap[r]=typeof n=="function")?n(this.view):n);for(let n=e.length;n<e.length+3;n++)this.dynamicDecorationMap[n]=!1;return this.decorations=[...e,this.compositionDeco,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco]}scrollIntoView(e){let{range:n}=e,r=this.coordsAt(n.head,n.empty?n.assoc:n.head>n.anchor?-1:1),i;if(!r)return;!n.empty&&(i=this.coordsAt(n.anchor,n.anchor>n.head?-1:1))&&(r={left:Math.min(r.left,i.left),top:Math.min(r.top,i.top),right:Math.max(r.right,i.right),bottom:Math.max(r.bottom,i.bottom)});let s=0,l=0,o=0,u=0;for(let f of this.view.state.facet(Hy).map(c=>c(this.view)))if(f){let{left:c,right:h,top:d,bottom:p}=f;c!=null&&(s=Math.max(s,c)),h!=null&&(l=Math.max(l,h)),d!=null&&(o=Math.max(o,d)),p!=null&&(u=Math.max(u,p))}let a={left:r.left-s,top:r.top-o,right:r.right+l,bottom:r.bottom+u};Lx(this.view.scrollDOM,a,n.head<n.anchor?-1:1,e.x,e.y,e.xMargin,e.yMargin,this.view.textDirection==ve.LTR)}}function qx(t){return t.node.nodeType==1&&t.node.firstChild&&(t.offset==0||t.node.childNodes[t.offset-1].contentEditable=="false")&&(t.offset==t.node.childNodes.length||t.node.childNodes[t.offset].contentEditable=="false")}class Dp extends du{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get estimatedHeight(){return this.height}}function qy(t){let e=t.observer.selectionRange,n=e.focusNode&&Jy(e.focusNode,e.focusOffset,0);if(!n)return null;let r=t.docView.nearest(n);if(!r)return null;if(r instanceof Ue){let i=n;for(;i.parentNode!=r.dom;)i=i.parentNode;let s=i.previousSibling;for(;s&&!de.get(s);)s=s.previousSibling;let l=s?de.get(s).posAtEnd:r.posAtStart;return{from:l,to:l,node:i,text:n}}else{for(;;){let{parent:s}=r;if(!s)return null;if(s instanceof Ue)break;r=s}let i=r.posAtStart;return{from:i,to:i+r.length,node:r.dom,text:n}}}function Jx(t,e){let n=qy(t);if(!n)return he.none;let{from:r,to:i,node:s,text:l}=n,o=e.mapPos(r,1),u=Math.max(o,e.mapPos(i,-1)),{state:a}=t,f=s.nodeType==3?s.nodeValue:new Qy([],a).readRange(s.firstChild,null).text;if(u-o<f.length)if(a.doc.sliceString(o,Math.min(a.doc.length,o+f.length),Dn)==f)u=o+f.length;else if(a.doc.sliceString(Math.max(0,u-f.length),u,Dn)==f)o=u-f.length;else return he.none;else if(a.doc.sliceString(o,u,Dn)!=f)return he.none;let c=de.get(s);return c instanceof by?c=c.widget.topView:c&&(c.parent=null),he.set(he.replace({widget:new Yx(s,l,c),inclusive:!0}).range(o,u))}class Yx extends du{constructor(e,n,r){super(),this.top=e,this.text=n,this.topView=r}eq(e){return this.top==e.top&&this.text==e.text}toDOM(){return this.top}ignoreEvent(){return!1}get customView(){return by}}function Jy(t,e,n){for(;;){if(t.nodeType==3)return t;if(t.nodeType==1&&e>0&&n<=0)t=t.childNodes[e-1],e=go(t);else if(t.nodeType==1&&e<t.childNodes.length&&n>=0)t=t.childNodes[e],e=0;else return null}}function Xx(t,e){return t.nodeType!=1?0:(e&&t.childNodes[e-1].contentEditable=="false"?1:0)|(e<t.childNodes.length&&t.childNodes[e].contentEditable=="false"?2:0)}class Zx{constructor(){this.changes=[]}compareRange(e,n){jf(e,n,this.changes)}comparePoint(e,n){jf(e,n,this.changes)}}function e2(t,e,n){let r=new Zx;return X.compare(t,e,n,r),r.changes}function t2(t,e){for(let n=t;n&&n!=e;n=n.assignedSlot||n.parentNode)if(n.nodeType==1&&n.contentEditable=="false")return!0;return!1}function n2(t,e,n=1){let r=t.charCategorizer(e),i=t.doc.lineAt(e),s=e-i.from;if(i.length==0)return E.cursor(e);s==0?n=1:s==i.length&&(n=-1);let l=s,o=s;n<0?l=at(i.text,s,!1):o=at(i.text,s);let u=r(i.text.slice(l,o));for(;l>0;){let a=at(i.text,l,!1);if(r(i.text.slice(a,l))!=u)break;l=a}for(;o<i.length;){let a=at(i.text,o);if(r(i.text.slice(o,a))!=u)break;o=a}return E.range(l+i.from,o+i.from)}function r2(t,e){return e.left>t?e.left-t:Math.max(0,t-e.right)}function i2(t,e){return e.top>t?e.top-t:Math.max(0,t-e.bottom)}function oa(t,e){return t.top<e.bottom-1&&t.bottom>e.top+1}function Tp(t,e){return e<t.top?{top:e,left:t.left,right:t.right,bottom:t.bottom}:t}function Rp(t,e){return e>t.bottom?{top:t.top,left:t.left,right:t.right,bottom:e}:t}function Kf(t,e,n){let r,i,s,l,o,u,a,f;for(let d=t.firstChild;d;d=d.nextSibling){let p=Ps(d);for(let v=0;v<p.length;v++){let S=p[v];i&&oa(i,S)&&(S=Tp(Rp(S,i.bottom),i.top));let m=r2(e,S),g=i2(n,S);if(m==0&&g==0)return d.nodeType==3?Np(d,e,n):Kf(d,e,n);(!r||l>g||l==g&&s>m)&&(r=d,i=S,s=m,l=g),m==0?n>S.bottom&&(!a||a.bottom<S.bottom)?(o=d,a=S):n<S.top&&(!f||f.top>S.top)&&(u=d,f=S):a&&oa(a,S)?a=Rp(a,S.bottom):f&&oa(f,S)&&(f=Tp(f,S.top))}}if(a&&a.bottom>=n?(r=o,i=a):f&&f.top<=n&&(r=u,i=f),!r)return{node:t,offset:0};let c=Math.max(i.left,Math.min(i.right,e));if(r.nodeType==3)return Np(r,c,n);if(!s&&r.contentEditable=="true")return Kf(r,c,n);let h=Array.prototype.indexOf.call(t.childNodes,r)+(e>=(i.left+i.right)/2?1:0);return{node:t,offset:h}}function Np(t,e,n){let r=t.nodeValue.length,i=-1,s=1e9,l=0;for(let o=0;o<r;o++){let u=Os(t,o,o+1).getClientRects();for(let a=0;a<u.length;a++){let f=u[a];if(f.top==f.bottom)continue;l||(l=e-f.left);let c=(f.top>n?f.top-n:n-f.bottom)-1;if(f.left-1<=e&&f.right+1>=e&&c<s){let h=e>=(f.left+f.right)/2,d=h;if((L.chrome||L.gecko)&&Os(t,o).getBoundingClientRect().left==f.right&&(d=!h),c<=0)return{node:t,offset:o+(d?1:0)};i=o+(d?1:0),s=c}}}return{node:t,offset:i>-1?i:l>0?t.nodeValue.length:0}}function Yy(t,{x:e,y:n},r,i=-1){var s;let l=t.contentDOM.getBoundingClientRect(),o=l.top+t.viewState.paddingTop,u,{docHeight:a}=t.viewState,f=n-o;if(f<0)return 0;if(f>a)return t.state.doc.length;for(let m=t.defaultLineHeight/2,g=!1;u=t.elementAtHeight(f),u.type!=Z.Text;)for(;f=i>0?u.bottom+m:u.top-m,!(f>=0&&f<=a);){if(g)return r?null:0;g=!0,i=-i}n=o+f;let c=u.from;if(c<t.viewport.from)return t.viewport.from==0?0:r?null:Lp(t,l,u,e,n);if(c>t.viewport.to)return t.viewport.to==t.state.doc.length?t.state.doc.length:r?null:Lp(t,l,u,e,n);let h=t.dom.ownerDocument,d=t.root.elementFromPoint?t.root:h,p=d.elementFromPoint(e,n);p&&!t.contentDOM.contains(p)&&(p=null),p||(e=Math.max(l.left+1,Math.min(l.right-1,e)),p=d.elementFromPoint(e,n),p&&!t.contentDOM.contains(p)&&(p=null));let v,S=-1;if(p&&((s=t.docView.nearest(p))===null||s===void 0?void 0:s.isEditable)!=!1){if(h.caretPositionFromPoint){let m=h.caretPositionFromPoint(e,n);m&&({offsetNode:v,offset:S}=m)}else if(h.caretRangeFromPoint){let m=h.caretRangeFromPoint(e,n);m&&({startContainer:v,startOffset:S}=m,L.safari&&s2(v,S,e)&&(v=void 0))}}if(!v||!t.docView.dom.contains(v)){let m=Ue.find(t.docView,c);if(!m)return f>u.top+u.height/2?u.to:u.from;({node:v,offset:S}=Kf(m.dom,e,n))}return t.docView.posFromDOM(v,S)}function Lp(t,e,n,r,i){let s=Math.round((r-e.left)*t.defaultCharacterWidth);t.lineWrapping&&n.height>t.defaultLineHeight*1.5&&(s+=Math.floor((i-n.top)/t.defaultLineHeight)*t.viewState.heightOracle.lineLength);let l=t.state.sliceDoc(n.from,n.to);return n.from+Ex(l,s,t.state.tabSize)}function s2(t,e,n){let r;if(t.nodeType!=3||e!=(r=t.nodeValue.length))return!1;for(let i=t.nextSibling;i;i=i.nextSibling)if(i.nodeType!=1||i.nodeName!="BR")return!1;return Os(t,r-1,r).getBoundingClientRect().left>n}function l2(t,e,n,r){let i=t.state.doc.lineAt(e.head),s=!r||!t.lineWrapping?null:t.coordsAtPos(e.assoc<0&&e.head>i.from?e.head-1:e.head);if(s){let u=t.dom.getBoundingClientRect(),a=t.textDirectionAt(i.from),f=t.posAtCoords({x:n==(a==ve.LTR)?u.right-1:u.left+1,y:(s.top+s.bottom)/2});if(f!=null)return E.cursor(f,n?-1:1)}let l=Ue.find(t.docView,e.head),o=l?n?l.posAtEnd:l.posAtStart:n?i.to:i.from;return E.cursor(o,n?-1:1)}function Bp(t,e,n,r){let i=t.state.doc.lineAt(e.head),s=t.bidiSpans(i),l=t.textDirectionAt(i.from);for(let o=e,u=null;;){let a=Qx(i,s,l,o,n),f=Gy;if(!a){if(i.number==(n?t.state.doc.lines:1))return o;f=`
`,i=t.state.doc.line(i.number+(n?1:-1)),s=t.bidiSpans(i),a=E.cursor(n?i.from:i.to)}if(u){if(!u(f))return o}else{if(!r)return a;u=r(f)}o=a}}function o2(t,e,n){let r=t.state.charCategorizer(e),i=r(n);return s=>{let l=r(s);return i==Nt.Space&&(i=l),i==l}}function u2(t,e,n,r){let i=e.head,s=n?1:-1;if(i==(n?t.state.doc.length:0))return E.cursor(i,e.assoc);let l=e.goalColumn,o,u=t.contentDOM.getBoundingClientRect(),a=t.coordsAtPos(i),f=t.documentTop;if(a)l==null&&(l=a.left-u.left),o=s<0?a.top:a.bottom;else{let d=t.viewState.lineBlockAt(i);l==null&&(l=Math.min(u.right-u.left,t.defaultCharacterWidth*(i-d.from))),o=(s<0?d.top:d.bottom)+f}let c=u.left+l,h=r!=null?r:t.defaultLineHeight>>1;for(let d=0;;d+=10){let p=o+(h+d)*s,v=Yy(t,{x:c,y:p},!1,s);if(p<u.top||p>u.bottom||(s<0?v<i:v>i))return E.cursor(v,e.assoc,void 0,l)}}function ua(t,e,n){let r=t.state.facet(Wy).map(i=>i(t));for(;;){let i=!1;for(let s of r)s.between(n.from-1,n.from+1,(l,o,u)=>{n.from>l&&n.from<o&&(n=e.from>n.from?E.cursor(l,1):E.cursor(o,-1),i=!0)});if(!i)return n}}class a2{constructor(e){this.lastKeyCode=0,this.lastKeyTime=0,this.pendingIOSKey=void 0,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastEscPress=0,this.lastContextMenu=0,this.scrollHandlers=[],this.registeredEvents=[],this.customHandlers=[],this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.rapidCompositionStart=!1,this.mouseSelection=null;for(let n in Oe){let r=Oe[n];e.contentDOM.addEventListener(n,i=>{!Ip(e,i)||this.ignoreDuringComposition(i)||n=="keydown"&&this.keydown(e,i)||(this.mustFlushObserver(i)&&e.observer.forceFlush(),this.runCustomHandlers(n,e,i)?i.preventDefault():r(e,i))}),this.registeredEvents.push(n)}this.notifiedFocused=e.hasFocus,L.safari&&e.contentDOM.addEventListener("input",()=>null)}setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}ensureHandlers(e,n){var r;let i;for(let s of n)if(i=(r=s.update(e).spec)===null||r===void 0?void 0:r.domEventHandlers){this.customHandlers.push({plugin:s.value,handlers:i});for(let l in i)this.registeredEvents.indexOf(l)<0&&l!="scroll"&&(this.registeredEvents.push(l),e.contentDOM.addEventListener(l,o=>{!Ip(e,o)||this.runCustomHandlers(l,e,o)&&o.preventDefault()}))}}runCustomHandlers(e,n,r){for(let i of this.customHandlers){let s=i.handlers[e];if(s)try{if(s.call(i.plugin,r,n)||r.defaultPrevented)return!0}catch(l){$n(n.state,l)}}return!1}runScrollHandlers(e,n){for(let r of this.customHandlers){let i=r.handlers.scroll;if(i)try{i.call(r.plugin,n,e)}catch(s){$n(e.state,s)}}}keydown(e,n){if(this.lastKeyCode=n.keyCode,this.lastKeyTime=Date.now(),n.keyCode==9&&Date.now()<this.lastEscPress+2e3)return!0;if(L.android&&L.chrome&&!n.synthetic&&(n.keyCode==13||n.keyCode==8))return e.observer.delayAndroidKey(n.key,n.keyCode),!0;let r;return L.ios&&(r=Xy.find(i=>i.keyCode==n.keyCode))&&!(n.ctrlKey||n.altKey||n.metaKey)&&!n.synthetic?(this.pendingIOSKey=r,setTimeout(()=>this.flushIOSKey(e),250),!0):!1}flushIOSKey(e){let n=this.pendingIOSKey;return n?(this.pendingIOSKey=void 0,Zi(e.contentDOM,n.key,n.keyCode)):!1}ignoreDuringComposition(e){return/^key/.test(e.type)?this.composing>0?!0:L.safari&&Date.now()-this.compositionEndedAt<100?(this.compositionEndedAt=0,!0):!1:!1}mustFlushObserver(e){return e.type=="keydown"&&e.keyCode!=229||e.type=="compositionend"&&!L.ios}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.mouseSelection&&this.mouseSelection.update(e),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}const Xy=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],Zy=[16,17,18,20,91,92,224,225];class f2{constructor(e,n,r,i){this.view=e,this.style=r,this.mustSelect=i,this.lastEvent=n;let s=e.contentDOM.ownerDocument;s.addEventListener("mousemove",this.move=this.move.bind(this)),s.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=n.shiftKey,this.multiple=e.state.facet(H.allowMultipleSelections)&&c2(e,n),this.dragMove=h2(e,n),this.dragging=d2(e,n)&&wh(n)==1?null:!1,this.dragging===!1&&(n.preventDefault(),this.select(n))}move(e){if(e.buttons==0)return this.destroy();this.dragging===!1&&this.select(this.lastEvent=e)}up(e){this.dragging==null&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=null}select(e){let n=this.style.get(e,this.extend,this.multiple);(this.mustSelect||!n.eq(this.view.state.selection)||n.main.assoc!=this.view.state.selection.main.assoc)&&this.view.dispatch({selection:n,userEvent:"select.pointer",scrollIntoView:!0}),this.mustSelect=!1}update(e){e.docChanged&&this.dragging&&(this.dragging=this.dragging.map(e.changes)),this.style.update(e)&&setTimeout(()=>this.select(this.lastEvent),20)}}function c2(t,e){let n=t.state.facet(By);return n.length?n[0](e):L.mac?e.metaKey:e.ctrlKey}function h2(t,e){let n=t.state.facet(Iy);return n.length?n[0](e):L.mac?!e.altKey:!e.ctrlKey}function d2(t,e){let{main:n}=t.state.selection;if(n.empty)return!1;let r=po(t.root);if(r.rangeCount==0)return!0;let i=r.getRangeAt(0).getClientRects();for(let s=0;s<i.length;s++){let l=i[s];if(l.left<=e.clientX&&l.right>=e.clientX&&l.top<=e.clientY&&l.bottom>=e.clientY)return!0}return!1}function Ip(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target,r;n!=t.contentDOM;n=n.parentNode)if(!n||n.nodeType==11||(r=de.get(n))&&r.ignoreEvent(e))return!1;return!0}const Oe=Object.create(null),e1=L.ie&&L.ie_version<15||L.ios&&L.webkit_version<604;function p2(t){let e=t.dom.parentNode;if(!e)return;let n=e.appendChild(document.createElement("textarea"));n.style.cssText="position: fixed; left: -10000px; top: 10px",n.focus(),setTimeout(()=>{t.focus(),n.remove(),t1(t,n.value)},50)}function t1(t,e){let{state:n}=t,r,i=1,s=n.toText(e),l=s.lines==n.selection.ranges.length;if(Gf!=null&&n.selection.ranges.every(u=>u.empty)&&Gf==s.toString()){let u=-1;r=n.changeByRange(a=>{let f=n.doc.lineAt(a.from);if(f.from==u)return{range:a};u=f.from;let c=n.toText((l?s.line(i++).text:e)+n.lineBreak);return{changes:{from:f.from,insert:c},range:E.cursor(a.from+c.length)}})}else l?r=n.changeByRange(u=>{let a=s.line(i++);return{changes:{from:u.from,to:u.to,insert:a.text},range:E.cursor(u.from+a.length)}}):r=n.replaceSelection(s);t.dispatch(r,{userEvent:"input.paste",scrollIntoView:!0})}Oe.keydown=(t,e)=>{t.inputState.setSelectionOrigin("select"),e.keyCode==27?t.inputState.lastEscPress=Date.now():Zy.indexOf(e.keyCode)<0&&(t.inputState.lastEscPress=0)};let n1=0;Oe.touchstart=(t,e)=>{n1=Date.now(),t.inputState.setSelectionOrigin("select.pointer")};Oe.touchmove=t=>{t.inputState.setSelectionOrigin("select.pointer")};Oe.mousedown=(t,e)=>{if(t.observer.flush(),n1>Date.now()-2e3&&wh(e)==1)return;let n=null;for(let r of t.state.facet(zy))if(n=r(t,e),n)break;if(!n&&e.button==0&&(n=y2(t,e)),n){let r=t.root.activeElement!=t.contentDOM;r&&t.observer.ignore(()=>xy(t.contentDOM)),t.inputState.startMouseSelection(new f2(t,e,n,r))}};function zp(t,e,n,r){if(r==1)return E.cursor(e,n);if(r==2)return n2(t.state,e,n);{let i=Ue.find(t.docView,e),s=t.state.doc.lineAt(i?i.posAtEnd:e),l=i?i.posAtStart:s.from,o=i?i.posAtEnd:s.to;return o<t.state.doc.length&&o==s.to&&o++,E.range(l,o)}}let r1=(t,e)=>t>=e.top&&t<=e.bottom,_p=(t,e,n)=>r1(e,n)&&t>=n.left&&t<=n.right;function m2(t,e,n,r){let i=Ue.find(t.docView,e);if(!i)return 1;let s=e-i.posAtStart;if(s==0)return 1;if(s==i.length)return-1;let l=i.coordsAt(s,-1);if(l&&_p(n,r,l))return-1;let o=i.coordsAt(s,1);return o&&_p(n,r,o)?1:l&&r1(r,l)?-1:1}function Fp(t,e){let n=t.posAtCoords({x:e.clientX,y:e.clientY},!1);return{pos:n,bias:m2(t,n,e.clientX,e.clientY)}}const g2=L.ie&&L.ie_version<=11;let $p=null,Vp=0,jp=0;function wh(t){if(!g2)return t.detail;let e=$p,n=jp;return $p=t,jp=Date.now(),Vp=!e||n>Date.now()-400&&Math.abs(e.clientX-t.clientX)<2&&Math.abs(e.clientY-t.clientY)<2?(Vp+1)%3:1}function y2(t,e){let n=Fp(t,e),r=wh(e),i=t.state.selection,s=n,l=e;return{update(o){o.docChanged&&(n&&(n.pos=o.changes.mapPos(n.pos)),i=i.map(o.changes),l=null)},get(o,u,a){let f;if(l&&o.clientX==l.clientX&&o.clientY==l.clientY?f=s:(f=s=Fp(t,o),l=o),!f||!n)return i;let c=zp(t,f.pos,f.bias,r);if(n.pos!=f.pos&&!u){let h=zp(t,n.pos,n.bias,r),d=Math.min(h.from,c.from),p=Math.max(h.to,c.to);c=d<c.from?E.range(d,p):E.range(p,d)}return u?i.replaceRange(i.main.extend(c.from,c.to)):a?i.addRange(c):E.create([c])}}}Oe.dragstart=(t,e)=>{let{selection:{main:n}}=t.state,{mouseSelection:r}=t.inputState;r&&(r.dragging=n),e.dataTransfer&&(e.dataTransfer.setData("Text",t.state.sliceDoc(n.from,n.to)),e.dataTransfer.effectAllowed="copyMove")};function Wp(t,e,n,r){if(!n)return;let i=t.posAtCoords({x:e.clientX,y:e.clientY},!1);e.preventDefault();let{mouseSelection:s}=t.inputState,l=r&&s&&s.dragging&&s.dragMove?{from:s.dragging.from,to:s.dragging.to}:null,o={from:i,insert:n},u=t.state.changes(l?[l,o]:o);t.focus(),t.dispatch({changes:u,selection:{anchor:u.mapPos(i,-1),head:u.mapPos(i,1)},userEvent:l?"move.drop":"input.drop"})}Oe.drop=(t,e)=>{if(!e.dataTransfer)return;if(t.state.readOnly)return e.preventDefault();let n=e.dataTransfer.files;if(n&&n.length){e.preventDefault();let r=Array(n.length),i=0,s=()=>{++i==n.length&&Wp(t,e,r.filter(l=>l!=null).join(t.state.lineBreak),!1)};for(let l=0;l<n.length;l++){let o=new FileReader;o.onerror=s,o.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(o.result)||(r[l]=o.result),s()},o.readAsText(n[l])}}else Wp(t,e,e.dataTransfer.getData("Text"),!0)};Oe.paste=(t,e)=>{if(t.state.readOnly)return e.preventDefault();t.observer.flush();let n=e1?null:e.clipboardData;n?(t1(t,n.getData("text/plain")),e.preventDefault()):p2(t)};function v2(t,e){let n=t.dom.parentNode;if(!n)return;let r=n.appendChild(document.createElement("textarea"));r.style.cssText="position: fixed; left: -10000px; top: 10px",r.value=e,r.focus(),r.selectionEnd=e.length,r.selectionStart=0,setTimeout(()=>{r.remove(),t.focus()},50)}function w2(t){let e=[],n=[],r=!1;for(let i of t.selection.ranges)i.empty||(e.push(t.sliceDoc(i.from,i.to)),n.push(i));if(!e.length){let i=-1;for(let{from:s}of t.selection.ranges){let l=t.doc.lineAt(s);l.number>i&&(e.push(l.text),n.push({from:l.from,to:Math.min(t.doc.length,l.to+1)})),i=l.number}r=!0}return{text:e.join(t.lineBreak),ranges:n,linewise:r}}let Gf=null;Oe.copy=Oe.cut=(t,e)=>{let{text:n,ranges:r,linewise:i}=w2(t.state);if(!n&&!i)return;Gf=i?n:null;let s=e1?null:e.clipboardData;s?(e.preventDefault(),s.clearData(),s.setData("text/plain",n)):v2(t,n),e.type=="cut"&&!t.state.readOnly&&t.dispatch({changes:r,scrollIntoView:!0,userEvent:"delete.cut"})};Oe.focus=Oe.blur=t=>{setTimeout(()=>{t.hasFocus!=t.inputState.notifiedFocused&&t.update([])},10)};function i1(t,e){if(t.docView.compositionDeco.size){t.inputState.rapidCompositionStart=e;try{t.update([])}finally{t.inputState.rapidCompositionStart=!1}}}Oe.compositionstart=Oe.compositionupdate=t=>{t.inputState.compositionFirstChange==null&&(t.inputState.compositionFirstChange=!0),t.inputState.composing<0&&(t.inputState.composing=0,t.docView.compositionDeco.size&&(t.observer.flush(),i1(t,!0)))};Oe.compositionend=t=>{t.inputState.composing=-1,t.inputState.compositionEndedAt=Date.now(),t.inputState.compositionFirstChange=null,setTimeout(()=>{t.inputState.composing<0&&i1(t,!1)},50)};Oe.contextmenu=t=>{t.inputState.lastContextMenu=Date.now()};Oe.beforeinput=(t,e)=>{var n;let r;if(L.chrome&&L.android&&(r=Xy.find(i=>i.inputType==e.inputType))&&(t.observer.delayAndroidKey(r.key,r.keyCode),r.key=="Backspace"||r.key=="Delete")){let i=((n=window.visualViewport)===null||n===void 0?void 0:n.height)||0;setTimeout(()=>{var s;(((s=window.visualViewport)===null||s===void 0?void 0:s.height)||0)>i+10&&t.hasFocus&&(t.contentDOM.blur(),t.focus())},100)}};const Hp=["pre-wrap","normal","pre-line","break-spaces"];class S2{constructor(){this.doc=Q.empty,this.lineWrapping=!1,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.lineLength=30,this.heightChanged=!1}heightForGap(e,n){let r=this.doc.lineAt(n).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(r+=Math.ceil((n-e-r*this.lineLength*.5)/this.lineLength)),this.lineHeight*r}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return Hp.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let n=!1;for(let r=0;r<e.length;r++){let i=e[r];i<0?r++:this.heightSamples[Math.floor(i*10)]||(n=!0,this.heightSamples[Math.floor(i*10)]=!0)}return n}refresh(e,n,r,i,s){let l=Hp.indexOf(e)>-1,o=Math.round(n)!=Math.round(this.lineHeight)||this.lineWrapping!=l;if(this.lineWrapping=l,this.lineHeight=n,this.charWidth=r,this.lineLength=i,o){this.heightSamples={};for(let u=0;u<s.length;u++){let a=s[u];a<0?u++:this.heightSamples[Math.floor(a*10)]=!0}}return o}}class k2{constructor(e,n){this.from=e,this.heights=n,this.index=0}get more(){return this.index<this.heights.length}}class Tn{constructor(e,n,r,i,s){this.from=e,this.length=n,this.top=r,this.height=i,this.type=s}get to(){return this.from+this.length}get bottom(){return this.top+this.height}join(e){let n=(Array.isArray(this.type)?this.type:[this]).concat(Array.isArray(e.type)?e.type:[e]);return new Tn(this.from,this.length+e.length,this.top,this.height+e.height,n)}}var ne=function(t){return t[t.ByPos=0]="ByPos",t[t.ByHeight=1]="ByHeight",t[t.ByPosNoHeight=2]="ByPosNoHeight",t}(ne||(ne={}));const Dl=.001;class rt{constructor(e,n,r=2){this.length=e,this.height=n,this.flags=r}get outdated(){return(this.flags&2)>0}set outdated(e){this.flags=(e?2:0)|this.flags&-3}setHeight(e,n){this.height!=n&&(Math.abs(this.height-n)>Dl&&(e.heightChanged=!0),this.height=n)}replace(e,n,r){return rt.of(r)}decomposeLeft(e,n){n.push(this)}decomposeRight(e,n){n.push(this)}applyChanges(e,n,r,i){let s=this;for(let l=i.length-1;l>=0;l--){let{fromA:o,toA:u,fromB:a,toB:f}=i[l],c=s.lineAt(o,ne.ByPosNoHeight,n,0,0),h=c.to>=u?c:s.lineAt(u,ne.ByPosNoHeight,n,0,0);for(f+=h.to-u,u=h.to;l>0&&c.from<=i[l-1].toA;)o=i[l-1].fromA,a=i[l-1].fromB,l--,o<c.from&&(c=s.lineAt(o,ne.ByPosNoHeight,n,0,0));a+=c.from-o,o=c.from;let d=Sh.build(r,e,a,f);s=s.replace(o,u,d)}return s.updateHeight(r,0)}static empty(){return new ot(0,0)}static of(e){if(e.length==1)return e[0];let n=0,r=e.length,i=0,s=0;for(;;)if(n==r)if(i>s*2){let o=e[n-1];o.break?e.splice(--n,1,o.left,null,o.right):e.splice(--n,1,o.left,o.right),r+=1+o.break,i-=o.size}else if(s>i*2){let o=e[r];o.break?e.splice(r,1,o.left,null,o.right):e.splice(r,1,o.left,o.right),r+=2+o.break,s-=o.size}else break;else if(i<s){let o=e[n++];o&&(i+=o.size)}else{let o=e[--r];o&&(s+=o.size)}let l=0;return e[n-1]==null?(l=1,n--):e[n]==null&&(l=1,r++),new x2(rt.of(e.slice(0,n)),l,rt.of(e.slice(r)))}}rt.prototype.size=1;class s1 extends rt{constructor(e,n,r){super(e,n),this.type=r}blockAt(e,n,r,i){return new Tn(i,this.length,r,this.height,this.type)}lineAt(e,n,r,i,s){return this.blockAt(0,r,i,s)}forEachLine(e,n,r,i,s,l){e<=s+this.length&&n>=s&&l(this.blockAt(0,r,i,s))}updateHeight(e,n=0,r=!1,i){return i&&i.from<=n&&i.more&&this.setHeight(e,i.heights[i.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class ot extends s1{constructor(e,n){super(e,n,Z.Text),this.collapsed=0,this.widgetHeight=0}replace(e,n,r){let i=r[0];return r.length==1&&(i instanceof ot||i instanceof De&&i.flags&4)&&Math.abs(this.length-i.length)<10?(i instanceof De?i=new ot(i.length,this.height):i.height=this.height,this.outdated||(i.outdated=!1),i):rt.of(r)}updateHeight(e,n=0,r=!1,i){return i&&i.from<=n&&i.more?this.setHeight(e,i.heights[i.index++]):(r||this.outdated)&&this.setHeight(e,Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class De extends rt{constructor(e){super(e,0)}lines(e,n){let r=e.lineAt(n).number,i=e.lineAt(n+this.length).number;return{firstLine:r,lastLine:i,lineHeight:this.height/(i-r+1)}}blockAt(e,n,r,i){let{firstLine:s,lastLine:l,lineHeight:o}=this.lines(n,i),u=Math.max(0,Math.min(l-s,Math.floor((e-r)/o))),{from:a,length:f}=n.line(s+u);return new Tn(a,f,r+o*u,o,Z.Text)}lineAt(e,n,r,i,s){if(n==ne.ByHeight)return this.blockAt(e,r,i,s);if(n==ne.ByPosNoHeight){let{from:c,to:h}=r.lineAt(e);return new Tn(c,h-c,0,0,Z.Text)}let{firstLine:l,lineHeight:o}=this.lines(r,s),{from:u,length:a,number:f}=r.lineAt(e);return new Tn(u,a,i+o*(f-l),o,Z.Text)}forEachLine(e,n,r,i,s,l){let{firstLine:o,lineHeight:u}=this.lines(r,s);for(let a=Math.max(e,s),f=Math.min(s+this.length,n);a<=f;){let c=r.lineAt(a);a==e&&(i+=u*(c.number-o)),l(new Tn(c.from,c.length,i,u,Z.Text)),i+=u,a=c.to+1}}replace(e,n,r){let i=this.length-n;if(i>0){let s=r[r.length-1];s instanceof De?r[r.length-1]=new De(s.length+i):r.push(null,new De(i-1))}if(e>0){let s=r[0];s instanceof De?r[0]=new De(e+s.length):r.unshift(new De(e-1),null)}return rt.of(r)}decomposeLeft(e,n){n.push(new De(e-1),null)}decomposeRight(e,n){n.push(null,new De(this.length-e-1))}updateHeight(e,n=0,r=!1,i){let s=n+this.length;if(i&&i.from<=n+this.length&&i.more){let l=[],o=Math.max(n,i.from),u=-1,a=e.heightChanged;for(i.from>n&&l.push(new De(i.from-n-1).updateHeight(e,n));o<=s&&i.more;){let c=e.doc.lineAt(o).length;l.length&&l.push(null);let h=i.heights[i.index++];u==-1?u=h:Math.abs(h-u)>=Dl&&(u=-2);let d=new ot(c,h);d.outdated=!1,l.push(d),o+=c+1}o<=s&&l.push(null,new De(s-o).updateHeight(e,o));let f=rt.of(l);return e.heightChanged=a||u<0||Math.abs(f.height-this.height)>=Dl||Math.abs(u-this.lines(e.doc,n).lineHeight)>=Dl,f}else(r||this.outdated)&&(this.setHeight(e,e.heightForGap(n,n+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class x2 extends rt{constructor(e,n,r){super(e.length+n+r.length,e.height+r.height,n|(e.outdated||r.outdated?2:0)),this.left=e,this.right=r,this.size=e.size+r.size}get break(){return this.flags&1}blockAt(e,n,r,i){let s=r+this.left.height;return e<s?this.left.blockAt(e,n,r,i):this.right.blockAt(e,n,s,i+this.left.length+this.break)}lineAt(e,n,r,i,s){let l=i+this.left.height,o=s+this.left.length+this.break,u=n==ne.ByHeight?e<l:e<o,a=u?this.left.lineAt(e,n,r,i,s):this.right.lineAt(e,n,r,l,o);if(this.break||(u?a.to<o:a.from>o))return a;let f=n==ne.ByPosNoHeight?ne.ByPosNoHeight:ne.ByPos;return u?a.join(this.right.lineAt(o,f,r,l,o)):this.left.lineAt(o,f,r,i,s).join(a)}forEachLine(e,n,r,i,s,l){let o=i+this.left.height,u=s+this.left.length+this.break;if(this.break)e<u&&this.left.forEachLine(e,n,r,i,s,l),n>=u&&this.right.forEachLine(e,n,r,o,u,l);else{let a=this.lineAt(u,ne.ByPos,r,i,s);e<a.from&&this.left.forEachLine(e,a.from-1,r,i,s,l),a.to>=e&&a.from<=n&&l(a),n>a.to&&this.right.forEachLine(a.to+1,n,r,o,u,l)}}replace(e,n,r){let i=this.left.length+this.break;if(n<i)return this.balanced(this.left.replace(e,n,r),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-i,n-i,r));let s=[];e>0&&this.decomposeLeft(e,s);let l=s.length;for(let o of r)s.push(o);if(e>0&&Up(s,l-1),n<this.length){let o=s.length;this.decomposeRight(n,s),Up(s,o)}return rt.of(s)}decomposeLeft(e,n){let r=this.left.length;if(e<=r)return this.left.decomposeLeft(e,n);n.push(this.left),this.break&&(r++,e>=r&&n.push(null)),e>r&&this.right.decomposeLeft(e-r,n)}decomposeRight(e,n){let r=this.left.length,i=r+this.break;if(e>=i)return this.right.decomposeRight(e-i,n);e<r&&this.left.decomposeRight(e,n),this.break&&e<i&&n.push(null),n.push(this.right)}balanced(e,n){return e.size>2*n.size||n.size>2*e.size?rt.of(this.break?[e,null,n]:[e,n]):(this.left=e,this.right=n,this.height=e.height+n.height,this.outdated=e.outdated||n.outdated,this.size=e.size+n.size,this.length=e.length+this.break+n.length,this)}updateHeight(e,n=0,r=!1,i){let{left:s,right:l}=this,o=n+s.length+this.break,u=null;return i&&i.from<=n+s.length&&i.more?u=s=s.updateHeight(e,n,r,i):s.updateHeight(e,n,r),i&&i.from<=o+l.length&&i.more?u=l=l.updateHeight(e,o,r,i):l.updateHeight(e,o,r),u?this.balanced(s,l):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function Up(t,e){let n,r;t[e]==null&&(n=t[e-1])instanceof De&&(r=t[e+1])instanceof De&&t.splice(e-1,3,new De(n.length+1+r.length))}const C2=5;class Sh{constructor(e,n){this.pos=e,this.oracle=n,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,n){if(this.lineStart>-1){let r=Math.min(n,this.lineEnd),i=this.nodes[this.nodes.length-1];i instanceof ot?i.length+=r-this.pos:(r>this.pos||!this.isCovered)&&this.nodes.push(new ot(r-this.pos,-1)),this.writtenTo=r,n>r&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=n}point(e,n,r){if(e<n||r.heightRelevant){let i=r.widget?r.widget.estimatedHeight:0;i<0&&(i=this.oracle.lineHeight);let s=n-e;r.block?this.addBlock(new s1(s,i,r.type)):(s||i>=C2)&&this.addLineDeco(i,s)}else n>e&&this.span(e,n);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:n}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=n,this.writtenTo<e&&((this.writtenTo<e-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new ot(this.pos-e,-1)),this.writtenTo=this.pos}blankContent(e,n){let r=new De(n-e);return this.oracle.doc.lineAt(e).to==n&&(r.flags|=4),r}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof ot)return e;let n=new ot(0,-1);return this.nodes.push(n),n}addBlock(e){this.enterLine(),e.type==Z.WidgetAfter&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,e.type!=Z.WidgetBefore&&(this.covering=e)}addLineDeco(e,n){let r=this.ensureLine();r.length+=n,r.collapsed+=n,r.widgetHeight=Math.max(r.widgetHeight,e),this.writtenTo=this.pos=this.pos+n}finish(e){let n=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(n instanceof ot)&&!this.isCovered?this.nodes.push(new ot(0,-1)):(this.writtenTo<this.pos||n==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let r=e;for(let i of this.nodes)i instanceof ot&&i.updateHeight(this.oracle,r),r+=i?i.length:1;return this.nodes}static build(e,n,r,i){let s=new Sh(r,e);return X.spans(n,r,i,s,0),s.finish(r)}}function A2(t,e,n){let r=new E2;return X.compare(t,e,n,r,0),r.changes}class E2{constructor(){this.changes=[]}compareRange(){}comparePoint(e,n,r,i){(e<n||r&&r.heightRelevant||i&&i.heightRelevant)&&jf(e,n,this.changes,5)}}function P2(t,e){let n=t.getBoundingClientRect(),r=Math.max(0,n.left),i=Math.min(innerWidth,n.right),s=Math.max(0,n.top),l=Math.min(innerHeight,n.bottom),o=t.ownerDocument.body;for(let u=t.parentNode;u&&u!=o;)if(u.nodeType==1){let a=u,f=window.getComputedStyle(a);if((a.scrollHeight>a.clientHeight||a.scrollWidth>a.clientWidth)&&f.overflow!="visible"){let c=a.getBoundingClientRect();r=Math.max(r,c.left),i=Math.min(i,c.right),s=Math.max(s,c.top),l=Math.min(l,c.bottom)}u=f.position=="absolute"||f.position=="fixed"?a.offsetParent:a.parentNode}else if(u.nodeType==11)u=u.host;else break;return{left:r-n.left,right:Math.max(r,i)-n.left,top:s-(n.top+e),bottom:Math.max(s,l)-(n.top+e)}}function O2(t,e){let n=t.getBoundingClientRect();return{left:0,right:n.right-n.left,top:e,bottom:n.bottom-(n.top+e)}}class aa{constructor(e,n,r){this.from=e,this.to=n,this.size=r}static same(e,n){if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],s=n[r];if(i.from!=s.from||i.to!=s.to||i.size!=s.size)return!1}return!0}draw(e){return he.replace({widget:new M2(this.size,e)}).range(this.from,this.to)}}class M2 extends du{constructor(e,n){super(),this.size=e,this.vertical=n}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class Kp{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.heightOracle=new S2,this.scaler=qp,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=ve.RTL,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1,this.stateDeco=e.facet(Ms).filter(n=>typeof n!="function"),this.heightMap=rt.empty().applyChanges(this.stateDeco,Q.empty,this.heightOracle.setDoc(e.doc),[new an(0,0,0,e.doc.length)]),this.viewport=this.getViewport(0,null),this.updateViewportLines(),this.updateForViewport(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=he.set(this.lineGaps.map(n=>n.draw(!1))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:n}=this.state.selection;for(let r=0;r<=1;r++){let i=r?n.head:n.anchor;if(!e.some(({from:s,to:l})=>i>=s&&i<=l)){let{from:s,to:l}=this.lineBlockAt(i);e.push(new ul(s,l))}}this.viewports=e.sort((r,i)=>r.from-i.from),this.scaler=this.heightMap.height<=7e6?qp:new T2(this.heightOracle.doc,this.heightMap,this.viewports)}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.state.doc,0,0,e=>{this.viewportLines.push(this.scaler.scale==1?e:$i(e,this.scaler))})}update(e,n=null){this.state=e.state;let r=this.stateDeco;this.stateDeco=this.state.facet(Ms).filter(a=>typeof a!="function");let i=e.changedRanges,s=an.extendWithRanges(i,A2(r,this.stateDeco,e?e.changes:Ee.empty(this.state.doc.length))),l=this.heightMap.height;this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),s),this.heightMap.height!=l&&(e.flags|=2);let o=s.length?this.mapViewport(this.viewport,e.changes):this.viewport;(n&&(n.range.head<o.from||n.range.head>o.to)||!this.viewportIsAppropriate(o))&&(o=this.getViewport(0,n));let u=!e.changes.empty||e.flags&2||o.from!=this.viewport.from||o.to!=this.viewport.to;this.viewport=o,this.updateForViewport(),u&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(),n&&(this.scrollTarget=n),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&(this.mustEnforceCursorAssoc=!0)}measure(e){let n=e.contentDOM,r=window.getComputedStyle(n),i=this.heightOracle,s=r.whiteSpace;this.defaultTextDirection=r.direction=="rtl"?ve.RTL:ve.LTR;let l=this.heightOracle.mustRefreshForWrapping(s),o=l||this.mustMeasureContent||this.contentDOMHeight!=n.clientHeight,u=0,a=0;if(this.editorWidth!=e.scrollDOM.clientWidth&&(i.lineWrapping&&(o=!0),this.editorWidth=e.scrollDOM.clientWidth,u|=8),o){this.mustMeasureContent=!1,this.contentDOMHeight=n.clientHeight;let S=parseInt(r.paddingTop)||0,m=parseInt(r.paddingBottom)||0;(this.paddingTop!=S||this.paddingBottom!=m)&&(u|=8,this.paddingTop=S,this.paddingBottom=m)}let f=(this.printing?O2:P2)(n,this.paddingTop),c=f.top-this.pixelViewport.top,h=f.bottom-this.pixelViewport.bottom;this.pixelViewport=f;let d=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(d!=this.inView&&(this.inView=d,d&&(o=!0)),!this.inView)return 0;let p=n.clientWidth;if((this.contentDOMWidth!=p||this.editorHeight!=e.scrollDOM.clientHeight)&&(this.contentDOMWidth=p,this.editorHeight=e.scrollDOM.clientHeight,u|=8),o){let S=e.docView.measureVisibleLineHeights(this.viewport);if(i.mustRefreshForHeights(S)&&(l=!0),l||i.lineWrapping&&Math.abs(p-this.contentDOMWidth)>i.charWidth){let{lineHeight:m,charWidth:g}=e.docView.measureTextSize();l=i.refresh(s,m,g,p/g,S),l&&(e.docView.minWidth=0,u|=8)}c>0&&h>0?a=Math.max(c,h):c<0&&h<0&&(a=Math.min(c,h)),i.heightChanged=!1;for(let m of this.viewports){let g=m.from==this.viewport.from?S:e.docView.measureVisibleLineHeights(m);this.heightMap=this.heightMap.updateHeight(i,0,l,new k2(m.from,g))}i.heightChanged&&(u|=2)}let v=!this.viewportIsAppropriate(this.viewport,a)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return v&&(this.viewport=this.getViewport(a,this.scrollTarget)),this.updateForViewport(),(u&2||v)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(l?[]:this.lineGaps)),u|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),u}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,n){let r=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),i=this.heightMap,s=this.state.doc,{visibleTop:l,visibleBottom:o}=this,u=new ul(i.lineAt(l-r*1e3,ne.ByHeight,s,0,0).from,i.lineAt(o+(1-r)*1e3,ne.ByHeight,s,0,0).to);if(n){let{head:a}=n.range;if(a<u.from||a>u.to){let f=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),c=i.lineAt(a,ne.ByPos,s,0,0),h;n.y=="center"?h=(c.top+c.bottom)/2-f/2:n.y=="start"||n.y=="nearest"&&a<u.from?h=c.top:h=c.bottom-f,u=new ul(i.lineAt(h-1e3/2,ne.ByHeight,s,0,0).from,i.lineAt(h+f+1e3/2,ne.ByHeight,s,0,0).to)}}return u}mapViewport(e,n){let r=n.mapPos(e.from,-1),i=n.mapPos(e.to,1);return new ul(this.heightMap.lineAt(r,ne.ByPos,this.state.doc,0,0).from,this.heightMap.lineAt(i,ne.ByPos,this.state.doc,0,0).to)}viewportIsAppropriate({from:e,to:n},r=0){if(!this.inView)return!0;let{top:i}=this.heightMap.lineAt(e,ne.ByPos,this.state.doc,0,0),{bottom:s}=this.heightMap.lineAt(n,ne.ByPos,this.state.doc,0,0),{visibleTop:l,visibleBottom:o}=this;return(e==0||i<=l-Math.max(10,Math.min(-r,250)))&&(n==this.state.doc.length||s>=o+Math.max(10,Math.min(r,250)))&&i>l-2*1e3&&s<o+2*1e3}mapLineGaps(e,n){if(!e.length||n.empty)return e;let r=[];for(let i of e)n.touchesRange(i.from,i.to)||r.push(new aa(n.mapPos(i.from),n.mapPos(i.to),i.size));return r}ensureLineGaps(e){let n=[];if(this.defaultTextDirection!=ve.LTR)return n;for(let r of this.viewportLines){if(r.length<4e3)continue;let i=b2(r.from,r.to,this.stateDeco);if(i.total<4e3)continue;let s,l;if(this.heightOracle.lineWrapping){let a=2e3/this.heightOracle.lineLength*this.heightOracle.lineHeight;s=al(i,(this.visibleTop-r.top-a)/r.height),l=al(i,(this.visibleBottom-r.top+a)/r.height)}else{let a=i.total*this.heightOracle.charWidth,f=2e3*this.heightOracle.charWidth;s=al(i,(this.pixelViewport.left-f)/a),l=al(i,(this.pixelViewport.right+f)/a)}let o=[];s>r.from&&o.push({from:r.from,to:s}),l<r.to&&o.push({from:l,to:r.to});let u=this.state.selection.main;u.from>=r.from&&u.from<=r.to&&Qp(o,u.from-10,u.from+10),!u.empty&&u.to>=r.from&&u.to<=r.to&&Qp(o,u.to-10,u.to+10);for(let{from:a,to:f}of o)f-a>1e3&&n.push(D2(e,c=>c.from>=r.from&&c.to<=r.to&&Math.abs(c.from-a)<1e3&&Math.abs(c.to-f)<1e3)||new aa(a,f,this.gapSize(r,a,f,i)))}return n}gapSize(e,n,r,i){let s=Gp(i,r)-Gp(i,n);return this.heightOracle.lineWrapping?e.height*s:i.total*this.heightOracle.charWidth*s}updateLineGaps(e){aa.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=he.set(e.map(n=>n.draw(this.heightOracle.lineWrapping))))}computeVisibleRanges(){let e=this.stateDeco;this.lineGaps.length&&(e=e.concat(this.lineGapDeco));let n=[];X.spans(e,this.viewport.from,this.viewport.to,{span(i,s){n.push({from:i,to:s})},point(){}},20);let r=n.length!=this.visibleRanges.length||this.visibleRanges.some((i,s)=>i.from!=n[s].from||i.to!=n[s].to);return this.visibleRanges=n,r?4:0}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find(n=>n.from<=e&&n.to>=e)||$i(this.heightMap.lineAt(e,ne.ByPos,this.state.doc,0,0),this.scaler)}lineBlockAtHeight(e){return $i(this.heightMap.lineAt(this.scaler.fromDOM(e),ne.ByHeight,this.state.doc,0,0),this.scaler)}elementAtHeight(e){return $i(this.heightMap.blockAt(this.scaler.fromDOM(e),this.state.doc,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class ul{constructor(e,n){this.from=e,this.to=n}}function b2(t,e,n){let r=[],i=t,s=0;return X.spans(n,t,e,{span(){},point(l,o){l>i&&(r.push({from:i,to:l}),s+=l-i),i=o}},20),i<e&&(r.push({from:i,to:e}),s+=e-i),{total:s,ranges:r}}function al({total:t,ranges:e},n){if(n<=0)return e[0].from;if(n>=1)return e[e.length-1].to;let r=Math.floor(t*n);for(let i=0;;i++){let{from:s,to:l}=e[i],o=l-s;if(r<=o)return s+r;r-=o}}function Gp(t,e){let n=0;for(let{from:r,to:i}of t.ranges){if(e<=i){n+=e-r;break}n+=i-r}return n/t.total}function Qp(t,e,n){for(let r=0;r<t.length;r++){let i=t[r];if(i.from<n&&i.to>e){let s=[];i.from<e&&s.push({from:i.from,to:e}),i.to>n&&s.push({from:n,to:i.to}),t.splice(r,1,...s),r+=s.length-1}}}function D2(t,e){for(let n of t)if(e(n))return n}const qp={toDOM(t){return t},fromDOM(t){return t},scale:1};class T2{constructor(e,n,r){let i=0,s=0,l=0;this.viewports=r.map(({from:o,to:u})=>{let a=n.lineAt(o,ne.ByPos,e,0,0).top,f=n.lineAt(u,ne.ByPos,e,0,0).bottom;return i+=f-a,{from:o,to:u,top:a,bottom:f,domTop:0,domBottom:0}}),this.scale=(7e6-i)/(n.height-i);for(let o of this.viewports)o.domTop=l+(o.top-s)*this.scale,l=o.domBottom=o.domTop+(o.bottom-o.top),s=o.bottom}toDOM(e){for(let n=0,r=0,i=0;;n++){let s=n<this.viewports.length?this.viewports[n]:null;if(!s||e<s.top)return i+(e-r)*this.scale;if(e<=s.bottom)return s.domTop+(e-s.top);r=s.bottom,i=s.domBottom}}fromDOM(e){for(let n=0,r=0,i=0;;n++){let s=n<this.viewports.length?this.viewports[n]:null;if(!s||e<s.domTop)return r+(e-i)/this.scale;if(e<=s.domBottom)return s.top+(e-s.domTop);r=s.bottom,i=s.domBottom}}}function $i(t,e){if(e.scale==1)return t;let n=e.toDOM(t.top),r=e.toDOM(t.bottom);return new Tn(t.from,t.length,n,r-n,Array.isArray(t.type)?t.type.map(i=>$i(i,e)):t.type)}const fl=I.define({combine:t=>t.join(" ")}),Qf=I.define({combine:t=>t.indexOf(!0)>-1}),qf=Kn.newName(),l1=Kn.newName(),o1=Kn.newName(),u1={"&light":"."+l1,"&dark":"."+o1};function Jf(t,e,n){return new Kn(e,{finish(r){return/&/.test(r)?r.replace(/&\w*/,i=>{if(i=="&")return t;if(!n||!n[i])throw new RangeError(`Unsupported selector: ${i}`);return n[i]}):t+" "+r}})}const R2=Jf("."+qf,{"&.cm-editor":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0},".cm-content":{margin:0,flexGrow:2,minHeight:"100%",display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere"},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 4px"},".cm-selectionLayer":{zIndex:-1,contain:"size style"},".cm-selectionBackground":{position:"absolute"},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{zIndex:100,contain:"size style",pointerEvents:"none"},"&.cm-focused .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{visibility:"hidden"},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{visibility:"hidden"},"100%":{}},".cm-cursor, .cm-dropCursor":{position:"absolute",borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#444"},"&.cm-focused .cm-cursor":{display:"block"},"&light .cm-activeLine":{backgroundColor:"#f3f9ff"},"&dark .cm-activeLine":{backgroundColor:"#223039"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{display:"flex",height:"100%",boxSizing:"border-box",left:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},u1),N2={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},fa=L.ie&&L.ie_version<=11;class L2{constructor(e,n,r){this.view=e,this.onChange=n,this.onScrollChanged=r,this.active=!1,this.selectionRange=new Bx,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.scrollTargets=[],this.intersection=null,this.resize=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver(i=>{for(let s of i)this.queue.push(s);(L.ie&&L.ie_version<=11||L.ios&&e.composing)&&i.some(s=>s.type=="childList"&&s.removedNodes.length||s.type=="characterData"&&s.oldValue.length>s.target.nodeValue.length)?this.flushSoon():this.flush()}),fa&&(this.onCharData=i=>{this.queue.push({target:i.target,type:"characterData",oldValue:i.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),window.addEventListener("resize",this.onResize=this.onResize.bind(this)),typeof ResizeObserver=="function"&&(this.resize=new ResizeObserver(()=>{this.view.docView.lastUpdate<Date.now()-75&&this.onResize()}),this.resize.observe(e.scrollDOM)),window.addEventListener("beforeprint",this.onPrint=this.onPrint.bind(this)),this.start(),window.addEventListener("scroll",this.onScroll=this.onScroll.bind(this)),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(i=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),i.length>0&&i[i.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(i=>{i.length>0&&i[i.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange(),this.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}onScroll(e){this.intersecting&&this.flush(!1),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(){this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500)}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((n,r)=>n!=e[r]))){this.gapIntersection.disconnect();for(let n of e)this.gapIntersection.observe(n);this.gaps=e}}onSelectionChange(e){if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:n}=this,r=this.selectionRange;if(n.state.facet(_s)?n.root.activeElement!=this.dom:!Nf(n.dom,r))return;let i=r.anchorNode&&n.docView.nearest(r.anchorNode);i&&i.ignoreEvent(e)||((L.ie&&L.ie_version<=11||L.android&&L.chrome)&&!n.state.selection.main.empty&&r.focusNode&&mo(r.focusNode,r.focusOffset,r.anchorNode,r.anchorOffset)?this.flushSoon():this.flush(!1))}readSelectionRange(){let{root:e}=this.view,n=po(e),r=L.safari&&e.nodeType==11&&Rx()==this.view.contentDOM&&B2(this.view)||n;return this.selectionRange.eq(r)?!1:(this.selectionRange.setRange(r),this.selectionChanged=!0)}setSelectionRange(e,n){this.selectionRange.set(e.node,e.offset,n.node,n.offset),this.selectionChanged=!1}listenForScroll(){this.parentCheck=-1;let e=0,n=null;for(let r=this.dom;r;)if(r.nodeType==1)!n&&e<this.scrollTargets.length&&this.scrollTargets[e]==r?e++:n||(n=this.scrollTargets.slice(0,e)),n&&n.push(r),r=r.assignedSlot||r.parentNode;else if(r.nodeType==11)r=r.host;else break;if(e<this.scrollTargets.length&&!n&&(n=this.scrollTargets.slice(0,e)),n){for(let r of this.scrollTargets)r.removeEventListener("scroll",this.onScroll);for(let r of this.scrollTargets=n)r.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,N2),fa&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){!this.active||(this.active=!1,this.observer.disconnect(),fa&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,n){this.delayedAndroidKey||requestAnimationFrame(()=>{let r=this.delayedAndroidKey;this.delayedAndroidKey=null;let i=this.view.state;this.readSelectionRange(),Zi(this.view.contentDOM,r.key,r.keyCode)?this.processRecords():this.flush(),this.view.state==i&&this.view.update([])}),(!this.delayedAndroidKey||e=="Enter")&&(this.delayedAndroidKey={key:e,keyCode:n})}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=window.setTimeout(()=>{this.delayedFlush=-1,this.flush()},20))}forceFlush(){this.delayedFlush>=0&&(window.clearTimeout(this.delayedFlush),this.delayedFlush=-1,this.flush())}processRecords(){let e=this.queue;for(let s of this.observer.takeRecords())e.push(s);e.length&&(this.queue=[]);let n=-1,r=-1,i=!1;for(let s of e){let l=this.readMutation(s);!l||(l.typeOver&&(i=!0),n==-1?{from:n,to:r}=l:(n=Math.min(l.from,n),r=Math.max(l.to,r)))}return{from:n,to:r,typeOver:i}}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return;e&&this.readSelectionRange();let{from:n,to:r,typeOver:i}=this.processRecords(),s=this.selectionChanged&&Nf(this.dom,this.selectionRange);if(n<0&&!s)return;this.selectionChanged=!1;let l=this.view.state;this.onChange(n,r,i),this.view.state==l&&this.view.update([])}readMutation(e){let n=this.view.docView.nearest(e.target);if(!n||n.ignoreMutation(e))return null;if(n.markDirty(e.type=="attributes"),e.type=="attributes"&&(n.dirty|=4),e.type=="childList"){let r=Jp(n,e.previousSibling||e.target.previousSibling,-1),i=Jp(n,e.nextSibling||e.target.nextSibling,1);return{from:r?n.posAfter(r):n.posAtStart,to:i?n.posBefore(i):n.posAtEnd,typeOver:!1}}else return e.type=="characterData"?{from:n.posAtStart,to:n.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}destroy(){var e,n,r;this.stop(),(e=this.intersection)===null||e===void 0||e.disconnect(),(n=this.gapIntersection)===null||n===void 0||n.disconnect(),(r=this.resize)===null||r===void 0||r.disconnect();for(let i of this.scrollTargets)i.removeEventListener("scroll",this.onScroll);window.removeEventListener("scroll",this.onScroll),window.removeEventListener("resize",this.onResize),window.removeEventListener("beforeprint",this.onPrint),this.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout)}}function Jp(t,e,n){for(;e;){let r=de.get(e);if(r&&r.parent==t)return r;let i=e.parentNode;e=i!=t.dom?i:n>0?e.nextSibling:e.previousSibling}return null}function B2(t){let e=null;function n(u){u.preventDefault(),u.stopImmediatePropagation(),e=u.getTargetRanges()[0]}if(t.contentDOM.addEventListener("beforeinput",n,!0),document.execCommand("indent"),t.contentDOM.removeEventListener("beforeinput",n,!0),!e)return null;let r=e.startContainer,i=e.startOffset,s=e.endContainer,l=e.endOffset,o=t.docView.domAtPos(t.state.selection.main.anchor);return mo(o.node,o.offset,s,l)&&([r,i,s,l]=[s,l,r,i]),{anchorNode:r,anchorOffset:i,focusNode:s,focusOffset:l}}function I2(t,e,n,r){let i,s,l=t.state.selection.main;if(e>-1){let o=t.docView.domBoundsAround(e,n,0);if(!o||t.state.readOnly)return;let{from:u,to:a}=o,f=t.docView.impreciseHead||t.docView.impreciseAnchor?[]:_2(t),c=new Qy(f,t.state);c.readRange(o.startDOM,o.endDOM);let h=l.from,d=null;(t.inputState.lastKeyCode===8&&t.inputState.lastKeyTime>Date.now()-100||L.android&&c.text.length<a-u)&&(h=l.to,d="end");let p=z2(t.state.doc.sliceString(u,a,Dn),c.text,h-u,d);p&&(L.chrome&&t.inputState.lastKeyCode==13&&p.toB==p.from+2&&c.text.slice(p.from,p.toB)==Dn+Dn&&p.toB--,i={from:u+p.from,to:u+p.toA,insert:Q.of(c.text.slice(p.from,p.toB).split(Dn))}),s=F2(f,u)}else if(t.hasFocus||!t.state.facet(_s)){let o=t.observer.selectionRange,{impreciseHead:u,impreciseAnchor:a}=t.docView,f=u&&u.node==o.focusNode&&u.offset==o.focusOffset||!ui(t.contentDOM,o.focusNode)?t.state.selection.main.head:t.docView.posFromDOM(o.focusNode,o.focusOffset),c=a&&a.node==o.anchorNode&&a.offset==o.anchorOffset||!ui(t.contentDOM,o.anchorNode)?t.state.selection.main.anchor:t.docView.posFromDOM(o.anchorNode,o.anchorOffset);(f!=l.head||c!=l.anchor)&&(s=E.single(c,f))}if(!(!i&&!s)){if(!i&&r&&!l.empty&&s&&s.main.empty?i={from:l.from,to:l.to,insert:t.state.doc.slice(l.from,l.to)}:i&&i.from>=l.from&&i.to<=l.to&&(i.from!=l.from||i.to!=l.to)&&l.to-l.from-(i.to-i.from)<=4&&(i={from:l.from,to:l.to,insert:t.state.doc.slice(l.from,i.from).append(i.insert).append(t.state.doc.slice(i.to,l.to))}),i){let o=t.state;if(L.ios&&t.inputState.flushIOSKey(t)||L.android&&(i.from==l.from&&i.to==l.to&&i.insert.length==1&&i.insert.lines==2&&Zi(t.contentDOM,"Enter",13)||i.from==l.from-1&&i.to==l.to&&i.insert.length==0&&Zi(t.contentDOM,"Backspace",8)||i.from==l.from&&i.to==l.to+1&&i.insert.length==0&&Zi(t.contentDOM,"Delete",46)))return;let u=i.insert.toString();if(t.state.facet(Fy).some(c=>c(t,i.from,i.to,u)))return;t.inputState.composing>=0&&t.inputState.composing++;let a;if(i.from>=l.from&&i.to<=l.to&&i.to-i.from>=(l.to-l.from)/3&&(!s||s.main.empty&&s.main.from==i.from+i.insert.length)&&t.inputState.composing<0){let c=l.from<i.from?o.sliceDoc(l.from,i.from):"",h=l.to>i.to?o.sliceDoc(i.to,l.to):"";a=o.replaceSelection(t.state.toText(c+i.insert.sliceString(0,void 0,t.state.lineBreak)+h))}else{let c=o.changes(i),h=s&&!o.selection.main.eq(s.main)&&s.main.to<=c.newLength?s.main:void 0;if(o.selection.ranges.length>1&&t.inputState.composing>=0&&i.to<=l.to&&i.to>=l.to-10){let d=t.state.sliceDoc(i.from,i.to),p=qy(t)||t.state.doc.lineAt(l.head),v=l.to-i.to,S=l.to-l.from;a=o.changeByRange(m=>{if(m.from==l.from&&m.to==l.to)return{changes:c,range:h||m.map(c)};let g=m.to-v,y=g-d.length;if(m.to-m.from!=S||t.state.sliceDoc(y,g)!=d||p&&m.to>=p.from&&m.from<=p.to)return{range:m};let w=o.changes({from:y,to:g,insert:i.insert}),k=m.to-l.to;return{changes:w,range:h?E.range(Math.max(0,h.anchor+k),Math.max(0,h.head+k)):m.map(w)}})}else a={changes:c,selection:h&&o.selection.replaceRange(h)}}let f="input.type";t.composing&&(f+=".compose",t.inputState.compositionFirstChange&&(f+=".start",t.inputState.compositionFirstChange=!1)),t.dispatch(a,{scrollIntoView:!0,userEvent:f})}else if(s&&!s.main.eq(l)){let o=!1,u="select";t.inputState.lastSelectionTime>Date.now()-50&&(t.inputState.lastSelectionOrigin=="select"&&(o=!0),u=t.inputState.lastSelectionOrigin),t.dispatch({selection:s,scrollIntoView:o,userEvent:u})}}}function z2(t,e,n,r){let i=Math.min(t.length,e.length),s=0;for(;s<i&&t.charCodeAt(s)==e.charCodeAt(s);)s++;if(s==i&&t.length==e.length)return null;let l=t.length,o=e.length;for(;l>0&&o>0&&t.charCodeAt(l-1)==e.charCodeAt(o-1);)l--,o--;if(r=="end"){let u=Math.max(0,s-Math.min(l,o));n-=l+u-s}return l<s&&t.length<e.length?(s-=n<=s&&n>=l?s-n:0,o=s+(o-l),l=s):o<s&&(s-=n<=s&&n>=o?s-n:0,l=s+(l-o),o=s),{from:s,toA:l,toB:o}}function _2(t){let e=[];if(t.root.activeElement!=t.contentDOM)return e;let{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:s}=t.observer.selectionRange;return n&&(e.push(new Mp(n,r)),(i!=n||s!=r)&&e.push(new Mp(i,s))),e}function F2(t,e){if(t.length==0)return null;let n=t[0].pos,r=t.length==2?t[1].pos:n;return n>-1&&r>-1?E.single(n+e,r+e):null}class j{constructor(e={}){this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.style.cssText="position: absolute; top: -10000px",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),this._dispatch=e.dispatch||(n=>this.update([n])),this.dispatch=this.dispatch.bind(this),this.root=e.root||Ix(e.parent)||document,this.viewState=new Kp(e.state||H.create()),this.plugins=this.state.facet(_i).map(n=>new la(n));for(let n of this.plugins)n.update(this);this.observer=new L2(this,(n,r,i)=>{I2(this,n,r,i)},n=>{this.inputState.runScrollHandlers(this,n),this.observer.intersecting&&this.measure()}),this.inputState=new a2(this),this.inputState.ensureHandlers(this,this.plugins),this.docView=new bp(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),e.parent&&e.parent.appendChild(this.dom)}get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return this.inputState.composing>0}get compositionStarted(){return this.inputState.composing>=0}dispatch(...e){this._dispatch(e.length==1&&e[0]instanceof Pe?e[0]:this.state.update(...e))}update(e){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let n=!1,r,i=this.state;for(let l of e){if(l.startState!=i)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");i=l.state}if(this.destroyed){this.viewState.state=i;return}if(i.facet(H.phrases)!=this.state.facet(H.phrases))return this.setState(i);r=new Pp(this,i,e);let s=this.viewState.scrollTarget;try{this.updateState=2;for(let l of e){if(s&&(s=s.map(l.changes)),l.scrollIntoView){let{main:o}=l.state.selection;s=new yo(o.empty?o:E.cursor(o.head,o.head>o.anchor?-1:1))}for(let o of l.effects)o.is(Ep)&&(s=o.value)}this.viewState.update(r,s),this.bidiCache=vo.update(this.bidiCache,r.changes),r.empty||(this.updatePlugins(r),this.inputState.update(r)),n=this.docView.update(r),this.state.facet(Fi)!=this.styleModules&&this.mountStyles(),this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(n,e.some(l=>l.isUserEvent("select.pointer")))}finally{this.updateState=0}if(r.startState.facet(fl)!=r.state.facet(fl)&&(this.viewState.mustMeasureContent=!0),(n||s||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),!r.empty)for(let l of this.state.facet(Wf))l(r)}setState(e){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=e;return}this.updateState=2;let n=this.hasFocus;try{for(let r of this.plugins)r.destroy(this);this.viewState=new Kp(e),this.plugins=e.facet(_i).map(r=>new la(r)),this.pluginMap.clear();for(let r of this.plugins)r.update(this);this.docView=new bp(this),this.inputState.ensureHandlers(this,this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}n&&this.focus(),this.requestMeasure()}updatePlugins(e){let n=e.startState.facet(_i),r=e.state.facet(_i);if(n!=r){let i=[];for(let s of r){let l=n.indexOf(s);if(l<0)i.push(new la(s));else{let o=this.plugins[l];o.mustUpdate=e,i.push(o)}}for(let s of this.plugins)s.mustUpdate!=e&&s.destroy(this);this.plugins=i,this.pluginMap.clear(),this.inputState.ensureHandlers(this,this.plugins)}else for(let i of this.plugins)i.mustUpdate=e;for(let i=0;i<this.plugins.length;i++)this.plugins[i].update(this)}measure(e=!0){if(this.destroyed)return;this.measureScheduled>-1&&cancelAnimationFrame(this.measureScheduled),this.measureScheduled=0,e&&this.observer.flush();let n=null;try{for(let r=0;;r++){this.updateState=1;let i=this.viewport,s=this.viewState.measure(this);if(!s&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(r>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let l=[];s&4||([this.measureRequests,l]=[l,this.measureRequests]);let o=l.map(c=>{try{return c.read(this)}catch(h){return $n(this.state,h),Yp}}),u=new Pp(this,this.state),a=!1,f=!1;u.flags|=s,n?n.flags|=s:n=u,this.updateState=2,u.empty||(this.updatePlugins(u),this.inputState.update(u),this.updateAttrs(),a=this.docView.update(u));for(let c=0;c<l.length;c++)if(o[c]!=Yp)try{let h=l[c];h.write&&h.write(o[c],this)}catch(h){$n(this.state,h)}if(this.viewState.scrollTarget&&(this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,f=!0),a&&this.docView.updateSelection(!0),this.viewport.from==i.from&&this.viewport.to==i.to&&!f&&this.measureRequests.length==0)break}}finally{this.updateState=0,this.measureScheduled=-1}if(n&&!n.empty)for(let r of this.state.facet(Wf))r(n)}get themeClasses(){return qf+" "+(this.state.facet(Qf)?o1:l1)+" "+this.state.facet(fl)}updateAttrs(){let e=Xp(this,Vy,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),n={spellcheck:"false",autocorrect:"off",autocapitalize:"off",translate:"no",contenteditable:this.state.facet(_s)?"true":"false",class:"cm-content",style:`${L.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(n["aria-readonly"]="true"),Xp(this,jy,n),this.observer.ignore(()=>{Vf(this.contentDOM,this.contentAttrs,n),Vf(this.dom,this.editorAttrs,e)}),this.editorAttrs=e,this.contentAttrs=n}showAnnouncements(e){let n=!0;for(let r of e)for(let i of r.effects)if(i.is(j.announce)){n&&(this.announceDOM.textContent=""),n=!1;let s=this.announceDOM.appendChild(document.createElement("div"));s.textContent=i.value}}mountStyles(){this.styleModules=this.state.facet(Fi),Kn.mount(this.root,this.styleModules.concat(R2).reverse())}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=requestAnimationFrame(()=>this.measure())),e){if(e.key!=null){for(let n=0;n<this.measureRequests.length;n++)if(this.measureRequests[n].key===e.key){this.measureRequests[n]=e;return}}this.measureRequests.push(e)}}plugin(e){let n=this.pluginMap.get(e);return(n===void 0||n&&n.spec!=e)&&this.pluginMap.set(e,n=this.plugins.find(r=>r.spec==e)||null),n&&n.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,n,r){return ua(this,e,Bp(this,e,n,r))}moveByGroup(e,n){return ua(this,e,Bp(this,e,n,r=>o2(this,e.head,r)))}moveToLineBoundary(e,n,r=!0){return l2(this,e,n,r)}moveVertically(e,n,r){return ua(this,e,u2(this,e,n,r))}domAtPos(e){return this.docView.domAtPos(e)}posAtDOM(e,n=0){return this.docView.posFromDOM(e,n)}posAtCoords(e,n=!0){return this.readMeasured(),Yy(this,e,n)}coordsAtPos(e,n=1){this.readMeasured();let r=this.docView.coordsAt(e,n);if(!r||r.left==r.right)return r;let i=this.state.doc.lineAt(e),s=this.bidiSpans(i),l=s[Zr.find(s,e-i.from,-1,n)];return cu(r,l.dir==ve.LTR==n>0)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet($y)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>$2)return Ky(e.length);let n=this.textDirectionAt(e.from);for(let i of this.bidiCache)if(i.from==e.from&&i.dir==n)return i.order;let r=Gx(e.text,n);return this.bidiCache.push(new vo(e.from,e.to,n,r)),r}get hasFocus(){var e;return(document.hasFocus()||L.safari&&((e=this.inputState)===null||e===void 0?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{xy(this.contentDOM),this.docView.updateSelection()})}destroy(){for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,n={}){return Ep.of(new yo(typeof e=="number"?E.cursor(e):e,n.y,n.x,n.yMargin,n.xMargin))}static domEventHandlers(e){return pn.define(()=>({}),{eventHandlers:e})}static theme(e,n){let r=Kn.newName(),i=[fl.of(r),Fi.of(Jf(`.${r}`,e))];return n&&n.dark&&i.push(Qf.of(!0)),i}static baseTheme(e){return hh.lowest(Fi.of(Jf("."+qf,e,u1)))}}j.styleModule=Fi;j.inputHandler=Fy;j.perLineTextDirection=$y;j.exceptionSink=_y;j.updateListener=Wf;j.editable=_s;j.mouseSelectionStyle=zy;j.dragMovesSelection=Iy;j.clickAddsSelectionRange=By;j.decorations=Ms;j.atomicRanges=Wy;j.scrollMargins=Hy;j.darkTheme=Qf;j.contentAttributes=jy;j.editorAttributes=Vy;j.lineWrapping=j.contentAttributes.of({class:"cm-lineWrapping"});j.announce=ge.define();const $2=4096,Yp={};class vo{constructor(e,n,r,i){this.from=e,this.to=n,this.dir=r,this.order=i}static update(e,n){if(n.empty)return e;let r=[],i=e.length?e[e.length-1].dir:ve.LTR;for(let s=Math.max(0,e.length-10);s<e.length;s++){let l=e[s];l.dir==i&&!n.touchesRange(l.from,l.to)&&r.push(new vo(n.mapPos(l.from,1),n.mapPos(l.to,-1),l.dir,l.order))}return r}}function Xp(t,e,n){for(let r=t.state.facet(e),i=r.length-1;i>=0;i--){let s=r[i],l=typeof s=="function"?s(t):s;l&&$f(l,n)}return n}const V2=L.mac?"mac":L.windows?"win":L.linux?"linux":"key";function j2(t,e){const n=t.split(/-(?!$)/);let r=n[n.length-1];r=="Space"&&(r=" ");let i,s,l,o;for(let u=0;u<n.length-1;++u){const a=n[u];if(/^(cmd|meta|m)$/i.test(a))o=!0;else if(/^a(lt)?$/i.test(a))i=!0;else if(/^(c|ctrl|control)$/i.test(a))s=!0;else if(/^s(hift)?$/i.test(a))l=!0;else if(/^mod$/i.test(a))e=="mac"?o=!0:s=!0;else throw new Error("Unrecognized modifier name: "+a)}return i&&(r="Alt-"+r),s&&(r="Ctrl-"+r),o&&(r="Meta-"+r),l&&(r="Shift-"+r),r}function ca(t,e,n){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n!==!1&&e.shiftKey&&(t="Shift-"+t),t}const W2=j.domEventHandlers({keydown(t,e){return Q2(U2(e.state),t,e,"editor")}}),H2=I.define({enables:W2}),Zp=new WeakMap;function U2(t){let e=t.facet(H2),n=Zp.get(e);return n||Zp.set(e,n=G2(e.reduce((r,i)=>r.concat(i),[]))),n}let Pn=null;const K2=4e3;function G2(t,e=V2){let n=Object.create(null),r=Object.create(null),i=(l,o)=>{let u=r[l];if(u==null)r[l]=o;else if(u!=o)throw new Error("Key binding "+l+" is used both as a regular binding and as a multi-stroke prefix")},s=(l,o,u,a)=>{let f=n[l]||(n[l]=Object.create(null)),c=o.split(/ (?!$)/).map(p=>j2(p,e));for(let p=1;p<c.length;p++){let v=c.slice(0,p).join(" ");i(v,!0),f[v]||(f[v]={preventDefault:!0,commands:[S=>{let m=Pn={view:S,prefix:v,scope:l};return setTimeout(()=>{Pn==m&&(Pn=null)},K2),!0}]})}let h=c.join(" ");i(h,!1);let d=f[h]||(f[h]={preventDefault:!1,commands:[]});d.commands.push(u),a&&(d.preventDefault=!0)};for(let l of t){let o=l[e]||l.key;if(!!o)for(let u of l.scope?l.scope.split(" "):["editor"])s(u,o,l.run,l.preventDefault),l.shift&&s(u,"Shift-"+o,l.shift,l.preventDefault)}return n}function Q2(t,e,n,r){let i=Tx(e),s=i.length==1&&i!=" ",l="",o=!1;Pn&&Pn.view==n&&Pn.scope==r&&(l=Pn.prefix+" ",(o=Zy.indexOf(e.keyCode)<0)&&(Pn=null));let u=c=>{if(c){for(let h of c.commands)if(h(n))return!0;c.preventDefault&&(o=!0)}return!1},a=t[r],f;if(a){if(u(a[l+ca(i,e,!s)]))return!0;if(s&&(e.shiftKey||e.altKey||e.metaKey)&&(f=Gn[e.keyCode])&&f!=i){if(u(a[l+ca(f,e,!0)]))return!0}else if(s&&e.shiftKey&&u(a[l+ca(i,e,!0)]))return!0}return o}const a1=!L.ios,Vi=I.define({combine(t){return dh(t,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(e,n)=>Math.min(e,n),drawRangeCursor:(e,n)=>e||n})}});function dE(t={}){return[Vi.of(t),q2,J2]}class f1{constructor(e,n,r,i,s){this.left=e,this.top=n,this.width=r,this.height=i,this.className=s}draw(){let e=document.createElement("div");return e.className=this.className,this.adjust(e),e}adjust(e){e.style.left=this.left+"px",e.style.top=this.top+"px",this.width>=0&&(e.style.width=this.width+"px"),e.style.height=this.height+"px"}eq(e){return this.left==e.left&&this.top==e.top&&this.width==e.width&&this.height==e.height&&this.className==e.className}}const q2=pn.fromClass(class{constructor(t){this.view=t,this.rangePieces=[],this.cursors=[],this.measureReq={read:this.readPos.bind(this),write:this.drawSel.bind(this)},this.selectionLayer=t.scrollDOM.appendChild(document.createElement("div")),this.selectionLayer.className="cm-selectionLayer",this.selectionLayer.setAttribute("aria-hidden","true"),this.cursorLayer=t.scrollDOM.appendChild(document.createElement("div")),this.cursorLayer.className="cm-cursorLayer",this.cursorLayer.setAttribute("aria-hidden","true"),t.requestMeasure(this.measureReq),this.setBlinkRate()}setBlinkRate(){this.cursorLayer.style.animationDuration=this.view.state.facet(Vi).cursorBlinkRate+"ms"}update(t){let e=t.startState.facet(Vi)!=t.state.facet(Vi);(e||t.selectionSet||t.geometryChanged||t.viewportChanged)&&this.view.requestMeasure(this.measureReq),t.transactions.some(n=>n.scrollIntoView)&&(this.cursorLayer.style.animationName=this.cursorLayer.style.animationName=="cm-blink"?"cm-blink2":"cm-blink"),e&&this.setBlinkRate()}readPos(){let{state:t}=this.view,e=t.facet(Vi),n=t.selection.ranges.map(i=>i.empty?[]:Y2(this.view,i)).reduce((i,s)=>i.concat(s)),r=[];for(let i of t.selection.ranges){let s=i==t.selection.main;if(i.empty?!s||a1:e.drawRangeCursor){let l=X2(this.view,i,s);l&&r.push(l)}}return{rangePieces:n,cursors:r}}drawSel({rangePieces:t,cursors:e}){if(t.length!=this.rangePieces.length||t.some((n,r)=>!n.eq(this.rangePieces[r]))){this.selectionLayer.textContent="";for(let n of t)this.selectionLayer.appendChild(n.draw());this.rangePieces=t}if(e.length!=this.cursors.length||e.some((n,r)=>!n.eq(this.cursors[r]))){let n=this.cursorLayer.children;if(n.length!==e.length){this.cursorLayer.textContent="";for(const r of e)this.cursorLayer.appendChild(r.draw())}else e.forEach((r,i)=>r.adjust(n[i]));this.cursors=e}}destroy(){this.selectionLayer.remove(),this.cursorLayer.remove()}}),c1={".cm-line":{"& ::selection":{backgroundColor:"transparent !important"},"&::selection":{backgroundColor:"transparent !important"}}};a1&&(c1[".cm-line"].caretColor="transparent !important");const J2=hh.highest(j.theme(c1));function h1(t){let e=t.scrollDOM.getBoundingClientRect();return{left:(t.textDirection==ve.LTR?e.left:e.right-t.scrollDOM.clientWidth)-t.scrollDOM.scrollLeft,top:e.top-t.scrollDOM.scrollTop}}function em(t,e,n){let r=E.cursor(e);return{from:Math.max(n.from,t.moveToLineBoundary(r,!1,!0).from),to:Math.min(n.to,t.moveToLineBoundary(r,!0,!0).from),type:Z.Text}}function tm(t,e){let n=t.lineBlockAt(e);if(Array.isArray(n.type)){for(let r of n.type)if(r.to>e||r.to==e&&(r.to==n.to||r.type==Z.Text))return r}return n}function Y2(t,e){if(e.to<=t.viewport.from||e.from>=t.viewport.to)return[];let n=Math.max(e.from,t.viewport.from),r=Math.min(e.to,t.viewport.to),i=t.textDirection==ve.LTR,s=t.contentDOM,l=s.getBoundingClientRect(),o=h1(t),u=window.getComputedStyle(s.firstChild),a=l.left+parseInt(u.paddingLeft)+Math.min(0,parseInt(u.textIndent)),f=l.right-parseInt(u.paddingRight),c=tm(t,n),h=tm(t,r),d=c.type==Z.Text?c:null,p=h.type==Z.Text?h:null;if(t.lineWrapping&&(d&&(d=em(t,n,d)),p&&(p=em(t,r,p))),d&&p&&d.from==p.from)return S(m(e.from,e.to,d));{let y=d?m(e.from,null,d):g(c,!1),w=p?m(null,e.to,p):g(h,!0),k=[];return(d||c).to<(p||h).from-1?k.push(v(a,y.bottom,f,w.top)):y.bottom<w.top&&t.elementAtHeight((y.bottom+w.top)/2).type==Z.Text&&(y.bottom=w.top=(y.bottom+w.top)/2),S(y).concat(k).concat(S(w))}function v(y,w,k,x){return new f1(y-o.left,w-o.top-.01,k-y,x-w+.01,"cm-selectionBackground")}function S({top:y,bottom:w,horizontal:k}){let x=[];for(let C=0;C<k.length;C+=2)x.push(v(k[C],y,k[C+1],w));return x}function m(y,w,k){let x=1e9,C=-1e9,M=[];function R(G,J,Be,Ce,we){let je=t.coordsAtPos(G,G==k.to?-2:2),P=t.coordsAtPos(Be,Be==k.from?2:-2);x=Math.min(je.top,P.top,x),C=Math.max(je.bottom,P.bottom,C),we==ve.LTR?M.push(i&&J?a:je.left,i&&Ce?f:P.right):M.push(!i&&Ce?a:P.left,!i&&J?f:je.right)}let b=y!=null?y:k.from,z=w!=null?w:k.to;for(let G of t.visibleRanges)if(G.to>b&&G.from<z)for(let J=Math.max(G.from,b),Be=Math.min(G.to,z);;){let Ce=t.state.doc.lineAt(J);for(let we of t.bidiSpans(Ce)){let je=we.from+Ce.from,P=we.to+Ce.from;if(je>=Be)break;P>J&&R(Math.max(je,J),y==null&&je<=b,Math.min(P,Be),w==null&&P>=z,we.dir)}if(J=Ce.to+1,J>=Be)break}return M.length==0&&R(b,y==null,z,w==null,t.textDirection),{top:x,bottom:C,horizontal:M}}function g(y,w){let k=l.top+(w?y.top:y.bottom);return{top:k,bottom:k,horizontal:[]}}}function X2(t,e,n){let r=t.coordsAtPos(e.head,e.assoc||1);if(!r)return null;let i=h1(t);return new f1(r.left-i.left,r.top-i.top,-1,r.bottom-r.top,n?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary")}function pE(){return eC}const Z2=he.line({class:"cm-activeLine"}),eC=pn.fromClass(class{constructor(t){this.decorations=this.getDeco(t)}update(t){(t.docChanged||t.selectionSet)&&(this.decorations=this.getDeco(t.view))}getDeco(t){let e=-1,n=[];for(let r of t.state.selection.ranges){if(!r.empty)return he.none;let i=t.lineBlockAt(r.head);i.from>e&&(n.push(Z2.range(i.from)),e=i.from)}return he.set(n)}},{decorations:t=>t.decorations});class wr extends yr{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}wr.prototype.elementClass="";wr.prototype.toDOM=void 0;wr.prototype.mapMode=Ye.TrackBefore;wr.prototype.startSide=wr.prototype.endSide=-1;wr.prototype.point=!0;const ha=I.define(),tC={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>X.empty,lineMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{}},es=I.define();function mE(t){return[d1(),es.of(Object.assign(Object.assign({},tC),t))]}const Yf=I.define({combine:t=>t.some(e=>e)});function d1(t){let e=[nC];return t&&t.fixed===!1&&e.push(Yf.of(!0)),e}const nC=pn.fromClass(class{constructor(t){this.view=t,this.prevViewport=t.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight+"px",this.gutters=t.state.facet(es).map(e=>new rm(t,e));for(let e of this.gutters)this.dom.appendChild(e.dom);this.fixed=!t.state.facet(Yf),this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),t.scrollDOM.insertBefore(this.dom,t.contentDOM)}update(t){if(this.updateGutters(t)){let e=this.prevViewport,n=t.view.viewport,r=Math.min(e.to,n.to)-Math.max(e.from,n.from);this.syncGutters(r<(n.to-n.from)*.8)}t.geometryChanged&&(this.dom.style.minHeight=this.view.contentHeight+"px"),this.view.state.facet(Yf)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":""),this.prevViewport=t.view.viewport}syncGutters(t){let e=this.dom.nextSibling;t&&this.dom.remove();let n=X.iter(this.view.state.facet(ha),this.view.viewport.from),r=[],i=this.gutters.map(s=>new rC(s,this.view.viewport,-this.view.documentPadding.top));for(let s of this.view.viewportLineBlocks){let l;if(Array.isArray(s.type)){for(let o of s.type)if(o.type==Z.Text){l=o;break}}else l=s.type==Z.Text?s:void 0;if(!!l){r.length&&(r=[]),p1(n,r,s.from);for(let o of i)o.line(this.view,l,r)}}for(let s of i)s.finish();t&&this.view.scrollDOM.insertBefore(this.dom,e)}updateGutters(t){let e=t.startState.facet(es),n=t.state.facet(es),r=t.docChanged||t.heightChanged||t.viewportChanged||!X.eq(t.startState.facet(ha),t.state.facet(ha),t.view.viewport.from,t.view.viewport.to);if(e==n)for(let i of this.gutters)i.update(t)&&(r=!0);else{r=!0;let i=[];for(let s of n){let l=e.indexOf(s);l<0?i.push(new rm(this.view,s)):(this.gutters[l].update(t),i.push(this.gutters[l]))}for(let s of this.gutters)s.dom.remove(),i.indexOf(s)<0&&s.destroy();for(let s of i)this.dom.appendChild(s.dom);this.gutters=i}return r}destroy(){for(let t of this.gutters)t.destroy();this.dom.remove()}},{provide:t=>j.scrollMargins.of(e=>{let n=e.plugin(t);return!n||n.gutters.length==0||!n.fixed?null:e.textDirection==ve.LTR?{left:n.dom.offsetWidth}:{right:n.dom.offsetWidth}})});function nm(t){return Array.isArray(t)?t:[t]}function p1(t,e,n){for(;t.value&&t.from<=n;)t.from==n&&e.push(t.value),t.next()}class rC{constructor(e,n,r){this.gutter=e,this.height=r,this.localMarkers=[],this.i=0,this.cursor=X.iter(e.markers,n.from)}line(e,n,r){this.localMarkers.length&&(this.localMarkers=[]),p1(this.cursor,this.localMarkers,n.from);let i=r.length?this.localMarkers.concat(r):this.localMarkers,s=this.gutter.config.lineMarker(e,n,i);s&&i.unshift(s);let l=this.gutter;if(i.length==0&&!l.config.renderEmptyElements)return;let o=n.top-this.height;if(this.i==l.elements.length){let u=new m1(e,n.height,o,i);l.elements.push(u),l.dom.appendChild(u.dom)}else l.elements[this.i].update(e,n.height,o,i);this.height=n.bottom,this.i++}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let n=e.elements.pop();e.dom.removeChild(n.dom),n.destroy()}}}class rm{constructor(e,n){this.view=e,this.config=n,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let r in n.domEventHandlers)this.dom.addEventListener(r,i=>{let s=e.lineBlockAtHeight(i.clientY-e.documentTop);n.domEventHandlers[r](e,s,i)&&i.preventDefault()});this.markers=nm(n.markers(e)),n.initialSpacer&&(this.spacer=new m1(e,0,0,[n.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let n=this.markers;if(this.markers=nm(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let i=this.config.updateSpacer(this.spacer.markers[0],e);i!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[i])}let r=e.view.viewport;return!X.eq(this.markers,n,r.from,r.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(e):!1)}destroy(){for(let e of this.elements)e.destroy()}}class m1{constructor(e,n,r,i){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.update(e,n,r,i)}update(e,n,r,i){this.height!=n&&(this.dom.style.height=(this.height=n)+"px"),this.above!=r&&(this.dom.style.marginTop=(this.above=r)?r+"px":""),iC(this.markers,i)||this.setMarkers(e,i)}setMarkers(e,n){let r="cm-gutterElement",i=this.dom.firstChild;for(let s=0,l=0;;){let o=l,u=s<n.length?n[s++]:null,a=!1;if(u){let f=u.elementClass;f&&(r+=" "+f);for(let c=l;c<this.markers.length;c++)if(this.markers[c].compare(u)){o=c,a=!0;break}}else o=this.markers.length;for(;l<o;){let f=this.markers[l++];if(f.toDOM){f.destroy(i);let c=i.nextSibling;i.remove(),i=c}}if(!u)break;u.toDOM&&(a?i=i.nextSibling:this.dom.insertBefore(u.toDOM(e),i)),a&&l++}this.dom.className=r,this.markers=n}destroy(){this.setMarkers(null,[])}}function iC(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].compare(e[n]))return!1;return!0}const sC=I.define(),Vr=I.define({combine(t){return dh(t,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,n){let r=Object.assign({},e);for(let i in n){let s=r[i],l=n[i];r[i]=s?(o,u,a)=>s(o,u,a)||l(o,u,a):l}return r}})}});class da extends wr{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}}function pa(t,e){return t.state.facet(Vr).formatNumber(e,t.state)}const lC=es.compute([Vr],t=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(e){return e.state.facet(sC)},lineMarker(e,n,r){return r.some(i=>i.toDOM)?null:new da(pa(e,e.state.doc.lineAt(n.from).number))},lineMarkerChange:e=>e.startState.facet(Vr)!=e.state.facet(Vr),initialSpacer(e){return new da(pa(e,im(e.state.doc.lines)))},updateSpacer(e,n){let r=pa(n.view,im(n.view.state.doc.lines));return r==e.number?e:new da(r)},domEventHandlers:t.facet(Vr).domEventHandlers}));function gE(t={}){return[Vr.of(t),d1(),lC]}function im(t){let e=9;for(;e<t;)e=e*10+9;return e}const oC=1024;let uC=0;class ma{constructor(e,n){this.from=e,this.to=n}}class V{constructor(e={}){this.id=uC++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=st.match(e)),n=>{let r=e(n);return r===void 0?null:[this,r]}}}V.closedBy=new V({deserialize:t=>t.split(" ")});V.openedBy=new V({deserialize:t=>t.split(" ")});V.group=new V({deserialize:t=>t.split(" ")});V.contextHash=new V({perNode:!0});V.lookAhead=new V({perNode:!0});V.mounted=new V({perNode:!0});const aC=Object.create(null);class st{constructor(e,n,r,i=0){this.name=e,this.props=n,this.id=r,this.flags=i}static define(e){let n=e.props&&e.props.length?Object.create(null):aC,r=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),i=new st(e.name||"",n,e.id,r);if(e.props){for(let s of e.props)if(Array.isArray(s)||(s=s(i)),s){if(s[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");n[s[0].id]=s[1]}}return i}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let n=this.prop(V.group);return n?n.indexOf(e)>-1:!1}return this.id==e}static match(e){let n=Object.create(null);for(let r in e)for(let i of r.split(" "))n[i]=e[r];return r=>{for(let i=r.prop(V.group),s=-1;s<(i?i.length:0);s++){let l=n[s<0?r.name:i[s]];if(l)return l}}}}st.none=new st("",Object.create(null),0,8);class kh{constructor(e){this.types=e;for(let n=0;n<e.length;n++)if(e[n].id!=n)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...e){let n=[];for(let r of this.types){let i=null;for(let s of e){let l=s(r);l&&(i||(i=Object.assign({},r.props)),i[l[0].id]=l[1])}n.push(i?new st(r.name,i,r.id,r.flags):r)}return new kh(n)}}const cl=new WeakMap,sm=new WeakMap;var $e;(function(t){t[t.ExcludeBuffers=1]="ExcludeBuffers",t[t.IncludeAnonymous=2]="IncludeAnonymous",t[t.IgnoreMounts=4]="IgnoreMounts",t[t.IgnoreOverlays=8]="IgnoreOverlays"})($e||($e={}));class ae{constructor(e,n,r,i,s){if(this.type=e,this.children=n,this.positions=r,this.length=i,this.props=null,s&&s.length){this.props=Object.create(null);for(let[l,o]of s)this.props[typeof l=="number"?l:l.id]=o}}toString(){let e=this.prop(V.mounted);if(e&&!e.overlay)return e.tree.toString();let n="";for(let r of this.children){let i=r.toString();i&&(n&&(n+=","),n+=i)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(n.length?"("+n+")":""):n}cursor(e=0){return new ko(this.topNode,e)}cursorAt(e,n=0,r=0){let i=cl.get(this)||this.topNode,s=new ko(i);return s.moveTo(e,n),cl.set(this,s._tree),s}get topNode(){return new fn(this,0,0,null)}resolve(e,n=0){let r=fi(cl.get(this)||this.topNode,e,n,!1);return cl.set(this,r),r}resolveInner(e,n=0){let r=fi(sm.get(this)||this.topNode,e,n,!0);return sm.set(this,r),r}iterate(e){let{enter:n,leave:r,from:i=0,to:s=this.length}=e;for(let l=this.cursor((e.mode||0)|$e.IncludeAnonymous);;){let o=!1;if(l.from<=s&&l.to>=i&&(l.type.isAnonymous||n(l)!==!1)){if(l.firstChild())continue;o=!0}for(;o&&r&&!l.type.isAnonymous&&r(l),!l.nextSibling();){if(!l.parent())return;o=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let n in this.props)e.push([+n,this.props[n]]);return e}balance(e={}){return this.children.length<=8?this:Ah(st.none,this.children,this.positions,0,this.children.length,0,this.length,(n,r,i)=>new ae(this.type,n,r,i,this.propValues),e.makeTree||((n,r,i)=>new ae(st.none,n,r,i)))}static build(e){return cC(e)}}ae.empty=new ae(st.none,[],[],0);class xh{constructor(e,n){this.buffer=e,this.index=n}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new xh(this.buffer,this.index)}}class Ar{constructor(e,n,r){this.buffer=e,this.length=n,this.set=r}get type(){return st.none}toString(){let e=[];for(let n=0;n<this.buffer.length;)e.push(this.childString(n)),n=this.buffer[n+3];return e.join(",")}childString(e){let n=this.buffer[e],r=this.buffer[e+3],i=this.set.types[n],s=i.name;if(/\W/.test(s)&&!i.isError&&(s=JSON.stringify(s)),e+=4,r==e)return s;let l=[];for(;e<r;)l.push(this.childString(e)),e=this.buffer[e+3];return s+"("+l.join(",")+")"}findChild(e,n,r,i,s){let{buffer:l}=this,o=-1;for(let u=e;u!=n&&!(g1(s,i,l[u+1],l[u+2])&&(o=u,r>0));u=l[u+3]);return o}slice(e,n,r,i){let s=this.buffer,l=new Uint16Array(n-e);for(let o=e,u=0;o<n;)l[u++]=s[o++],l[u++]=s[o++]-r,l[u++]=s[o++]-r,l[u++]=s[o++]-e;return new Ar(l,i-r,this.set)}}function g1(t,e,n,r){switch(t){case-2:return n<e;case-1:return r>=e&&n<e;case 0:return n<e&&r>e;case 1:return n<=e&&r>e;case 2:return r>e;case 4:return!0}}function y1(t,e){let n=t.childBefore(e);for(;n;){let r=n.lastChild;if(!r||r.to!=n.to)break;r.type.isError&&r.from==r.to?(t=n,n=r.prevSibling):n=r}return t}function fi(t,e,n,r){for(var i;t.from==t.to||(n<1?t.from>=e:t.from>e)||(n>-1?t.to<=e:t.to<e);){let l=!r&&t instanceof fn&&t.index<0?null:t.parent;if(!l)return t;t=l}let s=r?0:$e.IgnoreOverlays;if(r)for(let l=t,o=l.parent;o;l=o,o=l.parent)l instanceof fn&&l.index<0&&((i=o.enter(e,n,s))===null||i===void 0?void 0:i.from)!=l.from&&(t=o);for(;;){let l=t.enter(e,n,s);if(!l)return t;t=l}}class fn{constructor(e,n,r,i){this._tree=e,this.from=n,this.index=r,this._parent=i}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,n,r,i,s=0){for(let l=this;;){for(let{children:o,positions:u}=l._tree,a=n>0?o.length:-1;e!=a;e+=n){let f=o[e],c=u[e]+l.from;if(!!g1(i,r,c,c+f.length)){if(f instanceof Ar){if(s&$e.ExcludeBuffers)continue;let h=f.findChild(0,f.buffer.length,n,r-c,i);if(h>-1)return new Rn(new fC(l,f,e,c),null,h)}else if(s&$e.IncludeAnonymous||!f.type.isAnonymous||Ch(f)){let h;if(!(s&$e.IgnoreMounts)&&f.props&&(h=f.prop(V.mounted))&&!h.overlay)return new fn(h.tree,c,e,l);let d=new fn(f,c,e,l);return s&$e.IncludeAnonymous||!d.type.isAnonymous?d:d.nextChild(n<0?f.children.length-1:0,n,r,i)}}}if(s&$e.IncludeAnonymous||!l.type.isAnonymous||(l.index>=0?e=l.index+n:e=n<0?-1:l._parent._tree.children.length,l=l._parent,!l))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,n,r=0){let i;if(!(r&$e.IgnoreOverlays)&&(i=this._tree.prop(V.mounted))&&i.overlay){let s=e-this.from;for(let{from:l,to:o}of i.overlay)if((n>0?l<=s:l<s)&&(n<0?o>=s:o>s))return new fn(i.tree,i.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,n,r)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}cursor(e=0){return new ko(this,e)}get tree(){return this._tree}toTree(){return this._tree}resolve(e,n=0){return fi(this,e,n,!1)}resolveInner(e,n=0){return fi(this,e,n,!0)}enterUnfinishedNodesBefore(e){return y1(this,e)}getChild(e,n=null,r=null){let i=wo(this,e,n,r);return i.length?i[0]:null}getChildren(e,n=null,r=null){return wo(this,e,n,r)}toString(){return this._tree.toString()}get node(){return this}matchContext(e){return So(this,e)}}function wo(t,e,n,r){let i=t.cursor(),s=[];if(!i.firstChild())return s;if(n!=null){for(;!i.type.is(n);)if(!i.nextSibling())return s}for(;;){if(r!=null&&i.type.is(r))return s;if(i.type.is(e)&&s.push(i.node),!i.nextSibling())return r==null?s:[]}}function So(t,e,n=e.length-1){for(let r=t.parent;n>=0;r=r.parent){if(!r)return!1;if(!r.type.isAnonymous){if(e[n]&&e[n]!=r.name)return!1;n--}}return!0}class fC{constructor(e,n,r,i){this.parent=e,this.buffer=n,this.index=r,this.start=i}}class Rn{constructor(e,n,r){this.context=e,this._parent=n,this.index=r,this.type=e.buffer.set.types[e.buffer.buffer[r]]}get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}child(e,n,r){let{buffer:i}=this.context,s=i.findChild(this.index+4,i.buffer[this.index+3],e,n-this.context.start,r);return s<0?null:new Rn(this.context,this,s)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,n,r=0){if(r&$e.ExcludeBuffers)return null;let{buffer:i}=this.context,s=i.findChild(this.index+4,i.buffer[this.index+3],n>0?1:-1,e-this.context.start,n);return s<0?null:new Rn(this.context,this,s)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,n=e.buffer[this.index+3];return n<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new Rn(this.context,this._parent,n):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,n=this._parent?this._parent.index+4:0;return this.index==n?this.externalSibling(-1):new Rn(this.context,this._parent,e.findChild(n,this.index,-1,0,4))}cursor(e=0){return new ko(this,e)}get tree(){return null}toTree(){let e=[],n=[],{buffer:r}=this.context,i=this.index+4,s=r.buffer[this.index+3];if(s>i){let l=r.buffer[this.index+1],o=r.buffer[this.index+2];e.push(r.slice(i,s,l,o)),n.push(0)}return new ae(this.type,e,n,this.to-this.from)}resolve(e,n=0){return fi(this,e,n,!1)}resolveInner(e,n=0){return fi(this,e,n,!0)}enterUnfinishedNodesBefore(e){return y1(this,e)}toString(){return this.context.buffer.childString(this.index)}getChild(e,n=null,r=null){let i=wo(this,e,n,r);return i.length?i[0]:null}getChildren(e,n=null,r=null){return wo(this,e,n,r)}get node(){return this}matchContext(e){return So(this,e)}}class ko{constructor(e,n=0){if(this.mode=n,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof fn)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let r=e._parent;r;r=r._parent)this.stack.unshift(r.index);this.bufferNode=e,this.yieldBuf(e.index)}}get name(){return this.type.name}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,n){this.index=e;let{start:r,buffer:i}=this.buffer;return this.type=n||i.set.types[i.buffer[e]],this.from=r+i.buffer[e+1],this.to=r+i.buffer[e+2],!0}yield(e){return e?e instanceof fn?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,n,r){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,n,r,this.mode));let{buffer:i}=this.buffer,s=i.findChild(this.index+4,i.buffer[this.index+3],e,n-this.buffer.start,r);return s<0?!1:(this.stack.push(this.index),this.yieldBuf(s))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,n,r=this.mode){return this.buffer?r&$e.ExcludeBuffers?!1:this.enterChild(1,e,n):this.yield(this._tree.enter(e,n,r))}parent(){if(!this.buffer)return this.yieldNode(this.mode&$e.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&$e.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:n}=this.buffer,r=this.stack.length-1;if(e<0){let i=r<0?0:this.stack[r]+4;if(this.index!=i)return this.yieldBuf(n.findChild(i,this.index,-1,0,4))}else{let i=n.buffer[this.index+3];if(i<(r<0?n.buffer.length:n.buffer[this.stack[r]+3]))return this.yieldBuf(i)}return r<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let n,r,{buffer:i}=this;if(i){if(e>0){if(this.index<i.buffer.buffer.length)return!1}else for(let s=0;s<this.index;s++)if(i.buffer.buffer[s+3]<this.index)return!1;({index:n,parent:r}=i)}else({index:n,_parent:r}=this._tree);for(;r;{index:n,_parent:r}=r)if(n>-1)for(let s=n+e,l=e<0?-1:r._tree.children.length;s!=l;s+=e){let o=r._tree.children[s];if(this.mode&$e.IncludeAnonymous||o instanceof Ar||!o.type.isAnonymous||Ch(o))return!1}return!0}move(e,n){if(n&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,n=0){for(;(this.from==this.to||(n<1?this.from>=e:this.from>e)||(n>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,n););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,n=null,r=0;if(e&&e.context==this.buffer){e:for(let i=this.index,s=this.stack.length;s>=0;){for(let l=e;l;l=l._parent)if(l.index==i){if(i==this.index)return l;n=l,r=s+1;break e}i=this.stack[--s]}}for(let i=r;i<this.stack.length;i++)n=new Rn(this.buffer,n,this.stack[i]);return this.bufferNode=new Rn(this.buffer,n,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,n){for(let r=0;;){let i=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){r++;continue}this.type.isAnonymous||(i=!0)}for(;i&&n&&n(this),i=this.type.isAnonymous,!this.nextSibling();){if(!r)return;this.parent(),r--,i=!0}}}matchContext(e){if(!this.buffer)return So(this.node,e);let{buffer:n}=this.buffer,{types:r}=n.set;for(let i=e.length-1,s=this.stack.length-1;i>=0;s--){if(s<0)return So(this.node,e,i);let l=r[n.buffer[this.stack[s]]];if(!l.isAnonymous){if(e[i]&&e[i]!=l.name)return!1;i--}}return!0}}function Ch(t){return t.children.some(e=>e instanceof Ar||!e.type.isAnonymous||Ch(e))}function cC(t){var e;let{buffer:n,nodeSet:r,maxBufferLength:i=oC,reused:s=[],minRepeatType:l=r.types.length}=t,o=Array.isArray(n)?new xh(n,n.length):n,u=r.types,a=0,f=0;function c(w,k,x,C,M){let{id:R,start:b,end:z,size:G}=o,J=f;for(;G<0;)if(o.next(),G==-1){let P=s[R];x.push(P),C.push(b-w);return}else if(G==-3){a=R;return}else if(G==-4){f=R;return}else throw new RangeError(`Unrecognized record size: ${G}`);let Be=u[R],Ce,we,je=b-w;if(z-b<=i&&(we=v(o.pos-k,M))){let P=new Uint16Array(we.size-we.skip),N=o.pos-we.size,B=P.length;for(;o.pos>N;)B=S(we.start,P,B);Ce=new Ar(P,z-we.start,r),je=we.start-w}else{let P=o.pos-G;o.next();let N=[],B=[],W=R>=l?R:-1,ee=0,en=z;for(;o.pos>P;)W>=0&&o.id==W&&o.size>=0?(o.end<=en-i&&(d(N,B,b,ee,o.end,en,W,J),ee=N.length,en=o.end),o.next()):c(b,P,N,B,W);if(W>=0&&ee>0&&ee<N.length&&d(N,B,b,ee,b,en,W,J),N.reverse(),B.reverse(),W>-1&&ee>0){let zt=h(Be);Ce=Ah(Be,N,B,0,N.length,0,z-b,zt,zt)}else Ce=p(Be,N,B,z-b,J-z)}x.push(Ce),C.push(je)}function h(w){return(k,x,C)=>{let M=0,R=k.length-1,b,z;if(R>=0&&(b=k[R])instanceof ae){if(!R&&b.type==w&&b.length==C)return b;(z=b.prop(V.lookAhead))&&(M=x[R]+b.length+z)}return p(w,k,x,C,M)}}function d(w,k,x,C,M,R,b,z){let G=[],J=[];for(;w.length>C;)G.push(w.pop()),J.push(k.pop()+x-M);w.push(p(r.types[b],G,J,R-M,z-R)),k.push(M-x)}function p(w,k,x,C,M=0,R){if(a){let b=[V.contextHash,a];R=R?[b].concat(R):[b]}if(M>25){let b=[V.lookAhead,M];R=R?[b].concat(R):[b]}return new ae(w,k,x,C,R)}function v(w,k){let x=o.fork(),C=0,M=0,R=0,b=x.end-i,z={size:0,start:0,skip:0};e:for(let G=x.pos-w;x.pos>G;){let J=x.size;if(x.id==k&&J>=0){z.size=C,z.start=M,z.skip=R,R+=4,C+=4,x.next();continue}let Be=x.pos-J;if(J<0||Be<G||x.start<b)break;let Ce=x.id>=l?4:0,we=x.start;for(x.next();x.pos>Be;){if(x.size<0)if(x.size==-3)Ce+=4;else break e;else x.id>=l&&(Ce+=4);x.next()}M=we,C+=J,R+=Ce}return(k<0||C==w)&&(z.size=C,z.start=M,z.skip=R),z.size>4?z:void 0}function S(w,k,x){let{id:C,start:M,end:R,size:b}=o;if(o.next(),b>=0&&C<l){let z=x;if(b>4){let G=o.pos-(b-4);for(;o.pos>G;)x=S(w,k,x)}k[--x]=z,k[--x]=R-w,k[--x]=M-w,k[--x]=C}else b==-3?a=C:b==-4&&(f=C);return x}let m=[],g=[];for(;o.pos>0;)c(t.start||0,t.bufferStart||0,m,g,-1);let y=(e=t.length)!==null&&e!==void 0?e:m.length?g[0]+m[0].length:0;return new ae(u[t.topID],m.reverse(),g.reverse(),y)}const lm=new WeakMap;function Tl(t,e){if(!t.isAnonymous||e instanceof Ar||e.type!=t)return 1;let n=lm.get(e);if(n==null){n=1;for(let r of e.children){if(r.type!=t||!(r instanceof ae)){n=1;break}n+=Tl(t,r)}lm.set(e,n)}return n}function Ah(t,e,n,r,i,s,l,o,u){let a=0;for(let p=r;p<i;p++)a+=Tl(t,e[p]);let f=Math.ceil(a*1.5/8),c=[],h=[];function d(p,v,S,m,g){for(let y=S;y<m;){let w=y,k=v[y],x=Tl(t,p[y]);for(y++;y<m;y++){let C=Tl(t,p[y]);if(x+C>=f)break;x+=C}if(y==w+1){if(x>f){let C=p[w];d(C.children,C.positions,0,C.children.length,v[w]+g);continue}c.push(p[w])}else{let C=v[y-1]+p[y-1].length-k;c.push(Ah(t,p,v,w,y,k,C,null,u))}h.push(k+g-s)}}return d(e,n,r,i,0),(o||u)(c,h,l)}class fr{constructor(e,n,r,i,s=!1,l=!1){this.from=e,this.to=n,this.tree=r,this.offset=i,this.open=(s?1:0)|(l?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,n=[],r=!1){let i=[new fr(0,e.length,e,0,!1,r)];for(let s of n)s.to>e.length&&i.push(s);return i}static applyChanges(e,n,r=128){if(!n.length)return e;let i=[],s=1,l=e.length?e[0]:null;for(let o=0,u=0,a=0;;o++){let f=o<n.length?n[o]:null,c=f?f.fromA:1e9;if(c-u>=r)for(;l&&l.from<c;){let h=l;if(u>=h.from||c<=h.to||a){let d=Math.max(h.from,u)-a,p=Math.min(h.to,c)-a;h=d>=p?null:new fr(d,p,h.tree,h.offset+a,o>0,!!f)}if(h&&i.push(h),l.to>c)break;l=s<e.length?e[s++]:null}if(!f)break;u=f.toA,a=f.toA-f.toB}return i}}class v1{startParse(e,n,r){return typeof e=="string"&&(e=new hC(e)),r=r?r.length?r.map(i=>new ma(i.from,i.to)):[new ma(0,0)]:[new ma(0,e.length)],this.createParse(e,n||[],r)}parse(e,n,r){let i=this.startParse(e,n,r);for(;;){let s=i.advance();if(s)return s}}}class hC{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,n){return this.string.slice(e,n)}}new V({perNode:!0});let dC=0;class Ht{constructor(e,n,r){this.set=e,this.base=n,this.modified=r,this.id=dC++}static define(e){if(e!=null&&e.base)throw new Error("Can not derive from a modified tag");let n=new Ht([],null,[]);if(n.set.push(n),e)for(let r of e.set)n.set.push(r);return n}static defineModifier(){let e=new xo;return n=>n.modified.indexOf(e)>-1?n:xo.get(n.base||n,n.modified.concat(e).sort((r,i)=>r.id-i.id))}}let pC=0;class xo{constructor(){this.instances=[],this.id=pC++}static get(e,n){if(!n.length)return e;let r=n[0].instances.find(o=>o.base==e&&mC(n,o.modified));if(r)return r;let i=[],s=new Ht(i,e,n);for(let o of n)o.instances.push(s);let l=w1(n);for(let o of e.set)for(let u of l)i.push(xo.get(o,u));return s}}function mC(t,e){return t.length==e.length&&t.every((n,r)=>n==e[r])}function w1(t){let e=[t];for(let n=0;n<t.length;n++)for(let r of w1(t.slice(0,n).concat(t.slice(n+1))))e.push(r);return e}function gC(t){let e=Object.create(null);for(let n in t){let r=t[n];Array.isArray(r)||(r=[r]);for(let i of n.split(" "))if(i){let s=[],l=2,o=i;for(let c=0;;){if(o=="..."&&c>0&&c+3==i.length){l=1;break}let h=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(o);if(!h)throw new RangeError("Invalid path: "+i);if(s.push(h[0]=="*"?"":h[0][0]=='"'?JSON.parse(h[0]):h[0]),c+=h[0].length,c==i.length)break;let d=i[c++];if(c==i.length&&d=="!"){l=0;break}if(d!="/")throw new RangeError("Invalid path: "+i);o=i.slice(c)}let u=s.length-1,a=s[u];if(!a)throw new RangeError("Invalid path: "+i);let f=new yC(r,l,u>0?s.slice(0,u):null);e[a]=f.sort(e[a])}}return S1.add(e)}const S1=new V;class yC{constructor(e,n,r,i){this.tags=e,this.mode=n,this.context=r,this.next=i}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}function k1(t,e){let n=Object.create(null);for(let s of t)if(!Array.isArray(s.tag))n[s.tag.id]=s.class;else for(let l of s.tag)n[l.id]=s.class;let{scope:r,all:i=null}=e||{};return{style:s=>{let l=i;for(let o of s)for(let u of o.set){let a=n[u.id];if(a){l=l?l+" "+a:a;break}}return l},scope:r}}function vC(t,e){let n=null;for(let r of t){let i=r.style(e);i&&(n=n?n+" "+i:i)}return n}function wC(t,e,n,r=0,i=t.length){let s=new SC(r,Array.isArray(e)?e:[e],n);s.highlightRange(t.cursor(),r,i,"",s.highlighters),s.flush(i)}class SC{constructor(e,n,r){this.at=e,this.highlighters=n,this.span=r,this.class=""}startSpan(e,n){n!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=n)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,n,r,i,s){let{type:l,from:o,to:u}=e;if(o>=r||u<=n)return;l.isTop&&(s=this.highlighters.filter(d=>!d.scope||d.scope(l)));let a=i,f=l.prop(S1),c=!1;for(;f;){if(!f.context||e.matchContext(f.context)){let d=vC(s,f.tags);d&&(a&&(a+=" "),a+=d,f.mode==1?i+=(i?" ":"")+d:f.mode==0&&(c=!0));break}f=f.next}if(this.startSpan(e.from,a),c)return;let h=e.tree&&e.tree.prop(V.mounted);if(h&&h.overlay){let d=e.node.enter(h.overlay[0].from+o,1),p=this.highlighters.filter(S=>!S.scope||S.scope(h.tree.type)),v=e.firstChild();for(let S=0,m=o;;S++){let g=S<h.overlay.length?h.overlay[S]:null,y=g?g.from+o:u,w=Math.max(n,m),k=Math.min(r,y);if(w<k&&v)for(;e.from<k&&(this.highlightRange(e,w,k,i,s),this.startSpan(Math.min(r,e.to),a),!(e.to>=y||!e.nextSibling())););if(!g||y>r)break;m=g.to+o,m>n&&(this.highlightRange(d.cursor(),Math.max(n,g.from+o),Math.min(r,m),i,p),this.startSpan(m,a))}v&&e.parent()}else if(e.firstChild()){do if(!(e.to<=n)){if(e.from>=r)break;this.highlightRange(e,n,r,i,s),this.startSpan(Math.min(r,e.to),a)}while(e.nextSibling());e.parent()}}}const O=Ht.define,hl=O(),kn=O(),om=O(kn),um=O(kn),xn=O(),dl=O(xn),ga=O(xn),jt=O(),Zn=O(jt),$t=O(),Vt=O(),Xf=O(),bi=O(Xf),pl=O(),D={comment:hl,lineComment:O(hl),blockComment:O(hl),docComment:O(hl),name:kn,variableName:O(kn),typeName:om,tagName:O(om),propertyName:um,attributeName:O(um),className:O(kn),labelName:O(kn),namespace:O(kn),macroName:O(kn),literal:xn,string:dl,docString:O(dl),character:O(dl),attributeValue:O(dl),number:ga,integer:O(ga),float:O(ga),bool:O(xn),regexp:O(xn),escape:O(xn),color:O(xn),url:O(xn),keyword:$t,self:O($t),null:O($t),atom:O($t),unit:O($t),modifier:O($t),operatorKeyword:O($t),controlKeyword:O($t),definitionKeyword:O($t),moduleKeyword:O($t),operator:Vt,derefOperator:O(Vt),arithmeticOperator:O(Vt),logicOperator:O(Vt),bitwiseOperator:O(Vt),compareOperator:O(Vt),updateOperator:O(Vt),definitionOperator:O(Vt),typeOperator:O(Vt),controlOperator:O(Vt),punctuation:Xf,separator:O(Xf),bracket:bi,angleBracket:O(bi),squareBracket:O(bi),paren:O(bi),brace:O(bi),content:jt,heading:Zn,heading1:O(Zn),heading2:O(Zn),heading3:O(Zn),heading4:O(Zn),heading5:O(Zn),heading6:O(Zn),contentSeparator:O(jt),list:O(jt),quote:O(jt),emphasis:O(jt),strong:O(jt),link:O(jt),monospace:O(jt),strikethrough:O(jt),inserted:O(),deleted:O(),changed:O(),invalid:O(),meta:pl,documentMeta:O(pl),annotation:O(pl),processingInstruction:O(pl),definition:Ht.defineModifier(),constant:Ht.defineModifier(),function:Ht.defineModifier(),standard:Ht.defineModifier(),local:Ht.defineModifier(),special:Ht.defineModifier()};k1([{tag:D.link,class:"tok-link"},{tag:D.heading,class:"tok-heading"},{tag:D.emphasis,class:"tok-emphasis"},{tag:D.strong,class:"tok-strong"},{tag:D.keyword,class:"tok-keyword"},{tag:D.atom,class:"tok-atom"},{tag:D.bool,class:"tok-bool"},{tag:D.url,class:"tok-url"},{tag:D.labelName,class:"tok-labelName"},{tag:D.inserted,class:"tok-inserted"},{tag:D.deleted,class:"tok-deleted"},{tag:D.literal,class:"tok-literal"},{tag:D.string,class:"tok-string"},{tag:D.number,class:"tok-number"},{tag:[D.regexp,D.escape,D.special(D.string)],class:"tok-string2"},{tag:D.variableName,class:"tok-variableName"},{tag:D.local(D.variableName),class:"tok-variableName tok-local"},{tag:D.definition(D.variableName),class:"tok-variableName tok-definition"},{tag:D.special(D.variableName),class:"tok-variableName2"},{tag:D.definition(D.propertyName),class:"tok-propertyName tok-definition"},{tag:D.typeName,class:"tok-typeName"},{tag:D.namespace,class:"tok-namespace"},{tag:D.className,class:"tok-className"},{tag:D.macroName,class:"tok-macroName"},{tag:D.propertyName,class:"tok-propertyName"},{tag:D.operator,class:"tok-operator"},{tag:D.comment,class:"tok-comment"},{tag:D.meta,class:"tok-meta"},{tag:D.invalid,class:"tok-invalid"},{tag:D.punctuation,class:"tok-punctuation"}]);var ya;const bs=new V;function kC(t){return I.define({combine:t?e=>e.concat(t):void 0})}class Lt{constructor(e,n,r=[]){this.data=e,H.prototype.hasOwnProperty("tree")||Object.defineProperty(H.prototype,"tree",{get(){return dt(this)}}),this.parser=n,this.extension=[hi.of(this),H.languageData.of((i,s,l)=>i.facet(am(i,s,l)))].concat(r)}isActiveAt(e,n,r=-1){return am(e,n,r)==this.data}findRegions(e){let n=e.facet(hi);if((n==null?void 0:n.data)==this.data)return[{from:0,to:e.doc.length}];if(!n||!n.allowsNesting)return[];let r=[],i=(s,l)=>{if(s.prop(bs)==this.data){r.push({from:l,to:l+s.length});return}let o=s.prop(V.mounted);if(o){if(o.tree.prop(bs)==this.data){if(o.overlay)for(let u of o.overlay)r.push({from:u.from+l,to:u.to+l});else r.push({from:l,to:l+s.length});return}else if(o.overlay){let u=r.length;if(i(o.tree,o.overlay[0].from+l),r.length>u)return}}for(let u=0;u<s.children.length;u++){let a=s.children[u];a instanceof ae&&i(a,s.positions[u]+l)}};return i(dt(e),0),r}get allowsNesting(){return!0}}Lt.setState=ge.define();function am(t,e,n){let r=t.facet(hi);if(!r)return null;let i=r.data;if(r.allowsNesting)for(let s=dt(t).topNode;s;s=s.enter(e,n,$e.ExcludeBuffers))i=s.type.prop(bs)||i;return i}function dt(t){let e=t.field(Lt.state,!1);return e?e.tree:ae.empty}class xC{constructor(e,n=e.length){this.doc=e,this.length=n,this.cursorPos=0,this.string="",this.cursor=e.iter()}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,n){let r=this.cursorPos-this.string.length;return e<r||n>=this.cursorPos?this.doc.sliceString(e,n):this.string.slice(e-r,n-r)}}let Di=null;class Ds{constructor(e,n,r=[],i,s,l,o,u){this.parser=e,this.state=n,this.fragments=r,this.tree=i,this.treeLen=s,this.viewport=l,this.skipped=o,this.scheduleOn=u,this.parse=null,this.tempSkipped=[]}startParse(){return this.parser.startParse(new xC(this.state.doc),this.fragments)}work(e,n){return n!=null&&n>=this.state.doc.length&&(n=void 0),this.tree!=ae.empty&&this.isDone(n!=null?n:this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var r;if(typeof e=="number"){let i=Date.now()+e;e=()=>Date.now()>i}for(this.parse||(this.parse=this.startParse()),n!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>n)&&n<this.state.doc.length&&this.parse.stopAt(n);;){let i=this.parse.advance();if(i)if(this.fragments=this.withoutTempSkipped(fr.addTree(i,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(r=this.parse.stoppedAt)!==null&&r!==void 0?r:this.state.doc.length,this.tree=i,this.parse=null,this.treeLen<(n!=null?n:this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,n;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(n=this.parse.advance()););}),this.treeLen=e,this.tree=n,this.fragments=this.withoutTempSkipped(fr.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let n=Di;Di=this;try{return e()}finally{Di=n}}withoutTempSkipped(e){for(let n;n=this.tempSkipped.pop();)e=fm(e,n.from,n.to);return e}changes(e,n){let{fragments:r,tree:i,treeLen:s,viewport:l,skipped:o}=this;if(this.takeTree(),!e.empty){let u=[];if(e.iterChangedRanges((a,f,c,h)=>u.push({fromA:a,toA:f,fromB:c,toB:h})),r=fr.applyChanges(r,u),i=ae.empty,s=0,l={from:e.mapPos(l.from,-1),to:e.mapPos(l.to,1)},this.skipped.length){o=[];for(let a of this.skipped){let f=e.mapPos(a.from,1),c=e.mapPos(a.to,-1);f<c&&o.push({from:f,to:c})}}}return new Ds(this.parser,n,r,i,s,l,o,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let n=this.skipped.length;for(let r=0;r<this.skipped.length;r++){let{from:i,to:s}=this.skipped[r];i<e.to&&s>e.from&&(this.fragments=fm(this.fragments,i,s),this.skipped.splice(r--,1))}return this.skipped.length>=n?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,n){this.skipped.push({from:e,to:n})}static getSkippingParser(e){return new class extends v1{createParse(n,r,i){let s=i[0].from,l=i[i.length-1].to;return{parsedPos:s,advance(){let u=Di;if(u){for(let a of i)u.tempSkipped.push(a);e&&(u.scheduleOn=u.scheduleOn?Promise.all([u.scheduleOn,e]):e)}return this.parsedPos=l,new ae(st.none,[],[],l-s)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let n=this.fragments;return this.treeLen>=e&&n.length&&n[0].from==0&&n[0].to>=e}static get(){return Di}}function fm(t,e,n){return fr.applyChanges(t,[{fromA:e,toA:n,fromB:e,toB:n}])}class ci{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let n=this.context.changes(e.changes,e.state),r=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),n.viewport.to);return n.work(20,r)||n.takeTree(),new ci(n)}static init(e){let n=Math.min(3e3,e.doc.length),r=new Ds(e.facet(hi).parser,e,[],ae.empty,0,{from:0,to:n},[],null);return r.work(20,n)||r.takeTree(),new ci(r)}}Lt.state=gn.define({create:ci.init,update(t,e){for(let n of e.effects)if(n.is(Lt.setState))return n.value;return e.startState.facet(hi)!=e.state.facet(hi)?ci.init(e.state):t.apply(e)}});let x1=t=>{let e=setTimeout(()=>t(),500);return()=>clearTimeout(e)};typeof requestIdleCallback!="undefined"&&(x1=t=>{let e=-1,n=setTimeout(()=>{e=requestIdleCallback(t,{timeout:500-100})},100);return()=>e<0?clearTimeout(n):cancelIdleCallback(e)});const va=typeof navigator!="undefined"&&((ya=navigator.scheduling)===null||ya===void 0?void 0:ya.isInputPending)?()=>navigator.scheduling.isInputPending():null,CC=pn.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let n=this.view.state.field(Lt.state).context;(n.updateViewport(e.view.viewport)||this.view.viewport.to>n.treeLen)&&this.scheduleWork(),e.docChanged&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(n)}scheduleWork(){if(this.working)return;let{state:e}=this.view,n=e.field(Lt.state);(n.tree!=n.context.tree||!n.context.isDone(e.doc.length))&&(this.working=x1(this.work))}work(e){this.working=null;let n=Date.now();if(this.chunkEnd<n&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=n+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:r,viewport:{to:i}}=this.view,s=r.field(Lt.state);if(s.tree==s.context.tree&&s.context.isDone(i+1e5))return;let l=Date.now()+Math.min(this.chunkBudget,100,e&&!va?Math.max(25,e.timeRemaining()-5):1e9),o=s.context.treeLen<i&&r.doc.length>i+1e3,u=s.context.work(()=>va&&va()||Date.now()>l,i+(o?0:1e5));this.chunkBudget-=Date.now()-n,(u||this.chunkBudget<=0)&&(s.context.takeTree(),this.view.dispatch({effects:Lt.setState.of(new ci(s.context))})),this.chunkBudget>0&&!(u&&!o)&&this.scheduleWork(),this.checkAsyncSchedule(s.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(n=>$n(this.view.state,n)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),hi=I.define({combine(t){return t.length?t[0]:null},enables:[Lt.state,CC]});class vE{constructor(e,n=[]){this.language=e,this.support=n,this.extension=[e,n]}}const C1=I.define(),Eh=I.define({combine:t=>{if(!t.length)return"  ";if(!/^(?: +|\t+)$/.test(t[0]))throw new Error("Invalid indent unit: "+JSON.stringify(t[0]));return t[0]}});function Sr(t){let e=t.facet(Eh);return e.charCodeAt(0)==9?t.tabSize*e.length:e.length}function Co(t,e){let n="",r=t.tabSize;if(t.facet(Eh).charCodeAt(0)==9)for(;e>=r;)n+="	",e-=r;for(let i=0;i<e;i++)n+=" ";return n}function A1(t,e){t instanceof H&&(t=new mu(t));for(let r of t.state.facet(C1)){let i=r(t,e);if(i!=null)return i}let n=dt(t.state);return n?EC(t,n,e):null}class mu{constructor(e,n={}){this.state=e,this.options=n,this.unit=Sr(e)}lineAt(e,n=1){let r=this.state.doc.lineAt(e),{simulateBreak:i,simulateDoubleBreak:s}=this.options;return i!=null&&i>=r.from&&i<=r.to?s&&i==e?{text:"",from:e}:(n<0?i<e:i<=e)?{text:r.text.slice(i-r.from),from:i}:{text:r.text.slice(0,i-r.from),from:r.from}:r}textAfterPos(e,n=1){if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";let{text:r,from:i}=this.lineAt(e,n);return r.slice(e-i,Math.min(r.length,e+100-i))}column(e,n=1){let{text:r,from:i}=this.lineAt(e,n),s=this.countColumn(r,e-i),l=this.options.overrideIndentation?this.options.overrideIndentation(i):-1;return l>-1&&(s+=l-this.countColumn(r,r.search(/\S|$/))),s}countColumn(e,n=e.length){return mh(e,this.state.tabSize,n)}lineIndent(e,n=1){let{text:r,from:i}=this.lineAt(e,n),s=this.options.overrideIndentation;if(s){let l=s(i);if(l>-1)return l}return this.countColumn(r,r.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const AC=new V;function EC(t,e,n){return E1(e.resolveInner(n).enterUnfinishedNodesBefore(n),n,t)}function PC(t){return t.pos==t.options.simulateBreak&&t.options.simulateDoubleBreak}function OC(t){let e=t.type.prop(AC);if(e)return e;let n=t.firstChild,r;if(n&&(r=n.type.prop(V.closedBy))){let i=t.lastChild,s=i&&r.indexOf(i.name)>-1;return l=>RC(l,!0,1,void 0,s&&!PC(l)?i.from:void 0)}return t.parent==null?MC:null}function E1(t,e,n){for(;t;t=t.parent){let r=OC(t);if(r)return r(new bC(n,e,t))}return null}function MC(){return 0}class bC extends mu{constructor(e,n,r){super(e.state,e.options),this.base=e,this.pos=n,this.node=r}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){let e=this.state.doc.lineAt(this.node.from);for(;;){let n=this.node.resolve(e.from);for(;n.parent&&n.parent.from==n.from;)n=n.parent;if(DC(n,this.node))break;e=this.state.doc.lineAt(n.from)}return this.lineIndent(e.from)}continue(){let e=this.node.parent;return e?E1(e,this.pos,this.base):0}}function DC(t,e){for(let n=e;n;n=n.parent)if(t==n)return!0;return!1}function TC(t){let e=t.node,n=e.childAfter(e.from),r=e.lastChild;if(!n)return null;let i=t.options.simulateBreak,s=t.state.doc.lineAt(n.from),l=i==null||i<=s.from?s.to:Math.min(s.to,i);for(let o=n.to;;){let u=e.childAfter(o);if(!u||u==r)return null;if(!u.type.isSkipped)return u.from<l?n:null;o=u.to}}function RC(t,e,n,r,i){let s=t.textAfter,l=s.match(/^\s*/)[0].length,o=r&&s.slice(l,l+r.length)==r||i==t.pos+l,u=e?TC(t):null;return u?o?t.column(u.from):t.column(u.to):t.baseIndent+(o?0:t.unit*n)}class gu{constructor(e,n){let r;function i(l){let o=Kn.newName();return(r||(r=Object.create(null)))["."+o]=l,o}const s=n.scope;this.scope=s instanceof Lt?l=>l.prop(bs)==s.data:s?l=>l==s:void 0,this.style=k1(e.map(l=>({tag:l.tag,class:l.class||i(Object.assign({},l,{tag:null}))})),{all:typeof n.all=="string"?n.all:n.all?i(n.all):void 0}).style,this.module=r?new Kn(r):null,this.themeType=n.themeType}static define(e,n){return new gu(e,n||{})}}const Zf=I.define(),P1=I.define({combine(t){return t.length?[t[0]]:null}});function wa(t){let e=t.facet(Zf);return e.length?e:t.facet(P1)}function wE(t,e){let n=[LC],r;return t instanceof gu&&(t.module&&n.push(j.styleModule.of(t.module)),r=t.themeType),e!=null&&e.fallback?n.push(P1.of(t)):r?n.push(Zf.computeN([j.darkTheme],i=>i.facet(j.darkTheme)==(r=="dark")?[t]:[])):n.push(Zf.of(t)),n}class NC{constructor(e){this.markCache=Object.create(null),this.tree=dt(e.state),this.decorations=this.buildDeco(e,wa(e.state))}update(e){let n=dt(e.state),r=wa(e.state),i=r!=wa(e.startState);n.length<e.view.viewport.to&&!i&&n.type==this.tree.type?this.decorations=this.decorations.map(e.changes):(n!=this.tree||e.viewportChanged||i)&&(this.tree=n,this.decorations=this.buildDeco(e.view,r))}buildDeco(e,n){if(!n||!this.tree.length)return he.none;let r=new As;for(let{from:i,to:s}of e.visibleRanges)wC(this.tree,n,(l,o,u)=>{r.add(l,o,this.markCache[u]||(this.markCache[u]=he.mark({class:u})))},i,s);return r.finish()}}const LC=hh.high(pn.fromClass(NC,{decorations:t=>t.decorations})),SE=gu.define([{tag:D.meta,color:"#7a757a"},{tag:D.link,textDecoration:"underline"},{tag:D.heading,textDecoration:"underline",fontWeight:"bold"},{tag:D.emphasis,fontStyle:"italic"},{tag:D.strong,fontWeight:"bold"},{tag:D.strikethrough,textDecoration:"line-through"},{tag:D.keyword,color:"#708"},{tag:[D.atom,D.bool,D.url,D.contentSeparator,D.labelName],color:"#219"},{tag:[D.literal,D.inserted],color:"#164"},{tag:[D.string,D.deleted],color:"#a11"},{tag:[D.regexp,D.escape,D.special(D.string)],color:"#e40"},{tag:D.definition(D.variableName),color:"#00f"},{tag:D.local(D.variableName),color:"#30a"},{tag:[D.typeName,D.namespace],color:"#085"},{tag:D.className,color:"#167"},{tag:[D.special(D.variableName),D.macroName],color:"#256"},{tag:D.definition(D.propertyName),color:"#00c"},{tag:D.comment,color:"#940"},{tag:D.invalid,color:"#f00"}]),BC=1e4,IC="()[]{}";function ec(t,e,n){let r=t.prop(e<0?V.openedBy:V.closedBy);if(r)return r;if(t.name.length==1){let i=n.indexOf(t.name);if(i>-1&&i%2==(e<0?1:0))return[n[i+e]]}return null}function jr(t,e,n,r={}){let i=r.maxScanDistance||BC,s=r.brackets||IC,l=dt(t),o=l.resolveInner(e,n);for(let u=o;u;u=u.parent){let a=ec(u.type,n,s);if(a&&u.from<u.to)return zC(t,e,n,u,a,s)}return _C(t,e,n,l,o.type,i,s)}function zC(t,e,n,r,i,s){let l=r.parent,o={from:r.from,to:r.to},u=0,a=l==null?void 0:l.cursor();if(a&&(n<0?a.childBefore(r.from):a.childAfter(r.to)))do if(n<0?a.to<=r.from:a.from>=r.to){if(u==0&&i.indexOf(a.type.name)>-1&&a.from<a.to)return{start:o,end:{from:a.from,to:a.to},matched:!0};if(ec(a.type,n,s))u++;else if(ec(a.type,-n,s)&&(u--,u==0))return{start:o,end:a.from==a.to?void 0:{from:a.from,to:a.to},matched:!1}}while(n<0?a.prevSibling():a.nextSibling());return{start:o,matched:!1}}function _C(t,e,n,r,i,s,l){let o=n<0?t.sliceDoc(e-1,e):t.sliceDoc(e,e+1),u=l.indexOf(o);if(u<0||u%2==0!=n>0)return null;let a={from:n<0?e-1:e,to:n>0?e+1:e},f=t.doc.iterRange(e,n>0?t.doc.length:0),c=0;for(let h=0;!f.next().done&&h<=s;){let d=f.value;n<0&&(h+=d.length);let p=e+h*n;for(let v=n>0?0:d.length-1,S=n>0?d.length:-1;v!=S;v+=n){let m=l.indexOf(d[v]);if(!(m<0||r.resolve(p+v,1).type!=i))if(m%2==0==n>0)c++;else{if(c==1)return{start:a,end:{from:p+v,to:p+v+1},matched:m>>1==u>>1};c--}}n>0&&(h+=d.length)}return f.done?{start:a,matched:!1}:null}function cm(t,e,n,r=0,i=0){e==null&&(e=t.search(/[^\s\u00a0]/),e==-1&&(e=t.length));let s=i;for(let l=r;l<e;l++)t.charCodeAt(l)==9?s+=n-s%n:s++;return s}class O1{constructor(e,n,r){this.string=e,this.tabSize=n,this.indentUnit=r,this.pos=0,this.start=0,this.lastColumnPos=0,this.lastColumnValue=0}eol(){return this.pos>=this.string.length}sol(){return this.pos==0}peek(){return this.string.charAt(this.pos)||void 0}next(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)}eat(e){let n=this.string.charAt(this.pos),r;if(typeof e=="string"?r=n==e:r=n&&(e instanceof RegExp?e.test(n):e(n)),r)return++this.pos,n}eatWhile(e){let n=this.pos;for(;this.eat(e););return this.pos>n}eatSpace(){let e=this.pos;for(;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e}skipToEnd(){this.pos=this.string.length}skipTo(e){let n=this.string.indexOf(e,this.pos);if(n>-1)return this.pos=n,!0}backUp(e){this.pos-=e}column(){return this.lastColumnPos<this.start&&(this.lastColumnValue=cm(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue}indentation(){return cm(this.string,null,this.tabSize)}match(e,n,r){if(typeof e=="string"){let i=l=>r?l.toLowerCase():l,s=this.string.substr(this.pos,e.length);return i(s)==i(e)?(n!==!1&&(this.pos+=e.length),!0):null}else{let i=this.string.slice(this.pos).match(e);return i&&i.index>0?null:(i&&n!==!1&&(this.pos+=i[0].length),i)}}current(){return this.string.slice(this.start,this.pos)}}function FC(t){return{token:t.token,blankLine:t.blankLine||(()=>{}),startState:t.startState||(()=>!0),copyState:t.copyState||$C,indent:t.indent||(()=>null),languageData:t.languageData||{},tokenTable:t.tokenTable||Oh}}function $C(t){if(typeof t!="object")return t;let e={};for(let n in t){let r=t[n];e[n]=r instanceof Array?r.slice():r}return e}class M1 extends Lt{constructor(e){let n=kC(e.languageData),r=FC(e),i,s=new class extends v1{createParse(l,o,u){return new jC(i,l,o,u)}};super(n,s,[C1.of((l,o)=>this.getIndent(l,o))]),this.topNode=UC(n),i=this,this.streamParser=r,this.stateAfter=new V({perNode:!0}),this.tokenTable=e.tokenTable?new R1(r.tokenTable):HC}static define(e){return new M1(e)}getIndent(e,n){let r=dt(e.state),i=r.resolve(n);for(;i&&i.type!=this.topNode;)i=i.parent;if(!i)return null;let s=Ph(this,r,0,i.from,n),l,o;if(s?(o=s.state,l=s.pos+1):(o=this.streamParser.startState(e.unit),l=0),n-l>1e4)return null;for(;l<n;){let a=e.state.doc.lineAt(l),f=Math.min(n,a.to);if(a.length){let c=new O1(a.text,e.state.tabSize,e.unit);for(;c.pos<f-a.from;)D1(this.streamParser.token,c,o)}else this.streamParser.blankLine(o,e.unit);if(f==n)break;l=a.to+1}let{text:u}=e.lineAt(n);return this.streamParser.indent(o,/^\s*(.*)/.exec(u)[1],e)}get allowsNesting(){return!1}}function Ph(t,e,n,r,i){let s=n>=r&&n+e.length<=i&&e.prop(t.stateAfter);if(s)return{state:t.streamParser.copyState(s),pos:n+e.length};for(let l=e.children.length-1;l>=0;l--){let o=e.children[l],u=n+e.positions[l],a=o instanceof ae&&u<i&&Ph(t,o,u,r,i);if(a)return a}return null}function b1(t,e,n,r,i){if(i&&n<=0&&r>=e.length)return e;!i&&e.type==t.topNode&&(i=!0);for(let s=e.children.length-1;s>=0;s--){let l=e.positions[s],o=e.children[s],u;if(l<r&&o instanceof ae){if(!(u=b1(t,o,n-l,r-l,i)))break;return i?new ae(e.type,e.children.slice(0,s).concat(u),e.positions.slice(0,s+1),l+u.length):u}}return null}function VC(t,e,n,r){for(let i of e){let s=i.from+(i.openStart?25:0),l=i.to-(i.openEnd?25:0),o=s<=n&&l>n&&Ph(t,i.tree,0-i.offset,n,l),u;if(o&&(u=b1(t,i.tree,n+i.offset,o.pos+i.offset,!1)))return{state:o.state,tree:u}}return{state:t.streamParser.startState(r?Sr(r):4),tree:ae.empty}}class jC{constructor(e,n,r,i){this.lang=e,this.input=n,this.fragments=r,this.ranges=i,this.stoppedAt=null,this.chunks=[],this.chunkPos=[],this.chunk=[],this.chunkReused=void 0,this.rangeIndex=0,this.to=i[i.length-1].to;let s=Ds.get(),l=i[0].from,{state:o,tree:u}=VC(e,r,l,s==null?void 0:s.state);this.state=o,this.parsedPos=this.chunkStart=l+u.length;for(let a=0;a<u.children.length;a++)this.chunks.push(u.children[a]),this.chunkPos.push(u.positions[a]);s&&this.parsedPos<s.viewport.from-1e5&&(this.state=this.lang.streamParser.startState(Sr(s.state)),s.skipUntilInView(this.parsedPos,s.viewport.from),this.parsedPos=s.viewport.from),this.moveRangeIndex()}advance(){let e=Ds.get(),n=this.stoppedAt==null?this.to:Math.min(this.to,this.stoppedAt),r=Math.min(n,this.chunkStart+2048);for(e&&(r=Math.min(r,e.viewport.to));this.parsedPos<r;)this.parseLine(e);return this.chunkStart<this.parsedPos&&this.finishChunk(),this.parsedPos>=n?this.finish():e&&this.parsedPos>=e.viewport.to?(e.skipUntilInView(this.parsedPos,n),this.finish()):null}stopAt(e){this.stoppedAt=e}lineAfter(e){let n=this.input.chunk(e);if(this.input.lineChunks)n==`
`&&(n="");else{let r=n.indexOf(`
`);r>-1&&(n=n.slice(0,r))}return e+n.length<=this.to?n:n.slice(0,this.to-e)}nextLine(){let e=this.parsedPos,n=this.lineAfter(e),r=e+n.length;for(let i=this.rangeIndex;;){let s=this.ranges[i].to;if(s>=r||(n=n.slice(0,s-(r-n.length)),i++,i==this.ranges.length))break;let l=this.ranges[i].from,o=this.lineAfter(l);n+=o,r=l+o.length}return{line:n,end:r}}skipGapsTo(e,n,r){for(;;){let i=this.ranges[this.rangeIndex].to,s=e+n;if(r>0?i>s:i>=s)break;n+=this.ranges[++this.rangeIndex].from-i}return n}moveRangeIndex(){for(;this.ranges[this.rangeIndex].to<this.parsedPos;)this.rangeIndex++}emitToken(e,n,r,i,s){if(this.ranges.length>1){s=this.skipGapsTo(n,s,1),n+=s;let l=this.chunk.length;s=this.skipGapsTo(r,s,-1),r+=s,i+=this.chunk.length-l}return this.chunk.push(e,n,r,i),s}parseLine(e){let{line:n,end:r}=this.nextLine(),i=0,{streamParser:s}=this.lang,l=new O1(n,e?e.state.tabSize:4,e?Sr(e.state):2);if(l.eol())s.blankLine(this.state,l.indentUnit);else for(;!l.eol();){let o=D1(s.token,l,this.state);if(o&&(i=this.emitToken(this.lang.tokenTable.resolve(o),this.parsedPos+l.start,this.parsedPos+l.pos,4,i)),l.start>1e4)break}this.parsedPos=r,this.moveRangeIndex(),this.parsedPos<this.to&&this.parsedPos++}finishChunk(){let e=ae.build({buffer:this.chunk,start:this.chunkStart,length:this.parsedPos-this.chunkStart,nodeSet:WC,topID:0,maxBufferLength:2048,reused:this.chunkReused});e=new ae(e.type,e.children,e.positions,e.length,[[this.lang.stateAfter,this.lang.streamParser.copyState(this.state)]]),this.chunks.push(e),this.chunkPos.push(this.chunkStart-this.ranges[0].from),this.chunk=[],this.chunkReused=void 0,this.chunkStart=this.parsedPos}finish(){return new ae(this.lang.topNode,this.chunks,this.chunkPos,this.parsedPos-this.ranges[0].from).balance()}}function D1(t,e,n){e.start=e.pos;for(let r=0;r<10;r++){let i=t(e,n);if(e.pos>e.start)return i}throw new Error("Stream parser failed to advance stream.")}const Oh=Object.create(null),Ts=[st.none],WC=new kh(Ts),hm=[],T1=Object.create(null);for(let[t,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","typeName"],["attribute","propertyName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])T1[t]=N1(Oh,e);class R1{constructor(e){this.extra=e,this.table=Object.assign(Object.create(null),T1)}resolve(e){return e?this.table[e]||(this.table[e]=N1(this.extra,e)):0}}const HC=new R1(Oh);function Sa(t,e){hm.indexOf(t)>-1||(hm.push(t),console.warn(e))}function N1(t,e){let n=null;for(let s of e.split(".")){let l=t[s]||D[s];l?typeof l=="function"?n?n=l(n):Sa(s,`Modifier ${s} used at start of tag`):n?Sa(s,`Tag ${s} used as modifier`):n=l:Sa(s,`Unknown highlighting tag ${s}`)}if(!n)return 0;let r=e.replace(/ /g,"_"),i=st.define({id:Ts.length,name:r,props:[gC({[r]:n})]});return Ts.push(i),i.id}function UC(t){let e=st.define({id:Ts.length,name:"Document",props:[bs.add(()=>t)]});return Ts.push(e),e}const KC=t=>{let e=bh(t.state);return e.line?GC(t):e.block?qC(t):!1};function Mh(t,e){return({state:n,dispatch:r})=>{if(n.readOnly)return!1;let i=t(e,n);return i?(r(n.update(i)),!0):!1}}const GC=Mh(XC,0),QC=Mh(L1,0),qC=Mh((t,e)=>L1(t,e,YC(e)),0);function bh(t,e=t.selection.main.head){let n=t.languageDataAt("commentTokens",e);return n.length?n[0]:{}}const Ti=50;function JC(t,{open:e,close:n},r,i){let s=t.sliceDoc(r-Ti,r),l=t.sliceDoc(i,i+Ti),o=/\s*$/.exec(s)[0].length,u=/^\s*/.exec(l)[0].length,a=s.length-o;if(s.slice(a-e.length,a)==e&&l.slice(u,u+n.length)==n)return{open:{pos:r-o,margin:o&&1},close:{pos:i+u,margin:u&&1}};let f,c;i-r<=2*Ti?f=c=t.sliceDoc(r,i):(f=t.sliceDoc(r,r+Ti),c=t.sliceDoc(i-Ti,i));let h=/^\s*/.exec(f)[0].length,d=/\s*$/.exec(c)[0].length,p=c.length-d-n.length;return f.slice(h,h+e.length)==e&&c.slice(p,p+n.length)==n?{open:{pos:r+h+e.length,margin:/\s/.test(f.charAt(h+e.length))?1:0},close:{pos:i-d-n.length,margin:/\s/.test(c.charAt(p-1))?1:0}}:null}function YC(t){let e=[];for(let n of t.selection.ranges){let r=t.doc.lineAt(n.from),i=n.to<=r.to?r:t.doc.lineAt(n.to),s=e.length-1;s>=0&&e[s].to>r.from?e[s].to=i.to:e.push({from:r.from,to:i.to})}return e}function L1(t,e,n=e.selection.ranges){let r=n.map(s=>bh(e,s.from).block);if(!r.every(s=>s))return null;let i=n.map((s,l)=>JC(e,r[l],s.from,s.to));if(t!=2&&!i.every(s=>s))return{changes:e.changes(n.map((s,l)=>i[l]?[]:[{from:s.from,insert:r[l].open+" "},{from:s.to,insert:" "+r[l].close}]))};if(t!=1&&i.some(s=>s)){let s=[];for(let l=0,o;l<i.length;l++)if(o=i[l]){let u=r[l],{open:a,close:f}=o;s.push({from:a.pos-u.open.length,to:a.pos+a.margin},{from:f.pos-f.margin,to:f.pos+u.close.length})}return{changes:s}}return null}function XC(t,e,n=e.selection.ranges){let r=[],i=-1;for(let{from:s,to:l}of n){let o=r.length,u=1e9;for(let a=s;a<=l;){let f=e.doc.lineAt(a);if(f.from>i&&(s==l||l>f.from)){i=f.from;let c=bh(e,a).line;if(!c)continue;let h=/^\s*/.exec(f.text)[0].length,d=h==f.length,p=f.text.slice(h,h+c.length)==c?h:-1;h<f.text.length&&h<u&&(u=h),r.push({line:f,comment:p,token:c,indent:h,empty:d,single:!1})}a=f.to+1}if(u<1e9)for(let a=o;a<r.length;a++)r[a].indent<r[a].line.text.length&&(r[a].indent=u);r.length==o+1&&(r[o].single=!0)}if(t!=2&&r.some(s=>s.comment<0&&(!s.empty||s.single))){let s=[];for(let{line:o,token:u,indent:a,empty:f,single:c}of r)(c||!f)&&s.push({from:o.from+a,insert:u+" "});let l=e.changes(s);return{changes:l,selection:e.selection.map(l,1)}}else if(t!=1&&r.some(s=>s.comment>=0)){let s=[];for(let{line:l,comment:o,token:u}of r)if(o>=0){let a=l.from+o,f=a+u.length;l.text[f-l.from]==" "&&f++,s.push({from:a,to:f})}return{changes:s}}return null}const tc=Cr.define(),ZC=Cr.define(),eA=I.define(),B1=I.define({combine(t){return dh(t,{minDepth:100,newGroupDelay:500},{minDepth:Math.max,newGroupDelay:Math.min})}});function tA(t){let e=0;return t.iterChangedRanges((n,r)=>e=r),e}const I1=gn.define({create(){return Gt.empty},update(t,e){let n=e.state.facet(B1),r=e.annotation(tc);if(r){let u=e.docChanged?E.single(tA(e.changes)):void 0,a=Ze.fromTransaction(e,u),f=r.side,c=f==0?t.undone:t.done;return a?c=Ao(c,c.length,n.minDepth,a):c=$1(c,e.startState.selection),new Gt(f==0?r.rest:c,f==0?c:r.rest)}let i=e.annotation(ZC);if((i=="full"||i=="before")&&(t=t.isolate()),e.annotation(Pe.addToHistory)===!1)return e.changes.empty?t:t.addMapping(e.changes.desc);let s=Ze.fromTransaction(e),l=e.annotation(Pe.time),o=e.annotation(Pe.userEvent);return s?t=t.addChanges(s,l,o,n.newGroupDelay,n.minDepth):e.selection&&(t=t.addSelection(e.startState.selection,l,o,n.newGroupDelay)),(i=="full"||i=="after")&&(t=t.isolate()),t},toJSON(t){return{done:t.done.map(e=>e.toJSON()),undone:t.undone.map(e=>e.toJSON())}},fromJSON(t){return new Gt(t.done.map(Ze.fromJSON),t.undone.map(Ze.fromJSON))}});function kE(t={}){return[I1,B1.of(t),j.domEventHandlers({beforeinput(e,n){let r=e.inputType=="historyUndo"?z1:e.inputType=="historyRedo"?_1:null;return r?(e.preventDefault(),r(n)):!1}})]}function yu(t,e){return function({state:n,dispatch:r}){if(!e&&n.readOnly)return!1;let i=n.field(I1,!1);if(!i)return!1;let s=i.pop(t,n,e);return s?(r(s),!0):!1}}const z1=yu(0,!1),_1=yu(1,!1),nA=yu(0,!0),rA=yu(1,!0);class Ze{constructor(e,n,r,i,s){this.changes=e,this.effects=n,this.mapped=r,this.startSelection=i,this.selectionsAfter=s}setSelAfter(e){return new Ze(this.changes,this.effects,this.mapped,this.startSelection,e)}toJSON(){var e,n,r;return{changes:(e=this.changes)===null||e===void 0?void 0:e.toJSON(),mapped:(n=this.mapped)===null||n===void 0?void 0:n.toJSON(),startSelection:(r=this.startSelection)===null||r===void 0?void 0:r.toJSON(),selectionsAfter:this.selectionsAfter.map(i=>i.toJSON())}}static fromJSON(e){return new Ze(e.changes&&Ee.fromJSON(e.changes),[],e.mapped&&un.fromJSON(e.mapped),e.startSelection&&E.fromJSON(e.startSelection),e.selectionsAfter.map(E.fromJSON))}static fromTransaction(e,n){let r=St;for(let i of e.startState.facet(eA)){let s=i(e);s.length&&(r=r.concat(s))}return!r.length&&e.changes.empty?null:new Ze(e.changes.invert(e.startState.doc),r,void 0,n||e.startState.selection,St)}static selection(e){return new Ze(void 0,St,void 0,void 0,e)}}function Ao(t,e,n,r){let i=e+1>n+20?e-n-1:0,s=t.slice(i,e);return s.push(r),s}function iA(t,e){let n=[],r=!1;return t.iterChangedRanges((i,s)=>n.push(i,s)),e.iterChangedRanges((i,s,l,o)=>{for(let u=0;u<n.length;){let a=n[u++],f=n[u++];o>=a&&l<=f&&(r=!0)}}),r}function sA(t,e){return t.ranges.length==e.ranges.length&&t.ranges.filter((n,r)=>n.empty!=e.ranges[r].empty).length===0}function F1(t,e){return t.length?e.length?t.concat(e):t:e}const St=[],lA=200;function $1(t,e){if(t.length){let n=t[t.length-1],r=n.selectionsAfter.slice(Math.max(0,n.selectionsAfter.length-lA));return r.length&&r[r.length-1].eq(e)?t:(r.push(e),Ao(t,t.length-1,1e9,n.setSelAfter(r)))}else return[Ze.selection([e])]}function oA(t){let e=t[t.length-1],n=t.slice();return n[t.length-1]=e.setSelAfter(e.selectionsAfter.slice(0,e.selectionsAfter.length-1)),n}function ka(t,e){if(!t.length)return t;let n=t.length,r=St;for(;n;){let i=uA(t[n-1],e,r);if(i.changes&&!i.changes.empty||i.effects.length){let s=t.slice(0,n);return s[n-1]=i,s}else e=i.mapped,n--,r=i.selectionsAfter}return r.length?[Ze.selection(r)]:St}function uA(t,e,n){let r=F1(t.selectionsAfter.length?t.selectionsAfter.map(o=>o.map(e)):St,n);if(!t.changes)return Ze.selection(r);let i=t.changes.map(e),s=e.mapDesc(t.changes,!0),l=t.mapped?t.mapped.composeDesc(s):s;return new Ze(i,ge.mapEffects(t.effects,e),l,t.startSelection.map(s),r)}const aA=/^(input\.type|delete)($|\.)/;class Gt{constructor(e,n,r=0,i=void 0){this.done=e,this.undone=n,this.prevTime=r,this.prevUserEvent=i}isolate(){return this.prevTime?new Gt(this.done,this.undone):this}addChanges(e,n,r,i,s){let l=this.done,o=l[l.length-1];return o&&o.changes&&!o.changes.empty&&e.changes&&(!r||aA.test(r))&&(!o.selectionsAfter.length&&n-this.prevTime<i&&iA(o.changes,e.changes)||r=="input.type.compose")?l=Ao(l,l.length-1,s,new Ze(e.changes.compose(o.changes),F1(e.effects,o.effects),o.mapped,o.startSelection,St)):l=Ao(l,l.length,s,e),new Gt(l,St,n,r)}addSelection(e,n,r,i){let s=this.done.length?this.done[this.done.length-1].selectionsAfter:St;return s.length>0&&n-this.prevTime<i&&r==this.prevUserEvent&&r&&/^select($|\.)/.test(r)&&sA(s[s.length-1],e)?this:new Gt($1(this.done,e),this.undone,n,r)}addMapping(e){return new Gt(ka(this.done,e),ka(this.undone,e),this.prevTime,this.prevUserEvent)}pop(e,n,r){let i=e==0?this.done:this.undone;if(i.length==0)return null;let s=i[i.length-1];if(r&&s.selectionsAfter.length)return n.update({selection:s.selectionsAfter[s.selectionsAfter.length-1],annotations:tc.of({side:e,rest:oA(i)}),userEvent:e==0?"select.undo":"select.redo",scrollIntoView:!0});if(s.changes){let l=i.length==1?St:i.slice(0,i.length-1);return s.mapped&&(l=ka(l,s.mapped)),n.update({changes:s.changes,selection:s.startSelection,effects:s.effects,annotations:tc.of({side:e,rest:l}),filter:!1,userEvent:e==0?"undo":"redo",scrollIntoView:!0})}else return null}}Gt.empty=new Gt(St,St);const xE=[{key:"Mod-z",run:z1,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:_1,preventDefault:!0},{key:"Mod-u",run:nA,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:rA,preventDefault:!0}];function yi(t,e){return E.create(t.ranges.map(e),t.mainIndex)}function Xt(t,e){return t.update({selection:e,scrollIntoView:!0,userEvent:"select"})}function yn({state:t,dispatch:e},n){let r=yi(t.selection,n);return r.eq(t.selection)?!1:(e(Xt(t,r)),!0)}function vu(t,e){return E.cursor(e?t.to:t.from)}function V1(t,e){return yn(t,n=>n.empty?t.moveByChar(n,e):vu(n,e))}function Pt(t){return t.textDirectionAt(t.state.selection.main.head)==ve.LTR}const j1=t=>V1(t,!Pt(t)),W1=t=>V1(t,Pt(t));function H1(t,e){return yn(t,n=>n.empty?t.moveByGroup(n,e):vu(n,e))}const fA=t=>H1(t,!Pt(t)),cA=t=>H1(t,Pt(t));function hA(t,e,n){if(e.type.prop(n))return!0;let r=e.to-e.from;return r&&(r>2||/[^\s,.;:]/.test(t.sliceDoc(e.from,e.to)))||e.firstChild}function wu(t,e,n){let r=dt(t).resolveInner(e.head),i=n?V.closedBy:V.openedBy;for(let u=e.head;;){let a=n?r.childAfter(u):r.childBefore(u);if(!a)break;hA(t,a,i)?r=a:u=n?a.to:a.from}let s=r.type.prop(i),l,o;return s&&(l=n?jr(t,r.from,1):jr(t,r.to,-1))&&l.matched?o=n?l.end.to:l.end.from:o=n?r.to:r.from,E.cursor(o,n?-1:1)}const dA=t=>yn(t,e=>wu(t.state,e,!Pt(t))),pA=t=>yn(t,e=>wu(t.state,e,Pt(t)));function U1(t,e){return yn(t,n=>{if(!n.empty)return vu(n,e);let r=t.moveVertically(n,e);return r.head!=n.head?r:t.moveToLineBoundary(n,e)})}const K1=t=>U1(t,!1),G1=t=>U1(t,!0);function Q1(t,e){let{state:n}=t,r=yi(n.selection,o=>o.empty?t.moveVertically(o,e,Math.min(t.dom.clientHeight,innerHeight)):vu(o,e));if(r.eq(n.selection))return!1;let i=t.coordsAtPos(n.selection.main.head),s=t.scrollDOM.getBoundingClientRect(),l;return i&&i.top>s.top&&i.bottom<s.bottom&&i.top-s.top<=t.scrollDOM.scrollHeight-t.scrollDOM.scrollTop-t.scrollDOM.clientHeight&&(l=j.scrollIntoView(r.main.head,{y:"start",yMargin:i.top-s.top})),t.dispatch(Xt(n,r),{effects:l}),!0}const dm=t=>Q1(t,!1),nc=t=>Q1(t,!0);function Su(t,e,n){let r=t.lineBlockAt(e.head),i=t.moveToLineBoundary(e,n);if(i.head==e.head&&i.head!=(n?r.to:r.from)&&(i=t.moveToLineBoundary(e,n,!1)),!n&&i.head==r.from&&r.length){let s=/^\s*/.exec(t.state.sliceDoc(r.from,Math.min(r.from+100,r.to)))[0].length;s&&e.head!=r.from+s&&(i=E.cursor(r.from+s))}return i}const pm=t=>yn(t,e=>Su(t,e,!0)),mm=t=>yn(t,e=>Su(t,e,!1)),mA=t=>yn(t,e=>E.cursor(t.lineBlockAt(e.head).from,1)),gA=t=>yn(t,e=>E.cursor(t.lineBlockAt(e.head).to,-1));function yA(t,e,n){let r=!1,i=yi(t.selection,s=>{let l=jr(t,s.head,-1)||jr(t,s.head,1)||s.head>0&&jr(t,s.head-1,1)||s.head<t.doc.length&&jr(t,s.head+1,-1);if(!l||!l.end)return s;r=!0;let o=l.start.from==s.head?l.end.to:l.end.from;return n?E.range(s.anchor,o):E.cursor(o)});return r?(e(Xt(t,i)),!0):!1}const vA=({state:t,dispatch:e})=>yA(t,e,!1);function Zt(t,e){let n=yi(t.state.selection,r=>{let i=e(r);return E.range(r.anchor,i.head,i.goalColumn)});return n.eq(t.state.selection)?!1:(t.dispatch(Xt(t.state,n)),!0)}function q1(t,e){return Zt(t,n=>t.moveByChar(n,e))}const J1=t=>q1(t,!Pt(t)),Y1=t=>q1(t,Pt(t));function X1(t,e){return Zt(t,n=>t.moveByGroup(n,e))}const wA=t=>X1(t,!Pt(t)),SA=t=>X1(t,Pt(t)),kA=t=>Zt(t,e=>wu(t.state,e,!Pt(t))),xA=t=>Zt(t,e=>wu(t.state,e,Pt(t)));function Z1(t,e){return Zt(t,n=>t.moveVertically(n,e))}const ev=t=>Z1(t,!1),tv=t=>Z1(t,!0);function nv(t,e){return Zt(t,n=>t.moveVertically(n,e,Math.min(t.dom.clientHeight,innerHeight)))}const gm=t=>nv(t,!1),ym=t=>nv(t,!0),vm=t=>Zt(t,e=>Su(t,e,!0)),wm=t=>Zt(t,e=>Su(t,e,!1)),CA=t=>Zt(t,e=>E.cursor(t.lineBlockAt(e.head).from)),AA=t=>Zt(t,e=>E.cursor(t.lineBlockAt(e.head).to)),Sm=({state:t,dispatch:e})=>(e(Xt(t,{anchor:0})),!0),km=({state:t,dispatch:e})=>(e(Xt(t,{anchor:t.doc.length})),!0),xm=({state:t,dispatch:e})=>(e(Xt(t,{anchor:t.selection.main.anchor,head:0})),!0),Cm=({state:t,dispatch:e})=>(e(Xt(t,{anchor:t.selection.main.anchor,head:t.doc.length})),!0),EA=({state:t,dispatch:e})=>(e(t.update({selection:{anchor:0,head:t.doc.length},userEvent:"select"})),!0),PA=({state:t,dispatch:e})=>{let n=Cu(t).map(({from:r,to:i})=>E.range(r,Math.min(i+1,t.doc.length)));return e(t.update({selection:E.create(n),userEvent:"select"})),!0},OA=({state:t,dispatch:e})=>{let n=yi(t.selection,r=>{var i;let s=dt(t).resolveInner(r.head,1);for(;!(s.from<r.from&&s.to>=r.to||s.to>r.to&&s.from<=r.from||!(!((i=s.parent)===null||i===void 0)&&i.parent));)s=s.parent;return E.range(s.to,s.from)});return e(Xt(t,n)),!0},MA=({state:t,dispatch:e})=>{let n=t.selection,r=null;return n.ranges.length>1?r=E.create([n.main]):n.main.empty||(r=E.create([E.cursor(n.main.head)])),r?(e(Xt(t,r)),!0):!1};function ku({state:t,dispatch:e},n){if(t.readOnly)return!1;let r="delete.selection",i=t.changeByRange(s=>{let{from:l,to:o}=s;if(l==o){let u=n(l);u<l?r="delete.backward":u>l&&(r="delete.forward"),l=Math.min(l,u),o=Math.max(o,u)}return l==o?{range:s}:{changes:{from:l,to:o},range:E.cursor(l)}});return i.changes.empty?!1:(e(t.update(i,{scrollIntoView:!0,userEvent:r})),!0)}function xu(t,e,n){if(t instanceof j)for(let r of t.state.facet(j.atomicRanges).map(i=>i(t)))r.between(e,e,(i,s)=>{i<e&&s>e&&(e=n?s:i)});return e}const rv=(t,e)=>ku(t,n=>{let{state:r}=t,i=r.doc.lineAt(n),s,l;if(!e&&n>i.from&&n<i.from+200&&!/[^ \t]/.test(s=i.text.slice(0,n-i.from))){if(s[s.length-1]=="	")return n-1;let o=mh(s,r.tabSize),u=o%Sr(r)||Sr(r);for(let a=0;a<u&&s[s.length-1-a]==" ";a++)n--;l=n}else l=at(i.text,n-i.from,e,e)+i.from,l==n&&i.number!=(e?r.doc.lines:1)&&(l+=e?1:-1);return xu(t,l,e)}),rc=t=>rv(t,!1),iv=t=>rv(t,!0),sv=(t,e)=>ku(t,n=>{let r=n,{state:i}=t,s=i.doc.lineAt(r),l=i.charCategorizer(r);for(let o=null;;){if(r==(e?s.to:s.from)){r==n&&s.number!=(e?i.doc.lines:1)&&(r+=e?1:-1);break}let u=at(s.text,r-s.from,e)+s.from,a=s.text.slice(Math.min(r,u)-s.from,Math.max(r,u)-s.from),f=l(a);if(o!=null&&f!=o)break;(a!=" "||r!=n)&&(o=f),r=u}return xu(t,r,e)}),lv=t=>sv(t,!1),bA=t=>sv(t,!0),ov=t=>ku(t,e=>{let n=t.lineBlockAt(e).to;return xu(t,e<n?n:Math.min(t.state.doc.length,e+1),!0)}),DA=t=>ku(t,e=>{let n=t.lineBlockAt(e).from;return xu(t,e>n?n:Math.max(0,e-1),!1)}),TA=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=t.changeByRange(r=>({changes:{from:r.from,to:r.to,insert:Q.of(["",""])},range:E.cursor(r.from)}));return e(t.update(n,{scrollIntoView:!0,userEvent:"input"})),!0},RA=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=t.changeByRange(r=>{if(!r.empty||r.from==0||r.from==t.doc.length)return{range:r};let i=r.from,s=t.doc.lineAt(i),l=i==s.from?i-1:at(s.text,i-s.from,!1)+s.from,o=i==s.to?i+1:at(s.text,i-s.from,!0)+s.from;return{changes:{from:l,to:o,insert:t.doc.slice(i,o).append(t.doc.slice(l,i))},range:E.cursor(o)}});return n.changes.empty?!1:(e(t.update(n,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function Cu(t){let e=[],n=-1;for(let r of t.selection.ranges){let i=t.doc.lineAt(r.from),s=t.doc.lineAt(r.to);if(!r.empty&&r.to==s.from&&(s=t.doc.lineAt(r.to-1)),n>=i.number){let l=e[e.length-1];l.to=s.to,l.ranges.push(r)}else e.push({from:i.from,to:s.to,ranges:[r]});n=s.number+1}return e}function uv(t,e,n){if(t.readOnly)return!1;let r=[],i=[];for(let s of Cu(t)){if(n?s.to==t.doc.length:s.from==0)continue;let l=t.doc.lineAt(n?s.to+1:s.from-1),o=l.length+1;if(n){r.push({from:s.to,to:l.to},{from:s.from,insert:l.text+t.lineBreak});for(let u of s.ranges)i.push(E.range(Math.min(t.doc.length,u.anchor+o),Math.min(t.doc.length,u.head+o)))}else{r.push({from:l.from,to:s.from},{from:s.to,insert:t.lineBreak+l.text});for(let u of s.ranges)i.push(E.range(u.anchor-o,u.head-o))}}return r.length?(e(t.update({changes:r,scrollIntoView:!0,selection:E.create(i,t.selection.mainIndex),userEvent:"move.line"})),!0):!1}const NA=({state:t,dispatch:e})=>uv(t,e,!1),LA=({state:t,dispatch:e})=>uv(t,e,!0);function av(t,e,n){if(t.readOnly)return!1;let r=[];for(let i of Cu(t))n?r.push({from:i.from,insert:t.doc.slice(i.from,i.to)+t.lineBreak}):r.push({from:i.to,insert:t.lineBreak+t.doc.slice(i.from,i.to)});return e(t.update({changes:r,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const BA=({state:t,dispatch:e})=>av(t,e,!1),IA=({state:t,dispatch:e})=>av(t,e,!0),zA=t=>{if(t.state.readOnly)return!1;let{state:e}=t,n=e.changes(Cu(e).map(({from:i,to:s})=>(i>0?i--:s<e.doc.length&&s++,{from:i,to:s}))),r=yi(e.selection,i=>t.moveVertically(i,!0)).map(n);return t.dispatch({changes:n,selection:r,scrollIntoView:!0,userEvent:"delete.line"}),!0};function _A(t,e){if(/\(\)|\[\]|\{\}/.test(t.sliceDoc(e-1,e+1)))return{from:e,to:e};let n=dt(t).resolveInner(e),r=n.childBefore(e),i=n.childAfter(e),s;return r&&i&&r.to<=e&&i.from>=e&&(s=r.type.prop(V.closedBy))&&s.indexOf(i.name)>-1&&t.doc.lineAt(r.to).from==t.doc.lineAt(i.from).from?{from:r.to,to:i.from}:null}const FA=fv(!1),$A=fv(!0);function fv(t){return({state:e,dispatch:n})=>{if(e.readOnly)return!1;let r=e.changeByRange(i=>{let{from:s,to:l}=i,o=e.doc.lineAt(s),u=!t&&s==l&&_A(e,s);t&&(s=l=(l<=o.to?o:e.doc.lineAt(l)).to);let a=new mu(e,{simulateBreak:s,simulateDoubleBreak:!!u}),f=A1(a,s);for(f==null&&(f=/^\s*/.exec(e.doc.lineAt(s).text)[0].length);l<o.to&&/\s/.test(o.text[l-o.from]);)l++;u?{from:s,to:l}=u:s>o.from&&s<o.from+100&&!/\S/.test(o.text.slice(0,s))&&(s=o.from);let c=["",Co(e,f)];return u&&c.push(Co(e,a.lineIndent(o.from,-1))),{changes:{from:s,to:l,insert:Q.of(c)},range:E.cursor(s+1+c[1].length)}});return n(e.update(r,{scrollIntoView:!0,userEvent:"input"})),!0}}function Dh(t,e){let n=-1;return t.changeByRange(r=>{let i=[];for(let l=r.from;l<=r.to;){let o=t.doc.lineAt(l);o.number>n&&(r.empty||r.to>o.from)&&(e(o,i,r),n=o.number),l=o.to+1}let s=t.changes(i);return{changes:i,range:E.range(s.mapPos(r.anchor,1),s.mapPos(r.head,1))}})}const VA=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=Object.create(null),r=new mu(t,{overrideIndentation:s=>{let l=n[s];return l==null?-1:l}}),i=Dh(t,(s,l,o)=>{let u=A1(r,s.from);if(u==null)return;/\S/.test(s.text)||(u=0);let a=/^\s*/.exec(s.text)[0],f=Co(t,u);(a!=f||o.from<s.from+a.length)&&(n[s.from]=u,l.push({from:s.from,to:s.from+a.length,insert:f}))});return i.changes.empty||e(t.update(i,{userEvent:"indent"})),!0},cv=({state:t,dispatch:e})=>t.readOnly?!1:(e(t.update(Dh(t,(n,r)=>{r.push({from:n.from,insert:t.facet(Eh)})}),{userEvent:"input.indent"})),!0),jA=({state:t,dispatch:e})=>t.readOnly?!1:(e(t.update(Dh(t,(n,r)=>{let i=/^\s*/.exec(n.text)[0];if(!i)return;let s=mh(i,t.tabSize),l=0,o=Co(t,Math.max(0,s-Sr(t)));for(;l<i.length&&l<o.length&&i.charCodeAt(l)==o.charCodeAt(l);)l++;r.push({from:n.from+l,to:n.from+i.length,insert:o.slice(l)})}),{userEvent:"delete.dedent"})),!0),CE=({state:t,dispatch:e})=>t.selection.ranges.some(n=>!n.empty)?cv({state:t,dispatch:e}):(e(t.update(t.replaceSelection("	"),{scrollIntoView:!0,userEvent:"input"})),!0),WA=[{key:"Ctrl-b",run:j1,shift:J1,preventDefault:!0},{key:"Ctrl-f",run:W1,shift:Y1},{key:"Ctrl-p",run:K1,shift:ev},{key:"Ctrl-n",run:G1,shift:tv},{key:"Ctrl-a",run:mA,shift:CA},{key:"Ctrl-e",run:gA,shift:AA},{key:"Ctrl-d",run:iv},{key:"Ctrl-h",run:rc},{key:"Ctrl-k",run:ov},{key:"Ctrl-Alt-h",run:lv},{key:"Ctrl-o",run:TA},{key:"Ctrl-t",run:RA},{key:"Ctrl-v",run:nc}],HA=[{key:"ArrowLeft",run:j1,shift:J1,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:fA,shift:wA},{mac:"Cmd-ArrowLeft",run:mm,shift:wm},{key:"ArrowRight",run:W1,shift:Y1,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:cA,shift:SA},{mac:"Cmd-ArrowRight",run:pm,shift:vm},{key:"ArrowUp",run:K1,shift:ev,preventDefault:!0},{mac:"Cmd-ArrowUp",run:Sm,shift:xm},{mac:"Ctrl-ArrowUp",run:dm,shift:gm},{key:"ArrowDown",run:G1,shift:tv,preventDefault:!0},{mac:"Cmd-ArrowDown",run:km,shift:Cm},{mac:"Ctrl-ArrowDown",run:nc,shift:ym},{key:"PageUp",run:dm,shift:gm},{key:"PageDown",run:nc,shift:ym},{key:"Home",run:mm,shift:wm,preventDefault:!0},{key:"Mod-Home",run:Sm,shift:xm},{key:"End",run:pm,shift:vm,preventDefault:!0},{key:"Mod-End",run:km,shift:Cm},{key:"Enter",run:FA},{key:"Mod-a",run:EA},{key:"Backspace",run:rc,shift:rc},{key:"Delete",run:iv},{key:"Mod-Backspace",mac:"Alt-Backspace",run:lv},{key:"Mod-Delete",mac:"Alt-Delete",run:bA},{mac:"Mod-Backspace",run:DA},{mac:"Mod-Delete",run:ov}].concat(WA.map(t=>({mac:t.key,run:t.run,shift:t.shift}))),AE=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:dA,shift:kA},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:pA,shift:xA},{key:"Alt-ArrowUp",run:NA},{key:"Shift-Alt-ArrowUp",run:BA},{key:"Alt-ArrowDown",run:LA},{key:"Shift-Alt-ArrowDown",run:IA},{key:"Escape",run:MA},{key:"Mod-Enter",run:$A},{key:"Alt-l",mac:"Ctrl-l",run:PA},{key:"Mod-i",run:OA,preventDefault:!0},{key:"Mod-[",run:jA},{key:"Mod-]",run:cv},{key:"Mod-Alt-\\",run:VA},{key:"Shift-Mod-k",run:zA},{key:"Shift-Mod-\\",run:vA},{key:"Mod-/",run:KC},{key:"Alt-A",run:QC}].concat(HA),Eo={brackets:["(","[","{","'",'"'],before:")]}:;>"},lr=ge.define({map(t,e){let n=e.mapPos(t,-1,Ye.TrackAfter);return n==null?void 0:n}}),Th=ge.define({map(t,e){return e.mapPos(t)}}),Rh=new class extends yr{};Rh.startSide=1;Rh.endSide=-1;const hv=gn.define({create(){return X.empty},update(t,e){if(e.selection){let n=e.state.doc.lineAt(e.selection.main.head).from,r=e.startState.doc.lineAt(e.startState.selection.main.head).from;n!=e.changes.mapPos(r,-1)&&(t=X.empty)}t=t.map(e.changes);for(let n of e.effects)n.is(lr)?t=t.update({add:[Rh.range(n.value,n.value+1)]}):n.is(Th)&&(t=t.update({filter:r=>r!=n.value}));return t}});function EE(){return[KA,hv]}const xa="()[]{}<>";function dv(t){for(let e=0;e<xa.length;e+=2)if(xa.charCodeAt(e)==t)return xa.charAt(e+1);return cx(t<128?t:t+1)}function pv(t,e){return t.languageDataAt("closeBrackets",e)[0]||Eo}const UA=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),KA=j.inputHandler.of((t,e,n,r)=>{if((UA?t.composing:t.compositionStarted)||t.state.readOnly)return!1;let i=t.state.selection.main;if(r.length>2||r.length==2&&xs(Fn(r,0))==1||e!=i.from||n!=i.to)return!1;let s=QA(t.state,r);return s?(t.dispatch(s),!0):!1}),GA=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let r=pv(t,t.selection.main.head).brackets||Eo.brackets,i=null,s=t.changeByRange(l=>{if(l.empty){let o=qA(t.doc,l.head);for(let u of r)if(u==o&&Au(t.doc,l.head)==dv(Fn(u,0)))return{changes:{from:l.head-u.length,to:l.head+u.length},range:E.cursor(l.head-u.length),userEvent:"delete.backward"}}return{range:i=l}});return i||e(t.update(s,{scrollIntoView:!0})),!i},PE=[{key:"Backspace",run:GA}];function QA(t,e){let n=pv(t,t.selection.main.head),r=n.brackets||Eo.brackets;for(let i of r){let s=dv(Fn(i,0));if(e==i)return s==i?XA(t,i,r.indexOf(i+i+i)>-1):JA(t,i,s,n.before||Eo.before);if(e==s&&mv(t,t.selection.main.from))return YA(t,i,s)}return null}function mv(t,e){let n=!1;return t.field(hv).between(0,t.doc.length,r=>{r==e&&(n=!0)}),n}function Au(t,e){let n=t.sliceString(e,e+2);return n.slice(0,xs(Fn(n,0)))}function qA(t,e){let n=t.sliceString(e-2,e);return xs(Fn(n,0))==n.length?n:n.slice(1)}function JA(t,e,n,r){let i=null,s=t.changeByRange(l=>{if(!l.empty)return{changes:[{insert:e,from:l.from},{insert:n,from:l.to}],effects:lr.of(l.to+e.length),range:E.range(l.anchor+e.length,l.head+e.length)};let o=Au(t.doc,l.head);return!o||/\s/.test(o)||r.indexOf(o)>-1?{changes:{insert:e+n,from:l.head},effects:lr.of(l.head+e.length),range:E.cursor(l.head+e.length)}:{range:i=l}});return i?null:t.update(s,{scrollIntoView:!0,userEvent:"input.type"})}function YA(t,e,n){let r=null,i=t.selection.ranges.map(s=>s.empty&&Au(t.doc,s.head)==n?E.cursor(s.head+n.length):r=s);return r?null:t.update({selection:E.create(i,t.selection.mainIndex),scrollIntoView:!0,effects:t.selection.ranges.map(({from:s})=>Th.of(s))})}function XA(t,e,n){let r=null,i=t.changeByRange(s=>{if(!s.empty)return{changes:[{insert:e,from:s.from},{insert:e,from:s.to}],effects:lr.of(s.to+e.length),range:E.range(s.anchor+e.length,s.head+e.length)};let l=s.head,o=Au(t.doc,l);if(o==e){if(Am(t,l))return{changes:{insert:e+e,from:l},effects:lr.of(l+e.length),range:E.cursor(l+e.length)};if(mv(t,l)){let u=n&&t.sliceDoc(l,l+e.length*3)==e+e+e;return{range:E.cursor(l+e.length*(u?3:1)),effects:Th.of(l)}}}else{if(n&&t.sliceDoc(l-2*e.length,l)==e+e&&Am(t,l-2*e.length))return{changes:{insert:e+e+e+e,from:l},effects:lr.of(l+e.length),range:E.cursor(l+e.length)};if(t.charCategorizer(l)(o)!=Nt.Word){let u=t.sliceDoc(l-1,l);if(u!=e&&t.charCategorizer(l)(u)!=Nt.Word&&!ZA(t,l,e))return{changes:{insert:e+e,from:l},effects:lr.of(l+e.length),range:E.cursor(l+e.length)}}}return{range:r=s}});return r?null:t.update(i,{scrollIntoView:!0,userEvent:"input.type"})}function Am(t,e){let n=dt(t).resolveInner(e+1);return n.parent&&n.from==e}function ZA(t,e,n){let r=dt(t).resolveInner(e,-1);for(let i=0;i<5;i++){if(t.sliceDoc(r.from,r.from+n.length)==n)return!0;let s=r.to==e&&r.parent;if(!s)break;r=s}return!1}try{self["workbox:window:6.5.2"]&&_()}catch{}function Em(t,e){return new Promise(function(n){var r=new MessageChannel;r.port1.onmessage=function(i){n(i.data)},t.postMessage(e,[r.port2])})}function eE(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Pm(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function tE(t,e){var n;if(typeof Symbol=="undefined"||t[Symbol.iterator]==null){if(Array.isArray(t)||(n=function(i,s){if(i){if(typeof i=="string")return Pm(i,s);var l=Object.prototype.toString.call(i).slice(8,-1);return l==="Object"&&i.constructor&&(l=i.constructor.name),l==="Map"||l==="Set"?Array.from(i):l==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l)?Pm(i,s):void 0}}(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}return(n=t[Symbol.iterator]()).next.bind(n)}try{self["workbox:core:6.5.2"]&&_()}catch{}var Ca=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})};function Aa(t,e){var n=location.href;return new URL(t,n).href===new URL(e,n).href}var Ri=function(t,e){this.type=t,Object.assign(this,e)};function ml(t,e,n){return n?e?e(t):t:(t&&t.then||(t=Promise.resolve(t)),e?t.then(e):t)}function nE(){}var rE={type:"SKIP_WAITING"};function Om(t,e){if(!e)return t&&t.then?t.then(nE):Promise.resolve()}var OE=function(t){var e,n;function r(o,u){var a,f;return u===void 0&&(u={}),(a=t.call(this)||this).nn={},a.tn=0,a.rn=new Ca,a.en=new Ca,a.on=new Ca,a.un=0,a.an=new Set,a.cn=function(){var c=a.fn,h=c.installing;a.tn>0||!Aa(h.scriptURL,a.sn.toString())||performance.now()>a.un+6e4?(a.vn=h,c.removeEventListener("updatefound",a.cn)):(a.hn=h,a.an.add(h),a.rn.resolve(h)),++a.tn,h.addEventListener("statechange",a.ln)},a.ln=function(c){var h=a.fn,d=c.target,p=d.state,v=d===a.vn,S={sw:d,isExternal:v,originalEvent:c};!v&&a.mn&&(S.isUpdate=!0),a.dispatchEvent(new Ri(p,S)),p==="installed"?a.wn=self.setTimeout(function(){p==="installed"&&h.waiting===d&&a.dispatchEvent(new Ri("waiting",S))},200):p==="activating"&&(clearTimeout(a.wn),v||a.en.resolve(d))},a.dn=function(c){var h=a.hn,d=h!==navigator.serviceWorker.controller;a.dispatchEvent(new Ri("controlling",{isExternal:d,originalEvent:c,sw:h,isUpdate:a.mn})),d||a.on.resolve(h)},a.gn=(f=function(c){var h=c.data,d=c.ports,p=c.source;return ml(a.getSW(),function(){a.an.has(p)&&a.dispatchEvent(new Ri("message",{data:h,originalEvent:c,ports:d,sw:p}))})},function(){for(var c=[],h=0;h<arguments.length;h++)c[h]=arguments[h];try{return Promise.resolve(f.apply(this,c))}catch(d){return Promise.reject(d)}}),a.sn=o,a.nn=u,navigator.serviceWorker.addEventListener("message",a.gn),a}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var i,s,l=r.prototype;return l.register=function(o){var u=(o===void 0?{}:o).immediate,a=u!==void 0&&u;try{var f=this;return function(c,h){var d=c();return d&&d.then?d.then(h):h(d)}(function(){if(!a&&document.readyState!=="complete")return Om(new Promise(function(c){return window.addEventListener("load",c)}))},function(){return f.mn=Boolean(navigator.serviceWorker.controller),f.yn=f.pn(),ml(f.bn(),function(c){f.fn=c,f.yn&&(f.hn=f.yn,f.en.resolve(f.yn),f.on.resolve(f.yn),f.yn.addEventListener("statechange",f.ln,{once:!0}));var h=f.fn.waiting;return h&&Aa(h.scriptURL,f.sn.toString())&&(f.hn=h,Promise.resolve().then(function(){f.dispatchEvent(new Ri("waiting",{sw:h,wasWaitingBeforeRegister:!0}))}).then(function(){})),f.hn&&(f.rn.resolve(f.hn),f.an.add(f.hn)),f.fn.addEventListener("updatefound",f.cn),navigator.serviceWorker.addEventListener("controllerchange",f.dn),f.fn})})}catch(c){return Promise.reject(c)}},l.update=function(){try{return this.fn?Om(this.fn.update()):void 0}catch(o){return Promise.reject(o)}},l.getSW=function(){return this.hn!==void 0?Promise.resolve(this.hn):this.rn.promise},l.messageSW=function(o){try{return ml(this.getSW(),function(u){return Em(u,o)})}catch(u){return Promise.reject(u)}},l.messageSkipWaiting=function(){this.fn&&this.fn.waiting&&Em(this.fn.waiting,rE)},l.pn=function(){var o=navigator.serviceWorker.controller;return o&&Aa(o.scriptURL,this.sn.toString())?o:void 0},l.bn=function(){try{var o=this;return function(u,a){try{var f=u()}catch(c){return a(c)}return f&&f.then?f.then(void 0,a):f}(function(){return ml(navigator.serviceWorker.register(o.sn,o.nn),function(u){return o.un=performance.now(),u})},function(u){throw u})}catch(u){return Promise.reject(u)}},i=r,(s=[{key:"active",get:function(){return this.en.promise}},{key:"controlling",get:function(){return this.on.promise}}])&&eE(i.prototype,s),r}(function(){function t(){this.Pn=new Map}var e=t.prototype;return e.addEventListener=function(n,r){this.Sn(n).add(r)},e.removeEventListener=function(n,r){this.Sn(n).delete(r)},e.dispatchEvent=function(n){n.target=this;for(var r,i=tE(this.Sn(n.type));!(r=i()).done;)(0,r.value)(n)},e.Sn=function(n){return this.Pn.has(n)||this.Pn.set(n,new Set),this.Pn.get(n)},t}());export{Cr as A,dE as B,kE as C,he as D,H as E,lE as F,wr as G,EE as H,H2 as I,PE as J,AE as K,vE as L,xE as M,OE as N,Em as O,Ih as P,Tv as Q,X as R,ge as S,oE as T,aE as a,Ol as b,hE as c,_k as d,fE as e,sE as f,cE as g,iE as h,uc as i,xk as j,j as k,gn as l,I as m,dh as n,mE as o,M1 as p,SE as q,it as r,wE as s,Eh as t,uE as u,C1 as v,pE as w,gE as x,CE as y,jA as z};
